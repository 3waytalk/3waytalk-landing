"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e);var t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){var e=document.querySelector(".header"),t=document.querySelector(".clock");$(".landing").fullpage({sectionSelector:".landing__section",navigation:!0,afterRender:this.recountSlides.bind(this),afterResize:this.recountSlides.bind(this),onLeave:function(n,o,i){1==o?e.classList.toggle("header_open",!1):e.classList.toggle("header_open",!0),6==o?t.classList.toggle("clock_visible",!0):t.classList.toggle("clock_visible",!1)}}),document.querySelector(".footer__top").addEventListener("click",this.scrollToTop.bind(this))}},{key:"recountSlides",value:function(){var e=document.querySelector(".clock"),t=document.querySelector(".fp-slidesContainer"),n=t.querySelector(".slide__title"),o=t.querySelector(".slide__text"),i=Math.min(t.offsetHeight-n.offsetHeight-o.offsetHeight+90,702),r=i/702;t.offsetWidth<=750?(e.style[Modernizr.prefixed("transform")]="scale("+r+")",e.style.margin="0 0 0 -"+e.offsetWidth*r*.33+"px"):e.removeAttribute("style")}},{key:"scrollToTop",value:function(e){e.preventDefault(),$.fn.fullpage.moveTo(1,0)}}]),e}();new e}();
"use strict";function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function i(i,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}return function(e,n,o){return n&&i(e.prototype,n),o&&i(e,o),e}}();!function(){window.mobileAndTabletcheck=function(){var i=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(i=!0)}(navigator.userAgent||navigator.vendor||window.opera),i},window.isMobile={Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},Windows:function(){return/IEMobile/i.test(navigator.userAgent)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Windows()}};var i=function(){function i(){_classCallCheck(this,i);var e=new Promise(function(i,e){return"loading"!=document.readyState?i():void document.addEventListener("DOMContentLoaded",function(){return i()})});e.then(this.init.bind(this))}return _createClass(i,[{key:"init",value:function(){window.isMobile.Android()?document.body.parentNode.classList.add("android"):window.isMobile.iOS()?document.body.parentNode.classList.add("ios"):window.mobileAndTabletcheck()?document.body.parentNode.classList.add("unknown-mobile"):document.body.parentNode.classList.add("desktop")}}]),i}();new i}();
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(){var t=function(){function t(){_classCallCheck(this,t);var e=new Promise(function(t,e){return"loading"!=document.readyState?t():void document.addEventListener("DOMContentLoaded",function(){return t()})});e.then(this.init.bind(this))}return _createClass(t,[{key:"init",value:function(){var t=this,e=document.querySelectorAll(".login__back");this.login_button=document.querySelector(".menu__login"),this.register_button=document.querySelector(".menu__register"),this.recovery_button=document.querySelector(".login__password-recovery"),this.lightbox=document.querySelector("body>.lightbox"),this.login_popup=document.querySelector(".login_login"),this.recovery=document.querySelector(".login_recovery"),this.recovery_form=this.recovery.querySelector(".login__form"),this.email=document.querySelector(".login_email"),this.success=document.querySelector(".login_success"),this.current=null,this.last=null,this.login_button.addEventListener("click",this.openLoginForm.bind(this)),this.recovery_button.addEventListener("click",this.openRecovery.bind(this)),this.lightbox.addEventListener("click",this.closeAll.bind(this)),this.recovery_form.addEventListener("submit",this.sendRecoveryData.bind(this)),[].forEach.call(e,function(e){e.addEventListener("click",t.goback.bind(t))})}},{key:"sendRecoveryData",value:function(t){var e=this;t.preventDefault();try{!function(){var t=4,i=200,n=new XMLHttpRequest,o=new Promise(function(o,r){n.open("POST",e.recovery_form.getAttribute("action")),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify({email:e.recovery_form.querySelector('[name="email"]')})),n.onreadystatechange=function(){n.readyState===t&&(e.recovery_form.reset(),n.status===i?o():r({code:parseInt(n.status,10),message:n.statusText}))}});o.then(e.showMessage.bind(e))["catch"](function(t){console.log(t.code,"Responce status code: "+t.code+". "+t.message+"."),e.showMessage()})}()}catch(i){console.log("error: ",i)}}},{key:"showMessage",value:function(){var t={right:-300},e={duration:250};Velocity(this.recovery,t,e),t={right:0},e={duration:250},Velocity(this.email,t,e),this.last=this.login_popup,this.current=this.email}},{key:"goback",value:function(){var t={right:-300},e={duration:250},i=this.last,n=this.current;Velocity(this.current,t,e),t={right:0},e={duration:250},Velocity(this.last,t,e),this.last=n,this.current=i}},{key:"emailHaveSend",value:function(){var t={right:-300},e={duration:250};Velocity(this.current,t,e),t={right:0},e={duration:250},Velocity(this.email,t,e),this.last=this.current,this.current=this.email}},{key:"openRecovery",value:function(){var t={right:-300},e={duration:250};Velocity(this.current,t,e),t={right:0},e={duration:250},Velocity(this.recovery,t,e),this.last=this.current,this.current=this.recovery}},{key:"closeAll",value:function(){var t=this,e={right:-300},i={duration:250};Velocity(this.current,e,i),this.current=null,e={opacity:0},i={complete:function(){t.lightbox.style.display="none"},duration:250},Velocity(this.lightbox,e,i)}},{key:"openLoginForm",value:function(t){var e=this;t.preventDefault();var i={right:0},n={duration:250};Velocity(this.login_popup,i,n),this.current=this.login_popup,i={opacity:1},n={begin:function(){e.lightbox.style.display="block"},duration:250},Velocity(this.lightbox,i,n)}}]),t}();new t}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxhbmRpbmcvbGFuZGluZy5qcyIsImxheW91dC9sYXlvdXQuanMiLCJsb2dpbi9sb2dpbi5qcyJdLCJuYW1lcyI6WyJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIkxhbmRnaW5nIiwidGhpcyIsInJlYWR5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJkb2N1bWVudCIsInJlYWR5U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwidGhlbiIsImluaXQiLCJiaW5kIiwidmFsdWUiLCJoZWFkZXIiLCJxdWVyeVNlbGVjdG9yIiwiY2xvY2siLCIkIiwiZnVsbHBhZ2UiLCJzZWN0aW9uU2VsZWN0b3IiLCJuYXZpZ2F0aW9uIiwiYWZ0ZXJSZW5kZXIiLCJyZWNvdW50U2xpZGVzIiwiYWZ0ZXJSZXNpemUiLCJvbkxlYXZlIiwiaW5kZXgiLCJuZXh0SW5kZXgiLCJkaXJlY3Rpb24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJzY3JvbGxUb1RvcCIsImNsb2NrX3NsaWRlIiwidGl0bGUiLCJ0ZXh0IiwiaGVpZ2h0IiwiTWF0aCIsIm1pbiIsIm9mZnNldEhlaWdodCIsInBlcmMiLCJvZmZzZXRXaWR0aCIsInN0eWxlIiwiTW9kZXJuaXpyIiwicHJlZml4ZWQiLCJtYXJnaW4iLCJyZW1vdmVBdHRyaWJ1dGUiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm4iLCJtb3ZlVG8iLCJ3aW5kb3ciLCJtb2JpbGVBbmRUYWJsZXRjaGVjayIsImNoZWNrIiwiYSIsInRlc3QiLCJzdWJzdHIiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ2ZW5kb3IiLCJvcGVyYSIsImlzTW9iaWxlIiwiQW5kcm9pZCIsIkJsYWNrQmVycnkiLCJpT1MiLCJXaW5kb3dzIiwiYW55IiwiTGF5b3V0IiwiYm9keSIsInBhcmVudE5vZGUiLCJhZGQiLCJNZW51IiwiX3RoaXMiLCJiYWNrX2J1dHRvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibG9naW5fYnV0dG9uIiwicmVnaXN0ZXJfYnV0dG9uIiwicmVjb3ZlcnlfYnV0dG9uIiwibGlnaHRib3giLCJsb2dpbl9wb3B1cCIsInJlY292ZXJ5IiwicmVjb3ZlcnlfZm9ybSIsImVtYWlsIiwic3VjY2VzcyIsImN1cnJlbnQiLCJsYXN0Iiwib3BlbkxvZ2luRm9ybSIsIm9wZW5SZWNvdmVyeSIsImNsb3NlQWxsIiwic2VuZFJlY292ZXJ5RGF0YSIsImZvckVhY2giLCJjYWxsIiwiYnV0dG9uIiwiZ29iYWNrIiwiX3RoaXMyIiwiRE9ORSIsIk9LIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJsb2FkZWQiLCJvcGVuIiwiZ2V0QXR0cmlidXRlIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVzZXQiLCJzdGF0dXMiLCJjb2RlIiwicGFyc2VJbnQiLCJtZXNzYWdlIiwic3RhdHVzVGV4dCIsInNob3dNZXNzYWdlIiwicmVhc29uIiwiY29uc29sZSIsImxvZyIsImVyciIsInJpZ2h0Iiwib3B0aW9ucyIsImR1cmF0aW9uIiwiVmVsb2NpdHkiLCJ0bXBfbGFzdCIsInRtcF9jdXJyZW50IiwiX3RoaXMzIiwib3BhY2l0eSIsImNvbXBsZXRlIiwiZGlzcGxheSIsIl90aGlzNCIsImJlZ2luIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUlBLFNBQVNBLGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUZoSCxHQUFJQyxjQUFlLFdBQWUsUUFBU0MsR0FB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RixJQUFLLGVBQ0xnQixNQXZCUyxXQUNULEdBQUl6QixJQUNJZ0ksTUFBTyxNQUVYQyxHQUNJQyxTQUFVLElBR2xCQyxVQUFTckgsS0FBS2dGLFFBQVM5RixFQUFPaUksR0FDOUJqSSxHQUNRZ0ksTUFBTyxHQUVYQyxHQUNJQyxTQUFVLEtBR2xCQyxTQUFTckgsS0FBSzRFLFNBQVUxRixFQUFPaUksR0FFL0JuSCxLQUFLaUYsS0FBT2pGLEtBQUtnRixRQUNqQmhGLEtBQUtnRixRQUFVaEYsS0FBSzRFLFlBNkJwQmpGLElBQUssV0FDTGdCLE1BeEJLLFdBeUJELEdBQUk2RyxHQUFTeEgsS0F2QmJkLEdBQ0lnSSxNQUFPLE1BRVhDLEdBQ0lDLFNBQVUsSUFHbEJDLFVBQVNySCxLQUFLZ0YsUUFBUzlGLEVBQU9pSSxHQUM5Qm5ILEtBQUtnRixRQUFVLEtBRWY5RixHQUNRdUksUUFBUyxHQUViTixHQUNJTyxTQUFVLFdBQ05GLEVBQUs5QyxTQUFTcEMsTUFBTXFGLFFBQVUsUUFFbENQLFNBQVUsS0FHbEJDLFNBQVNySCxLQUFLMEUsU0FBVXhGLEVBQU9pSSxNQStCL0J4SCxJQUFLLGdCQUNMZ0IsTUExQlUsU0FBQ2dDLEdBMkJQLEdBQUlpRixHQUFTNUgsSUExQmpCMkMsR0FBTUMsZ0JBRU4sSUFBSTFELElBQ0lnSSxNQUFPLEdBRVhDLEdBQ0lDLFNBQVUsSUFHbEJDLFVBQVNySCxLQUFLMkUsWUFBYXpGLEVBQU9pSSxHQUNsQ25ILEtBQUtnRixRQUFVaEYsS0FBSzJFLFlBRXBCekYsR0FDUXVJLFFBQVMsR0FFYk4sR0FDSVUsTUFBTyxXQUNIRCxFQUFLbEQsU0FBU3BDLE1BQU1xRixRQUFVLFNBRWxDUCxTQUFVLEtBR2xCQyxTQUFTckgsS0FBSzBFLFNBQVV4RixFQUFPaUksT0FwUGpDaEQsSUF1UFIsSUFBSUEiLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGNsYXNzIExhbmRnaW5nIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTdGFydCBpbml0aWFsaXphdGlvbiBvbiBkb21sb2FkXG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IgKCkge1xuICAgICAgICAgICAgbGV0IHJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKT0+IHJlc29sdmUoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlYWR5LnRoZW4odGhpcy5pbml0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRpbmcgZXZlbnRzIGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqL1xuICAgICAgICBpbml0ICgpIHtcbiAgICAgICAgICAgIGxldCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJylcbiAgICAgICAgICAgICAgICAsIGNsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb2NrJyk7XG4gICAgICAgICAgICAkKFwiLmxhbmRpbmdcIikuZnVsbHBhZ2Uoe1xuICAgICAgICAgICAgICAgIHNlY3Rpb25TZWxlY3RvcjogXCIubGFuZGluZ19fc2VjdGlvblwiXG4gICAgICAgICAgICAgICAgLCBuYXZpZ2F0aW9uOiB0cnVlXG4gICAgICAgICAgICAgICAgLCBhZnRlclJlbmRlcjogdGhpcy5yZWNvdW50U2xpZGVzLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICAsIGFmdGVyUmVzaXplOiB0aGlzLnJlY291bnRTbGlkZXMuYmluZCh0aGlzKVxuICAgICAgICAgICAgICAgICwgb25MZWF2ZTogKCBpbmRleCwgbmV4dEluZGV4LCBkaXJlY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYobmV4dEluZGV4ID09IDEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlcl9vcGVuJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlcl9vcGVuJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZihuZXh0SW5kZXggPT0gNil7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9jay5jbGFzc0xpc3QudG9nZ2xlKCdjbG9ja192aXNpYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9jay5jbGFzc0xpc3QudG9nZ2xlKCdjbG9ja192aXNpYmxlJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9fdG9wXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnNjcm9sbFRvVG9wLmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cblxuICAgICAgICByZWNvdW50U2xpZGVzICgpIHtcbiAgICAgICAgICAgIGxldCBjbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9jaycpXG4gICAgICAgICAgICAgICAgLCBjbG9ja19zbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mcC1zbGlkZXNDb250YWluZXInKVxuICAgICAgICAgICAgICAgICwgdGl0bGUgPSBjbG9ja19zbGlkZS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVfX3RpdGxlJylcbiAgICAgICAgICAgICAgICAsIHRleHQgPSBjbG9ja19zbGlkZS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVfX3RleHQnKVxuICAgICAgICAgICAgICAgICwgaGVpZ2h0ID0gTWF0aC5taW4oY2xvY2tfc2xpZGUub2Zmc2V0SGVpZ2h0IC0gdGl0bGUub2Zmc2V0SGVpZ2h0IC0gdGV4dC5vZmZzZXRIZWlnaHQgKyA5MCwgNzAyKVxuICAgICAgICAgICAgICAgICwgcGVyYyA9IGhlaWdodC83MDI7XG5cbiAgICAgICAgICAgIGlmIChjbG9ja19zbGlkZS5vZmZzZXRXaWR0aCA8PSA3NTApIHtcbiAgICAgICAgICAgICAgICBjbG9jay5zdHlsZVtNb2Rlcm5penIucHJlZml4ZWQoJ3RyYW5zZm9ybScpXSA9ICdzY2FsZSgnKyBwZXJjICsnKSc7XG4gICAgICAgICAgICAgICAgY2xvY2suc3R5bGUubWFyZ2luID0gXCIwIDAgMCAtXCIrKGNsb2NrLm9mZnNldFdpZHRoKnBlcmMpKjAuMzMrXCJweFwiO1xuICAgICAgICAgICAgICAgIC8vIGNsb2NrLnN0eWxlLmJhY2tncm91bmQgPSAncmVkJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xvY2sucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuXG4gICAgICAgIHNjcm9sbFRvVG9wIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2UubW92ZVRvKDEsMCk7XG4gICAgICAgIH1cbiAgICB9XG4gIG5ldyBMYW5kZ2luZztcbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uICgpIHtcbiAgICB3aW5kb3cubW9iaWxlQW5kVGFibGV0Y2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNoZWNrID0gZmFsc2U7XG4gICAgICAgIChmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICBpZiAoLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWlub3xhbmRyb2lkfGlwYWR8cGxheWJvb2t8c2lsay9pLnRlc3QoYSkgfHwgLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChhLnN1YnN0cigwLCA0KSkpIGNoZWNrID0gdHJ1ZVxuICAgICAgICB9KShuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgd2luZG93Lm9wZXJhKTtcbiAgICAgICAgcmV0dXJuIGNoZWNrO1xuICAgIH07XG5cbiAgICB3aW5kb3cuaXNNb2JpbGUgPSB7XG4gICAgICAgIEFuZHJvaWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9BbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgQmxhY2tCZXJyeTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL0JsYWNrQmVycnkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgICB9LFxuICAgICAgICBpT1M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9pUGhvbmV8aVBhZHxpUG9kL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgV2luZG93czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL0lFTW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgYW55OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAoaXNNb2JpbGUuQW5kcm9pZCgpIHx8IGlzTW9iaWxlLkJsYWNrQmVycnkoKSB8fCBpc01vYmlsZS5pT1MoKSB8fCBpc01vYmlsZS5XaW5kb3dzKCkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNsYXNzIExheW91dCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU3RhcnQgaW5pdGlhbGl6YXRpb24gb24gZG9tbG9hZFxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT0gXCJsb2FkaW5nXCIpIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCk9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZWFkeS50aGVuKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5pdCAoKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LmlzTW9iaWxlLkFuZHJvaWQoKSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdhbmRyb2lkJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5pc01vYmlsZS5pT1MoKSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdpb3MnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93Lm1vYmlsZUFuZFRhYmxldGNoZWNrKCkpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgndW5rbm93bi1tb2JpbGUnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2Rlc2t0b3AnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdhbmRyb2lkJyk7XG4gICAgICAgIH1cbiAgICB9XG4gIG5ldyBMYXlvdXQ7XG59KSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgY2xhc3MgTWVudSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU3RhcnQgaW5pdGlhbGl6YXRpb24gb24gZG9tbG9hZFxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT0gXCJsb2FkaW5nXCIpIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCk9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZWFkeS50aGVuKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5pdCAoKSB7XG4gICAgICAgICAgICBsZXQgYmFja19idXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxvZ2luX19iYWNrJyk7XG5cbiAgICAgICAgICAgIHRoaXMubG9naW5fYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnVfX2xvZ2luJyk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyX2J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51X19yZWdpc3RlcicpO1xuICAgICAgICAgICAgdGhpcy5yZWNvdmVyeV9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fX3Bhc3N3b3JkLXJlY292ZXJ5Jyk7XG5cbiAgICAgICAgICAgIHRoaXMubGlnaHRib3ggPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keT4ubGlnaHRib3gnKTtcbiAgICAgICAgICAgIHRoaXMubG9naW5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fbG9naW4nKTtcbiAgICAgICAgICAgIHRoaXMucmVjb3ZlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fcmVjb3ZlcnknKTtcbiAgICAgICAgICAgIHRoaXMucmVjb3ZlcnlfZm9ybSA9IHRoaXMucmVjb3ZlcnkucXVlcnlTZWxlY3RvcignLmxvZ2luX19mb3JtJyk7XG4gICAgICAgICAgICB0aGlzLmVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX2VtYWlsJyk7XG4gICAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fc3VjY2VzcycpO1xuXG5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3QgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLmxvZ2luX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlbkxvZ2luRm9ybS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMucmVjb3ZlcnlfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUmVjb3ZlcnkuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0Ym94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZUFsbC5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgdGhpcy5yZWNvdmVyeV9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuc2VuZFJlY292ZXJ5RGF0YS5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGJhY2tfYnV0dG9ucywgKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZ29iYWNrLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNlbmQgcmVjb3ZlcnkgZGF0YSBhbmQgc2hvdyBtZXNzYWdlXG4gICAgICAgICAqL1xuICAgICAgICBzZW5kUmVjb3ZlcnlEYXRhIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgRE9ORSA9IDRcbiAgICAgICAgICAgICAgICAsIE9LID0gMjAwXG4gICAgICAgICAgICAgICAgLCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuICAgICAgICAgICAgICAgICwgbG9hZGVkID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB4aHIub3BlbignUE9TVCcsIHRoaXMucmVjb3ZlcnlfZm9ybS5nZXRBdHRyaWJ1dGUoJ2FjdGlvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgICAgICAgICAgICAgIHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLnJlY292ZXJ5X2Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJlbWFpbFwiXScpXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gRE9ORSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb3ZlcnlfZm9ybS5yZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSBPSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IHBhcnNlSW50KHhoci5zdGF0dXMsIDEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHhoci5zdGF0dXNUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGxvYWRlZC50aGVuKHRoaXMuc2hvd01lc3NhZ2UuYmluZCh0aGlzKSkuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZWFzb24uY29kZSwgJ1Jlc3BvbmNlIHN0YXR1cyBjb2RlOiAnICsgcmVhc29uLmNvZGUgKyAnLiAnICsgcmVhc29uLm1lc3NhZ2UgKyAnLicpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcjogJywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2hvdyBtZXNzYWdlXG4gICAgICAgICAqL1xuICAgICAgICBzaG93TWVzc2FnZSAoKSB7XG4gICAgICAgICAgICBsZXQgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAtMzAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5yZWNvdmVyeSwgcHJvcHMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5lbWFpbCwgcHJvcHMsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB0aGlzLmxhc3QgPSB0aGlzLmxvZ2luX3BvcHVwO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5lbWFpbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gT3BlbiBsYXN0IHBhZ2VcbiAgICAgICAgICovXG4gICAgICAgIGdvYmFjayAoKSB7XG5cbiAgICAgICAgICAgIGxldCBwcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IC0zMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRtcF9sYXN0ID0gdGhpcy5sYXN0LFxuICAgICAgICAgICAgICAgIHRtcF9jdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmN1cnJlbnQsIHByb3BzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5sYXN0LCBwcm9wcywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHRoaXMubGFzdCA9IHRtcF9jdXJyZW50O1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdG1wX2xhc3Q7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNob3cgZW1haWwgc2VudCB3YXJuaW5nXG4gICAgICAgICAqL1xuICAgICAgICBlbWFpbEhhdmVTZW5kICgpIHtcbiAgICAgICAgICAgIGxldCBwcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IC0zMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmN1cnJlbnQsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICByaWdodDogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMuZW1haWwsIHByb3BzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgdGhpcy5sYXN0ID0gdGhpcy5jdXJyZW50O1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5lbWFpbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gT3BlbiByZWNvdmVyeSBmb3Jtc1xuICAgICAgICAgKi9cbiAgICAgICAgb3BlblJlY292ZXJ5ICgpIHtcbiAgICAgICAgICAgIGxldCBwcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IC0zMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmN1cnJlbnQsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICByaWdodDogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucmVjb3ZlcnksIHByb3BzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgdGhpcy5sYXN0ID0gdGhpcy5jdXJyZW50O1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5yZWNvdmVyeTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ2xvc2UgYWxsIGZvcm1zXG4gICAgICAgICAqL1xuICAgICAgICBjbG9zZUFsbCAoKSB7XG5cbiAgICAgICAgICAgIGxldCBwcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IC0zMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmN1cnJlbnQsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG5cbiAgICAgICAgICAgIHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saWdodGJveC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmxpZ2h0Ym94LCBwcm9wcywgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gbG9naW4gcG9wdXBcbiAgICAgICAgICovXG4gICAgICAgIG9wZW5Mb2dpbkZvcm0gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBsZXQgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5sb2dpbl9wb3B1cCwgcHJvcHMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5sb2dpbl9wb3B1cDtcblxuICAgICAgICAgICAgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZ2luOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0Ym94LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmxpZ2h0Ym94LCBwcm9wcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gIG5ldyBNZW51O1xufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==