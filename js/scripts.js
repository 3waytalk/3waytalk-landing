"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();console.log("landing"),function(){var e=function(){function e(){_classCallCheck(this,e);var t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){var e=this;this.fired=!1;var t=document.querySelector(".header"),i=document.querySelector(".clock");$(".landing").fullpage({sectionSelector:".landing__section",navigation:!0,afterLoad:this.hideLoader.bind(this),afterRender:this.recountSlides.bind(this),afterResize:this.recountSlides.bind(this),onLeave:function(n,o,a){1==o?(t.classList.toggle("header_open",!1),e.hideNav()):(t.classList.toggle("header_open",!0),e.showNav()),6==o?i.classList.toggle("clock_visible",!0):i.classList.toggle("clock_visible",!1)}}),document.querySelector(".footer__top").addEventListener("click",this.scrollToTop.bind(this))}},{key:"hideNav",value:function(){var e=this;Velocity(this.nav,"finish"),Velocity(this.nav,{opacity:0},{duration:300,complete:function(){e.nav.style.display="none"}})}},{key:"showNav",value:function(){var e=this;Velocity(this.nav,"finish"),Velocity(this.nav,{opacity:1},{duration:300,begin:function(){e.nav.style.display="block"}})}},{key:"hideLoader",value:function(){if(!this.fired){this.fired=!0,this.nav=document.getElementById("fp-nav"),this.hideNav();var e=document.querySelector(".loader__wrapper"),t={opacity:0},i={duration:500,complete:function(){e.parentNode.removeChild(e)}};Velocity(e,t,i)}}},{key:"recountSlides",value:function(){var e=document.querySelector(".clock"),t=document.querySelector(".fp-slidesContainer"),i=t.querySelector(".slide__title"),n=t.querySelector(".slide__text"),o=Math.min(t.offsetHeight-i.offsetHeight-n.offsetHeight+90,702),a=o/702;t.offsetWidth<=750?(e.style[Modernizr.prefixed("transform")]="scale("+a+")",e.style.margin="0 0 0 -"+e.offsetWidth*a*.33+"px"):e.removeAttribute("style")}},{key:"scrollToTop",value:function(e){e.preventDefault(),$.fn.fullpage.moveTo(1,0)}}]),e}();new e}();
"use strict";function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function i(i,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(e,o,n){return o&&i(e.prototype,o),n&&i(e,n),e}}();console.log("layout"),function(){window.mobileAndTabletcheck=function(){var i=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(i=!0)}(navigator.userAgent||navigator.vendor||window.opera),i},window.isMobile={Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},Windows:function(){return/IEMobile/i.test(navigator.userAgent)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Windows()}};var i=function(){function i(){_classCallCheck(this,i);var e=new Promise(function(i,e){return"loading"!=document.readyState?i():void document.addEventListener("DOMContentLoaded",function(){return i()})});e.then(this.init.bind(this))}return _createClass(i,[{key:"init",value:function(){window.isMobile.Android()?document.body.parentNode.classList.add("android"):window.isMobile.iOS()?document.body.parentNode.classList.add("ios"):window.mobileAndTabletcheck()?document.body.parentNode.classList.add("unknown-mobile"):document.body.parentNode.classList.add("desktop")}}]),i}();new i}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}();console.log("Menu"),function(){var e=function(){function e(){_classCallCheck(this,e);var t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){var e=this,t=document.querySelectorAll(".login__back"),o=document.querySelectorAll(".login__login-button, .login_success .login__submit");this.menu_popup_open=!1,this.login_button=document.querySelector(".menu__login"),this.register_button=document.querySelector(".menu__register"),this.mobile_popup_button=document.querySelector(".menu__interpreter"),this.mobile_popup=document.querySelector(".popup_mobile"),this.mobile_popup_close=this.mobile_popup.querySelector(".popup__close"),this.wrapper=document.querySelector(".menu__wrapper"),this.header_register_button=document.querySelector(".header__link_register"),this.header_login_button=document.querySelector(".header__link_login"),this.recovery_button=document.querySelector(".login__password-recovery"),this.register_button_inner=document.querySelector(".login__register-button"),this.lightbox=document.querySelector("body>.lightbox"),this.login_popup=document.querySelector(".login_login"),this.recovery=document.querySelector(".login_recovery"),this.register=document.querySelector(".login_register"),this.password=document.querySelector(".login_password"),this.register_back=this.register.querySelector(".login__back"),this.recovery_form=this.recovery.querySelector(".login__form"),this.password_form=this.password.querySelector(".login__form"),this.error_message=document.querySelector(".login_error"),this.email=document.querySelector(".login_email"),this.success=document.querySelector(".login_success"),this.current=document.querySelector(".login_open"),this.last=[],this.login_button.addEventListener("click",this.openLoginForm.bind(this)),this.recovery_button.addEventListener("click",this.openRecovery.bind(this)),this.lightbox.addEventListener("click",this.closeAll.bind(this)),this.register_button.addEventListener("click",this.openRegister.bind(this)),this.register_button_inner.addEventListener("click",this.openRegisterInner.bind(this)),this.recovery_form.addEventListener("submit",this.sendData.bind(this)),this.password_form.addEventListener("submit",this.sendData.bind(this)),this.header_login_button.addEventListener("click",this.openLoginOuter.bind(this)),this.header_register_button.addEventListener("click",this.openLoginOuter.bind(this)),this.mobile_popup_button.addEventListener("click",this.openMobilePopup.bind(this)),this.mobile_popup_close.addEventListener("click",this.closeMobilePopup.bind(this)),window.addEventListener("resize",this.reposPopup.bind(this)),$(".login select").select2(),[].forEach.call(t,function(t){t.addEventListener("click",e.goback.bind(e))}),[].forEach.call(o,function(t){t.addEventListener("click",e.openLoginInner.bind(e))}),this.WebRTCSupport=!document.documentElement.classList.contains("no-peerconnection"),this.WebRTCSupport||([].forEach.call(document.querySelectorAll("form.login__form input, form.login__form button, form.login__form select"),function(e){e.setAttribute("disabled","disabled")}),[].forEach.call(document.documentElement.querySelectorAll("form.login__form"),function(e){e.addEventListener("click",function(t){e.closest(".login").querySelector(".popup_browser").open()})}),[].forEach.call(document.querySelectorAll(".popup_browser"),function(t){e.showPopup(t)}))}},{key:"reposPopup",value:function(e){this.menu_popup_open&&(this.wrapper.style.top=this.mobile_popup.offsetHeight+"px")}},{key:"closeMobilePopup",value:function(){var e=this;this.menu_popup_open&&(this.menu_popup_open=!1,Velocity(this.wrapper,"stop"),Velocity(this.wrapper,{top:0},250),Velocity(this.mobile_popup_button,"stop"),Velocity(this.mobile_popup_button,{opacity:1},{duration:250,begin:function(){e.mobile_popup_button.style.display="block"}}))}},{key:"openMobilePopup",value:function(){var e=this;this.menu_popup_open||(this.menu_popup_open=!0,Velocity(this.wrapper,"stop"),Velocity(this.wrapper,{top:this.mobile_popup.offsetHeight+"px"},250),Velocity(this.mobile_popup_button,"stop"),Velocity(this.mobile_popup_button,{opacity:0},{duration:250,complete:function(){e.mobile_popup_button.style.display="none"}}))}},{key:"showPopup",value:function(e){void 0!=e.show?e.show():setTimeout(this.showPopup.bind(this,e),50)}},{key:"openLoginOuter",value:function(e){var t=this;e.preventDefault(),$.fn.fullpage.moveTo(1,0),setTimeout(function(){t.login_button.click()},800)}},{key:"openRegisterOuter",value:function(e){var t=this;e.preventDefault(),$.fn.fullpage.moveTo(1,0),setTimeout(function(){t.register_button.click()},800)}},{key:"sendData",value:function(e){var t=this;e.preventDefault();var o=e.currentTarget;if(0!=o.validate())try{!function(){var e=4,i=200,n=void 0,r=new XMLHttpRequest,s=new Promise(function(n,s){r.open("POST",o.getAttribute("action")),r.send(new FormData(o)),r.onreadystatechange=function(){r.readyState===e&&(t.recovery_form.reset(),r.status===i?n():s({code:parseInt(r.status,10),message:r.statusText}))}});n=o.hasAttribute("data-check")?t.showCheckMessage.bind(t):t.showSuccessMessage.bind(t),s.then(n)["catch"](t.showErrorMessage.bind(t))}()}catch(i){console.log("error: ",i)}}},{key:"showCheckMessage",value:function(){this.openForm(this.email)}},{key:"showSuccessMessage",value:function(){this.openForm(this.success)}},{key:"openLoginInner",value:function(){this.openForm(this.login_popup)}},{key:"showErrorMessage",value:function(e){console.log(e.code,"Responce status code: "+e.code+". "+e.message+"."),this.openForm(this.error_message)}},{key:"goback",value:function(){this.openForm()}},{key:"emailHaveSend",value:function(){this.openForm(this.email)}},{key:"openRegisterInner",value:function(){this.register_back.style.visibility="visible",this.openForm(this.register)}},{key:"openRegister",value:function(){var e=this;event.preventDefault(),$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1),this.register_back.style.visibility="hidden";var t={right:0},o={duration:250};Velocity(this.register,t,o),this.current=this.register,t={opacity:1},o={begin:function(){e.lightbox.style.display="block"},duration:250},Velocity(this.lightbox,t,o)}},{key:"openRecovery",value:function(e){e.preventDefault(),this.WebRTCSupport&&this.openForm(this.recovery)}},{key:"openForm",value:function(e){$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1);var t=this.current.querySelector("form");null!=t&&setTimeout(function(){t.clear()},250),"undefined"==typeof e?e=this.last.pop():this.last.push(this.current);var o={right:-this.current.offsetWidth+"px"},i={duration:250};Velocity(this.current,o,i),o={right:0},i={duration:250},Velocity(e,o,i),this.current=e}},{key:"closeAll",value:function(){var e=this;$.fn.fullpage.setAllowScrolling(!0),$.fn.fullpage.setKeyboardScrolling(!0);var t={right:-this.current.offsetWidth+"px"},o={duration:250};Velocity(this.current,t,o),this.current=null,t={opacity:0},o={complete:function(){e.lightbox.style.display="none"},duration:250},Velocity(this.lightbox,t,o)}},{key:"openLoginForm",value:function(e){var t=this;e.preventDefault(),$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1);var o={right:0},i={duration:250};Velocity(this.login_popup,o,i),this.current=this.login_popup,o={opacity:1},i={begin:function(){t.lightbox.style.display="block"},duration:250},Velocity(this.lightbox,o,i)}}]),e}();new e}();
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}();console.log("popup"),function(){var t=function(){function t(e){_classCallCheck(this,t),this.popup=e,e.querySelector(".popup__close").addEventListener("click",this.close.bind(this)),this.popup.close=this.close.bind(this),this.popup.open=this.open.bind(this),this.popup.show=this.show.bind(this),this.status=!1,this.jamping=!1}return _createClass(t,[{key:"show",value:function(){this.popup.style.display="block",this.popup.style[Modernizr.prefixed("transform")]="rotateX(0)",this.status=!0}},{key:"hide",value:function(){this.popup.style.display="none",this.popup.style[Modernizr.prefixed("transform")]="rotateX(180deg)",this.status=!1,Velocity(this.popup,"stop")}},{key:"close",value:function(){var t=this;this.jamping||this.status&&(Velocity(this.popup,"finish"),Velocity(this.popup,{rotateX:"120deg"},{duration:500,begin:function(){t.popup.style.display="block"},complete:function(){t.status=!1}}))}},{key:"open",value:function(){var t=this;if(!this.jamping){if(this.status)return void this.jump();this.jamping=!0,Velocity(this.popup,"finish"),Velocity(this.popup,{rotateX:"0deg"},{duration:500,begin:function(){t.popup.style.display="block"},complete:function(){t.status=!0}}),Velocity(this.popup,{rotateX:"20deg"},150),Velocity(this.popup,{rotateX:"0deg"},125),Velocity(this.popup,{rotateX:"10deg"},200),Velocity(this.popup,{rotateX:"0deg"},{duration:175,complete:function(){t.jamping=!1}})}}},{key:"jump",value:function(){var t=this;this.jamping=!0,Velocity(this.popup,"finish"),Velocity(this.popup,{rotateX:"35deg"},150),Velocity(this.popup,{rotateX:"0deg"},125),Velocity(this.popup,{rotateX:"20deg"},200),Velocity(this.popup,{rotateX:"0deg"},175),Velocity(this.popup,{rotateX:"15deg"},250),Velocity(this.popup,{rotateX:"0deg"},{duration:225,complete:function(){t.jamping=!1}})}}]),t}(),e=new Promise(function(t,e){return"loading"!=document.readyState?t():void document.addEventListener("DOMContentLoaded",function(){return t()})});e.then(function(){[].forEach.call(document.querySelectorAll(".popup_browser"),function(e){new t(e)})})}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.form=t,t.setAttribute("novalidate","novalidate"),t.addEventListener("submit",this.validate.bind(this)),t.validate=this.validate.bind(this),t.clear=this.clear.bind(this),this.messages={en:{required:"Required field",email:"Wrong email format",equal:"Password fields should be equal",url:"Wrong url format"},ru:{required:"Поле обязательно для заполнения",email:"Проверьте формат email",equal:"Пароли должны совпадать",url:"Проверьте формат URL"}}}return _createClass(e,[{key:"clear",value:function(){this.form.reset(),setTimeout(function(){var e=document.querySelectorAll(".form-error"),t=document.querySelectorAll("[data-valid], [data-invalid]");[].forEach.call(e,function(e){e.parentNode.removeChild(e)}),[].forEach.call(t,function(e){e.removeAttribute("data-invalid"),e.removeAttribute("data-valid")})},100)}},{key:"addError",value:function(e,t,r){if(null==e.parentNode.querySelector('.form-error[data-type="'+r+'"]')){var a=document.createElement("P");a.appendChild(document.createTextNode(t)),a.classList.add("form-error"),a.setAttribute("data-type",r),e.parentNode.appendChild(a)}}},{key:"clearError",value:function(e,t){var r=e.parentNode.querySelector('.form-error[data-type="'+t+'"]');null!=r&&e.parentNode.removeChild(r)}},{key:"validate",value:function(e){var t=this;"undefined"==typeof e||e.currentTarget.hasAttribute("data-reload")||e.preventDefault();var r=!0,a=this.form.querySelectorAll("[data-equal]"),l=this.form.querySelectorAll("[required]"),o=this.form.querySelectorAll('input[type="url"]'),i=this.form.querySelectorAll('input[type="email"]'),n=new RegExp("^(http|https|ftp)://([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&amp;%$-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|([a-zA-Z0-9-]+.)*[a-zA-Z0-9-]+.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(/($|[a-zA-Z0-9.,?'\\+&amp;%$#=~_-]+))*$","i"),u=new RegExp("^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$");[].forEach.call(a,function(e){var a=t.form.querySelector(e.getAttribute("data-equal"));e.value.trim()!=a.value.trim()?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].equal,"equal")):t.clearError(e,"equal")}),[].forEach.call(l,function(e){""===e.value.trim()?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].required,"required")):t.clearError(e,"required")}),[].forEach.call(o,function(e){e.value.trim().length>0&&n.test(e.value.trim())===!1?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].url,"url")):t.clearError(e,"url")}),[].forEach.call(i,function(e){e.value.trim().length>0&&u.test(e.value.trim())===!1?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].email,"email")):t.clearError(e,"email")});var d=Array.prototype.slice.call(a).concat(Array.prototype.slice.call(l),Array.prototype.slice.call(o),Array.prototype.slice.call(i));[].forEach.call(d,function(e){var t=e.parentNode.querySelector(".form-error");if(null!=t){var r=document.createAttribute("data-invalid");r.value=!0,"SELECT"==e.tagName?(e.nextSibling.setAttributeNode(r),e.nextSibling.removeAttribute("data-valid")):(e.setAttributeNode(r),e.removeAttribute("data-valid"))}else{var a=document.createAttribute("data-valid");a.value=!0,"SELECT"==e.tagName?(e.nextSibling.setAttributeNode(a),e.nextSibling.removeAttribute("data-invalid")):(e.setAttributeNode(a),e.removeAttribute("data-invalid"))}});var c=this.form.querySelectorAll(".form_error").length;return c>0&&(r=!1),r===!1&&"undefined"!=typeof e&&e.preventDefault(),r}}]),e}(),t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(function(){var t=document.querySelectorAll("form");[].forEach.call(t,function(t){new e(t)})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxhbmRpbmcvbGFuZGluZy5qcyIsImxheW91dC9sYXlvdXQuanMiLCJsb2dpbi9sb2dpbi5qcyIsInBvcHVwL3BvcHVwLmpzIiwidmFsaWRhdG9yL3ZhbGlkYXRpb24uanMiXSwibmFtZXMiOlsiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCJjb25zb2xlIiwibG9nIiwiTGFuZGdpbmciLCJ0aGlzIiwicmVhZHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImRvY3VtZW50IiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGVuIiwiaW5pdCIsImJpbmQiLCJ2YWx1ZSIsIl90aGlzIiwiZmlyZWQiLCJoZWFkZXIiLCJxdWVyeVNlbGVjdG9yIiwiY2xvY2siLCIkIiwiZnVsbHBhZ2UiLCJzZWN0aW9uU2VsZWN0b3IiLCJuYXZpZ2F0aW9uIiwiYWZ0ZXJMb2FkIiwiaGlkZUxvYWRlciIsImFmdGVyUmVuZGVyIiwicmVjb3VudFNsaWRlcyIsImFmdGVyUmVzaXplIiwib25MZWF2ZSIsImluZGV4IiwibmV4dEluZGV4IiwiZGlyZWN0aW9uIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiaGlkZU5hdiIsInNob3dOYXYiLCJzY3JvbGxUb1RvcCIsIl90aGlzMiIsIlZlbG9jaXR5IiwibmF2Iiwib3BhY2l0eSIsImR1cmF0aW9uIiwiY29tcGxldGUiLCJzdHlsZSIsImRpc3BsYXkiLCJfdGhpczMiLCJiZWdpbiIsImdldEVsZW1lbnRCeUlkIiwibG9hZGVyIiwib3B0aW9ucyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImNsb2NrX3NsaWRlIiwidGl0bGUiLCJ0ZXh0IiwiaGVpZ2h0IiwiTWF0aCIsIm1pbiIsIm9mZnNldEhlaWdodCIsInBlcmMiLCJvZmZzZXRXaWR0aCIsIk1vZGVybml6ciIsInByZWZpeGVkIiwibWFyZ2luIiwicmVtb3ZlQXR0cmlidXRlIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImZuIiwibW92ZVRvIiwid2luZG93IiwibW9iaWxlQW5kVGFibGV0Y2hlY2siLCJjaGVjayIsImEiLCJ0ZXN0Iiwic3Vic3RyIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidmVuZG9yIiwib3BlcmEiLCJpc01vYmlsZSIsIkFuZHJvaWQiLCJCbGFja0JlcnJ5IiwiaU9TIiwiV2luZG93cyIsImFueSIsIkxheW91dCIsImJvZHkiLCJhZGQiLCJNZW51IiwiYmFja19idXR0b25zIiwicXVlcnlTZWxlY3RvckFsbCIsImxvZ2luX2J1dHRvbnMiLCJtZW51X3BvcHVwX29wZW4iLCJsb2dpbl9idXR0b24iLCJyZWdpc3Rlcl9idXR0b24iLCJtb2JpbGVfcG9wdXBfYnV0dG9uIiwibW9iaWxlX3BvcHVwIiwibW9iaWxlX3BvcHVwX2Nsb3NlIiwid3JhcHBlciIsImhlYWRlcl9yZWdpc3Rlcl9idXR0b24iLCJoZWFkZXJfbG9naW5fYnV0dG9uIiwicmVjb3ZlcnlfYnV0dG9uIiwicmVnaXN0ZXJfYnV0dG9uX2lubmVyIiwibGlnaHRib3giLCJsb2dpbl9wb3B1cCIsInJlY292ZXJ5IiwicmVnaXN0ZXIiLCJwYXNzd29yZCIsInJlZ2lzdGVyX2JhY2siLCJyZWNvdmVyeV9mb3JtIiwicGFzc3dvcmRfZm9ybSIsImVycm9yX21lc3NhZ2UiLCJlbWFpbCIsInN1Y2Nlc3MiLCJjdXJyZW50IiwibGFzdCIsIm9wZW5Mb2dpbkZvcm0iLCJvcGVuUmVjb3ZlcnkiLCJjbG9zZUFsbCIsIm9wZW5SZWdpc3RlciIsIm9wZW5SZWdpc3RlcklubmVyIiwic2VuZERhdGEiLCJvcGVuTG9naW5PdXRlciIsIm9wZW5Nb2JpbGVQb3B1cCIsImNsb3NlTW9iaWxlUG9wdXAiLCJyZXBvc1BvcHVwIiwic2VsZWN0MiIsImZvckVhY2giLCJjYWxsIiwiYnV0dG9uIiwiZ29iYWNrIiwib3BlbkxvZ2luSW5uZXIiLCJXZWJSVENTdXBwb3J0IiwiZG9jdW1lbnRFbGVtZW50IiwiY29udGFpbnMiLCJlbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiZm9ybSIsImNsb3Nlc3QiLCJvcGVuIiwicG9wdXAiLCJzaG93UG9wdXAiLCJ0b3AiLCJ1bmRlZmluZWQiLCJzaG93Iiwic2V0VGltZW91dCIsIl90aGlzNCIsImNsaWNrIiwiX3RoaXM1IiwiX3RoaXM2IiwiY3VycmVudFRhcmdldCIsInZhbGlkYXRlIiwiRE9ORSIsIk9LIiwibWVzc2FnZSIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwibG9hZGVkIiwiZ2V0QXR0cmlidXRlIiwic2VuZCIsIkZvcm1EYXRhIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVzZXQiLCJzdGF0dXMiLCJjb2RlIiwicGFyc2VJbnQiLCJzdGF0dXNUZXh0IiwiaGFzQXR0cmlidXRlIiwic2hvd0NoZWNrTWVzc2FnZSIsInNob3dTdWNjZXNzTWVzc2FnZSIsInNob3dFcnJvck1lc3NhZ2UiLCJlcnIiLCJvcGVuRm9ybSIsInJlYXNvbiIsInZpc2liaWxpdHkiLCJfdGhpczciLCJzZXRBbGxvd1Njcm9sbGluZyIsInNldEtleWJvYXJkU2Nyb2xsaW5nIiwicmlnaHQiLCJjbGVhciIsInBvcCIsInB1c2giLCJfdGhpczgiLCJfdGhpczkiLCJQb3B1cCIsImNsb3NlIiwiamFtcGluZyIsInJvdGF0ZVgiLCJqdW1wIiwiVmFsaWRhdGlvbiIsIm1lc3NhZ2VzIiwiZW4iLCJyZXF1aXJlZCIsImVxdWFsIiwidXJsIiwicnUiLCJlcnJvcnMiLCJmaWVsZHMiLCJlcnJvciIsImZpZWxkIiwidHlwZSIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwidmFsaWQiLCJlcXVhbF9maWVsZHMiLCJyZXF1aXJlZF9maWVsZHMiLCJ1cmxfZmllbGRzIiwiZW1haWxfZmllbGRzIiwidXJsX3JlZ2V4IiwiUmVnRXhwIiwiZW1haWxfcmVnZXgiLCJ0cmltIiwiYWRkRXJyb3IiLCJjbGVhckVycm9yIiwiYWxsX2ZpZWxkcyIsIkFycmF5Iiwic2xpY2UiLCJjb25jYXQiLCJpbnZhbGlkIiwiY3JlYXRlQXR0cmlidXRlIiwidGFnTmFtZSIsIm5leHRTaWJsaW5nIiwic2V0QXR0cmlidXRlTm9kZSIsIl92YWxpZCIsImVycm9yc19jb3VudCIsImZvcm1zIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUlBLFNBQVNBLGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUZoSCxHQUFJQyxjQUFlLFdBQWUsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQU9ELEVBQVdFLGNBQWUsRUFBVSxTQUFXRixLQUFZQSxFQUFXRyxVQUFXLEdBQU1DLE9BQU9DLGVBQWVULEVBQVFJLEVBQVdNLElBQUtOLElBQWlCLE1BQU8sVUFBVVIsRUFBYWUsRUFBWUMsR0FBaUosTUFBOUhELElBQVlaLEVBQWlCSCxFQUFZaUIsVUFBV0YsR0FBaUJDLEdBQWFiLEVBQWlCSCxFQUFhZ0IsR0FBcUJoQixLQURqaUJrQixTQUFRQyxJQUFJLFdBQ1osV0FNSSxHQUxNQyxHQUFRLFdBS0MsUUFMVEEsS0FZRXRCLGdCQUFnQnVCLEtBWmxCRCxFQU1FLElBQUlFLEdBQVEsR0FBSUMsU0FBUSxTQUFDQyxFQUFTQyxHQUM5QixNQUEyQixXQUF2QkMsU0FBU0MsV0FBZ0NILFFBQzdDRSxVQUFTRSxpQkFBaUIsbUJBQW9CLFdBUzFDLE1BVGdESixRQUV4REYsR0FBTU8sS0FBS1IsS0FBS1Ms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QUNuQ3FDLFFBQVFDLEtBQUtrRyxFQUFPLFNBQUN6RixHQUNwQixHQUFJb0QsR0FBV3BEIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnNvbGUubG9nKCdsYW5kaW5nJyk7XG4oZnVuY3Rpb24oKSB7XG4gICAgY2xhc3MgTGFuZGdpbmcge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFN0YXJ0IGluaXRpYWxpemF0aW9uIG9uIGRvbWxvYWRcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZWFkeS50aGVuKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5pdCgpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJylcbiAgICAgICAgICAgICAgICAsIGNsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb2NrJyk7XG5cbiAgICAgICAgICAgICQoXCIubGFuZGluZ1wiKS5mdWxscGFnZSh7XG4gICAgICAgICAgICAgICAgc2VjdGlvblNlbGVjdG9yOiBcIi5sYW5kaW5nX19zZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhZnRlckxvYWQ6IHRoaXMuaGlkZUxvYWRlci5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIGFmdGVyUmVuZGVyOiB0aGlzLnJlY291bnRTbGlkZXMuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICBhZnRlclJlc2l6ZTogdGhpcy5yZWNvdW50U2xpZGVzLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgb25MZWF2ZTogKGluZGV4LCBuZXh0SW5kZXgsIGRpcmVjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEluZGV4ID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc0xpc3QudG9nZ2xlKCdoZWFkZXJfb3BlbicsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZU5hdigpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlcl9vcGVuJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dOYXYoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0SW5kZXggPT0gNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvY2suY2xhc3NMaXN0LnRvZ2dsZSgnY2xvY2tfdmlzaWJsZScsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvY2suY2xhc3NMaXN0LnRvZ2dsZSgnY2xvY2tfdmlzaWJsZScsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX3RvcFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5zY3JvbGxUb1RvcC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhpZGVOYXYgKCkge1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5uYXYsIFwiZmluaXNoXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5uYXYsIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMFxuICAgICAgICAgICAgICAgICwgY29tcGxldGU6ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzaG93TmF2ICgpIHtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubmF2LCBcImZpbmlzaFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubmF2LCB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDBcbiAgICAgICAgICAgICAgICAsIGJlZ2luOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhpZGVMb2FkZXIoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maXJlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZmlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5uYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnAtbmF2Jyk7XG4gICAgICAgICAgICB0aGlzLmhpZGVOYXYoKTtcblxuICAgICAgICAgICAgbGV0IGxvYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXJfX3dyYXBwZXInKSxcbiAgICAgICAgICAgICAgICBwcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxvYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBWZWxvY2l0eShsb2FkZXIsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcmVjb3VudFNsaWRlcygpIHtcbiAgICAgICAgICAgIGxldCBjbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9jaycpLFxuICAgICAgICAgICAgICAgIGNsb2NrX3NsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZwLXNsaWRlc0NvbnRhaW5lcicpLFxuICAgICAgICAgICAgICAgIHRpdGxlID0gY2xvY2tfc2xpZGUucXVlcnlTZWxlY3RvcignLnNsaWRlX190aXRsZScpLFxuICAgICAgICAgICAgICAgIHRleHQgPSBjbG9ja19zbGlkZS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVfX3RleHQnKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBNYXRoLm1pbihjbG9ja19zbGlkZS5vZmZzZXRIZWlnaHQgLSB0aXRsZS5vZmZzZXRIZWlnaHQgLSB0ZXh0Lm9mZnNldEhlaWdodCArIDkwLCA3MDIpLFxuICAgICAgICAgICAgICAgIHBlcmMgPSBoZWlnaHQgLyA3MDI7XG5cbiAgICAgICAgICAgIGlmIChjbG9ja19zbGlkZS5vZmZzZXRXaWR0aCA8PSA3NTApIHtcbiAgICAgICAgICAgICAgICBjbG9jay5zdHlsZVtNb2Rlcm5penIucHJlZml4ZWQoJ3RyYW5zZm9ybScpXSA9ICdzY2FsZSgnICsgcGVyYyArICcpJztcbiAgICAgICAgICAgICAgICBjbG9jay5zdHlsZS5tYXJnaW4gPSBcIjAgMCAwIC1cIiArIChjbG9jay5vZmZzZXRXaWR0aCAqIHBlcmMpICogMC4zMyArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAvLyBjbG9jay5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JlZCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsb2NrLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgc2Nyb2xsVG9Ub3AoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLm1vdmVUbygxLCAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXcgTGFuZGdpbmc7XG59KSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zb2xlLmxvZygnbGF5b3V0Jyk7XG4oZnVuY3Rpb24oKSB7XG4gICAgd2luZG93Lm1vYmlsZUFuZFRhYmxldGNoZWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjaGVjayA9IGZhbHNlO1xuICAgICAgICAoZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgaWYgKC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm98YW5kcm9pZHxpcGFkfHBsYXlib29rfHNpbGsvaS50ZXN0KGEpIHx8IC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLnRlc3QoYS5zdWJzdHIoMCwgNCkpKSBjaGVjayA9IHRydWVcbiAgICAgICAgfSkobmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8IHdpbmRvdy5vcGVyYSk7XG4gICAgICAgIHJldHVybiBjaGVjaztcbiAgICB9O1xuXG4gICAgd2luZG93LmlzTW9iaWxlID0ge1xuICAgICAgICBBbmRyb2lkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvQW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgIH0sXG4gICAgICAgIEJsYWNrQmVycnk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9CbGFja0JlcnJ5L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgaU9TOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvaVBob25lfGlQYWR8aVBvZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgIH0sXG4gICAgICAgIFdpbmRvd3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9JRU1vYmlsZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFueTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gKGlzTW9iaWxlLkFuZHJvaWQoKSB8fCBpc01vYmlsZS5CbGFja0JlcnJ5KCkgfHwgaXNNb2JpbGUuaU9TKCkgfHwgaXNNb2JpbGUuV2luZG93cygpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjbGFzcyBMYXlvdXQge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFN0YXJ0IGluaXRpYWxpemF0aW9uIG9uIGRvbWxvYWRcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZWFkeS50aGVuKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5pdCgpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuaXNNb2JpbGUuQW5kcm9pZCgpKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2FuZHJvaWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmlzTW9iaWxlLmlPUygpKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2lvcycpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cubW9iaWxlQW5kVGFibGV0Y2hlY2soKSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCd1bmtub3duLW1vYmlsZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnZGVza3RvcCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2FuZHJvaWQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXcgTGF5b3V0O1xufSkoKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc29sZS5sb2coJ01lbnUnKTtcbihmdW5jdGlvbiAoKSB7XG4gICAgY2xhc3MgTWVudSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU3RhcnQgaW5pdGlhbGl6YXRpb24gb24gZG9tbG9hZFxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT0gXCJsb2FkaW5nXCIpIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCk9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZWFkeS50aGVuKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5pdCAoKSB7XG4gICAgICAgICAgICBsZXQgYmFja19idXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxvZ2luX19iYWNrJylcbiAgICAgICAgICAgICAgICAsIGxvZ2luX2J1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubG9naW5fX2xvZ2luLWJ1dHRvbiwgLmxvZ2luX3N1Y2Nlc3MgLmxvZ2luX19zdWJtaXQnKTtcblxuICAgICAgICAgICAgdGhpcy5tZW51X3BvcHVwX29wZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5sb2dpbl9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudV9fbG9naW4nKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJfYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnVfX3JlZ2lzdGVyJyk7XG4gICAgICAgICAgICB0aGlzLm1vYmlsZV9wb3B1cF9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudV9faW50ZXJwcmV0ZXInKTtcbiAgICAgICAgICAgIHRoaXMubW9iaWxlX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX21vYmlsZScpO1xuICAgICAgICAgICAgdGhpcy5tb2JpbGVfcG9wdXBfY2xvc2UgPSB0aGlzLm1vYmlsZV9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJyk7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudV9fd3JhcHBlcicpO1xuXG4gICAgICAgICAgICB0aGlzLmhlYWRlcl9yZWdpc3Rlcl9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19saW5rX3JlZ2lzdGVyJyk7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcl9sb2dpbl9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19saW5rX2xvZ2luJyk7XG5cbiAgICAgICAgICAgIHRoaXMucmVjb3ZlcnlfYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX19wYXNzd29yZC1yZWNvdmVyeScpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcl9idXR0b25faW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fX3JlZ2lzdGVyLWJ1dHRvbicpO1xuXG4gICAgICAgICAgICB0aGlzLmxpZ2h0Ym94ID0gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHk+LmxpZ2h0Ym94Jyk7XG4gICAgICAgICAgICB0aGlzLmxvZ2luX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX2xvZ2luJyk7XG4gICAgICAgICAgICB0aGlzLnJlY292ZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX3JlY292ZXJ5Jyk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX3JlZ2lzdGVyJyk7XG4gICAgICAgICAgICB0aGlzLnBhc3N3b3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX3Bhc3N3b3JkJyk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyX2JhY2sgPSB0aGlzLnJlZ2lzdGVyLnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9fYmFjaycpO1xuICAgICAgICAgICAgdGhpcy5yZWNvdmVyeV9mb3JtID0gdGhpcy5yZWNvdmVyeS5xdWVyeVNlbGVjdG9yKCcubG9naW5fX2Zvcm0nKTtcbiAgICAgICAgICAgIHRoaXMucGFzc3dvcmRfZm9ybSA9IHRoaXMucGFzc3dvcmQucXVlcnlTZWxlY3RvcignLmxvZ2luX19mb3JtJyk7XG4gICAgICAgICAgICB0aGlzLmVycm9yX21lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fZXJyb3InKTtcbiAgICAgICAgICAgIHRoaXMuZW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fZW1haWwnKTtcbiAgICAgICAgICAgIHRoaXMuc3VjY2VzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9zdWNjZXNzJyk7XG5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9vcGVuJyk7XG4gICAgICAgICAgICB0aGlzLmxhc3QgPSBbXTtcblxuICAgICAgICAgICAgdGhpcy5sb2dpbl9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Mb2dpbkZvcm0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLnJlY292ZXJ5X2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlblJlY292ZXJ5LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5saWdodGJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VBbGwuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUmVnaXN0ZXIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyX2J1dHRvbl9pbm5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlblJlZ2lzdGVySW5uZXIuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVjb3ZlcnlfZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLnNlbmREYXRhLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5wYXNzd29yZF9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuc2VuZERhdGEuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgICAgIHRoaXMuaGVhZGVyX2xvZ2luX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlbkxvZ2luT3V0ZXIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcl9yZWdpc3Rlcl9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Mb2dpbk91dGVyLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5tb2JpbGVfcG9wdXBfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuTW9iaWxlUG9wdXAuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLm1vYmlsZV9wb3B1cF9jbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VNb2JpbGVQb3B1cC5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVwb3NQb3B1cC5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgJCgnLmxvZ2luIHNlbGVjdCcpLnNlbGVjdDIoKTtcblxuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGJhY2tfYnV0dG9ucywgKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZ29iYWNrLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChsb2dpbl9idXR0b25zLCAoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuTG9naW5Jbm5lci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLldlYlJUQ1N1cHBvcnQgPSAhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnbm8tcGVlcmNvbm5lY3Rpb24nKTtcblxuXG4gICAgICAgICAgICBpZighdGhpcy5XZWJSVENTdXBwb3J0KSB7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZm9ybS5sb2dpbl9fZm9ybSBpbnB1dCwgZm9ybS5sb2dpbl9fZm9ybSBidXR0b24sIGZvcm0ubG9naW5fX2Zvcm0gc2VsZWN0JyksIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIixcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtLmxvZ2luX19mb3JtJyksIChmb3JtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uY2xvc2VzdCgnLmxvZ2luJykucXVlcnlTZWxlY3RvcignLnBvcHVwX2Jyb3dzZXInKS5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9icm93c2VyJyksIChwb3B1cCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dQb3B1cChwb3B1cCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXBvc1BvcHVwIChldmVudCkge1xuICAgICAgICAgICAgaWYoIXRoaXMubWVudV9wb3B1cF9vcGVuKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMud3JhcHBlci5zdHlsZS50b3AgPSB0aGlzLm1vYmlsZV9wb3B1cC5vZmZzZXRIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9zZU1vYmlsZVBvcHVwICgpIHtcbiAgICAgICAgICAgIGlmKCF0aGlzLm1lbnVfcG9wdXBfb3Blbil7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tZW51X3BvcHVwX29wZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy53cmFwcGVyLCBcInN0b3BcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLndyYXBwZXIsIHt0b3A6IDB9LCAyNTApO1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLm1vYmlsZV9wb3B1cF9idXR0b24sIFwic3RvcFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubW9iaWxlX3BvcHVwX2J1dHRvbiwge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgLCBiZWdpbjogKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9iaWxlX3BvcHVwX2J1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgb3Blbk1vYmlsZVBvcHVwICgpIHtcbiAgICAgICAgICAgIGlmKHRoaXMubWVudV9wb3B1cF9vcGVuKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1lbnVfcG9wdXBfb3BlbiA9IHRydWU7XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMud3JhcHBlciwgXCJzdG9wXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy53cmFwcGVyLCB7dG9wOiB0aGlzLm1vYmlsZV9wb3B1cC5vZmZzZXRIZWlnaHQgKyBcInB4XCJ9LCAyNTApO1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLm1vYmlsZV9wb3B1cF9idXR0b24sIFwic3RvcFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubW9iaWxlX3BvcHVwX2J1dHRvbiwge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgLCBjb21wbGV0ZTogKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9iaWxlX3BvcHVwX2J1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzaG93UG9wdXAgKHBvcHVwKSB7XG4gICAgICAgICAgICBpZiAocG9wdXAuc2hvdyAhPSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgIHBvcHVwLnNob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLnNob3dQb3B1cC5iaW5kKHRoaXMsIHBvcHVwKSwgNTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTY3JvbGwgdG8gZmlyc3Qgc2xpZGUgYW5kIG9wZW4gbG9naW4gZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgb3BlbkxvZ2luT3V0ZXIgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgJC5mbi5mdWxscGFnZS5tb3ZlVG8oMSwgMCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dpbl9idXR0b24uY2xpY2soKTtcbiAgICAgICAgICAgIH0sIDgwMClcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2Nyb2xsIHRvIGZpcnN0IHNsaWRlIGFuZCBvcGVuIHJlZ2lzdGVyIGZvcm1cbiAgICAgICAgICovXG4gICAgICAgIG9wZW5SZWdpc3Rlck91dGVyIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2UubW92ZVRvKDEsIDApO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJfYnV0dG9uLmNsaWNrKCk7XG4gICAgICAgICAgICB9LCA4MDApXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNlbmQgcmVnaXN0cmF0aW9uIGRhdGEgYW5kIHNob3cgbWVzc2FnZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VuZERhdGEgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgbGV0IGZvcm0gPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuXG4gICAgICAgICAgICBpZiAoZm9ybS52YWxpZGF0ZSgpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxldCBET05FID0gNFxuICAgICAgICAgICAgICAgICwgT0sgPSAyMDBcbiAgICAgICAgICAgICAgICAsIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAsIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gICAgICAgICAgICAgICAgLCBsb2FkZWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHhoci5vcGVuKCdQT1NUJywgZm9ybS5nZXRBdHRyaWJ1dGUoJ2FjdGlvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNlbmQobmV3IEZvcm1EYXRhKGZvcm0pKTtcbiAgICAgICAgICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gRE9ORSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb3ZlcnlfZm9ybS5yZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSBPSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IHBhcnNlSW50KHhoci5zdGF0dXMsIDEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHhoci5zdGF0dXNUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChmb3JtLmhhc0F0dHJpYnV0ZSgnZGF0YS1jaGVjaycpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSB0aGlzLnNob3dDaGVja01lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5zaG93U3VjY2Vzc01lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsb2FkZWQudGhlbihtZXNzYWdlKS5jYXRjaCh0aGlzLnNob3dFcnJvck1lc3NhZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgLy8gbG9hZGVkLnRoZW4obWVzc2FnZSkuY2F0Y2gobWVzc2FnZSk7XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcjogJywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2hvdyBjaGVjayBlbWFpbCBtZXNzYWdlXG4gICAgICAgICAqL1xuICAgICAgICBzaG93Q2hlY2tNZXNzYWdlICgpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbkZvcm0odGhpcy5lbWFpbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNob3cgc3VjY2VzcyBtZXNzYWdlXG4gICAgICAgICAqL1xuICAgICAgICBzaG93U3VjY2Vzc01lc3NhZ2UgKCkge1xuICAgICAgICAgICAgdGhpcy5vcGVuRm9ybSh0aGlzLnN1Y2Nlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBPcGVuIGxvZ2luXG4gICAgICAgICAqL1xuICAgICAgICBvcGVuTG9naW5Jbm5lciAoKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5Gb3JtKHRoaXMubG9naW5fcG9wdXApO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTaG93IG1lc3NhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHNob3dFcnJvck1lc3NhZ2UgKHJlYXNvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVhc29uLmNvZGUsICdSZXNwb25jZSBzdGF0dXMgY29kZTogJyArIHJlYXNvbi5jb2RlICsgJy4gJyArIHJlYXNvbi5tZXNzYWdlICsgJy4nKTtcbiAgICAgICAgICAgIHRoaXMub3BlbkZvcm0odGhpcy5lcnJvcl9tZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gT3BlbiBsYXN0IHBhZ2VcbiAgICAgICAgICovXG4gICAgICAgIGdvYmFjayAoKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5Gb3JtKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNob3cgZW1haWwgc2VudCB3YXJuaW5nXG4gICAgICAgICAqL1xuICAgICAgICBlbWFpbEhhdmVTZW5kICgpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbkZvcm0odGhpcy5lbWFpbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gcmVnaXN0ZXIgZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgb3BlblJlZ2lzdGVySW5uZXIgKCkge1xuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcl9iYWNrLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgICAgIHRoaXMub3BlbkZvcm0odGhpcy5yZWdpc3Rlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gcmVnaXN0ZXIgZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgb3BlblJlZ2lzdGVyICgpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Uuc2V0QWxsb3dTY3JvbGxpbmcoZmFsc2UpO1xuICAgICAgICAgICAgJC5mbi5mdWxscGFnZS5zZXRLZXlib2FyZFNjcm9sbGluZyhmYWxzZSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJfYmFjay5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcblxuICAgICAgICAgICAgbGV0IHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICByaWdodDogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucmVnaXN0ZXIsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMucmVnaXN0ZXI7XG5cbiAgICAgICAgICAgIHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBiZWdpbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saWdodGJveC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5saWdodGJveCwgcHJvcHMsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBPcGVuIHJlY292ZXJ5IGZvcm1zXG4gICAgICAgICAqL1xuICAgICAgICBvcGVuUmVjb3ZlcnkgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYoIXRoaXMuV2ViUlRDU3VwcG9ydCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3BlbkZvcm0odGhpcy5yZWNvdmVyeSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gcmVjb3ZlcnkgZm9ybXNcbiAgICAgICAgICogQHBhcmFtIGZvcm0ge25vZGV9IEZvcm0geW91IHdhbnQgdG8gb3BlblxuICAgICAgICAgKiBAcGFyYW0gYmFjayB7bm9kZX0gRm9ybSB3aGljaCB5b3Ugd2FudCB0byBvcGVuIHdoZW4gdXNlciBwcmVzcyBiYWNrLCBieSBkZWZhdWx0IOKAlMKgbGFzdCBmb3JtIG9wZW5lZFxuICAgICAgICAgKi9cbiAgICAgICAgb3BlbkZvcm0gKHBvcHVwKSB7XG5cbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Uuc2V0QWxsb3dTY3JvbGxpbmcoZmFsc2UpO1xuICAgICAgICAgICAgJC5mbi5mdWxscGFnZS5zZXRLZXlib2FyZFNjcm9sbGluZyhmYWxzZSk7XG5cbiAgICAgICAgICAgIGxldCBmb3JtID0gdGhpcy5jdXJyZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKTtcbiAgICAgICAgICAgIGlmIChmb3JtICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57Zm9ybS5jbGVhcigpO30sIDI1MCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcG9wdXAgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHBvcHVwID0gdGhpcy5sYXN0LnBvcCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3QucHVzaCh0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAtIHRoaXMuY3VycmVudC5vZmZzZXRXaWR0aCArIFwicHhcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMuY3VycmVudCwgcHJvcHMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgVmVsb2NpdHkocG9wdXAsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHBvcHVwO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENsb3NlIGFsbCBmb3Jtc1xuICAgICAgICAgKi9cbiAgICAgICAgY2xvc2VBbGwgKCkge1xuXG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLnNldEFsbG93U2Nyb2xsaW5nKHRydWUpO1xuICAgICAgICAgICAgJC5mbi5mdWxscGFnZS5zZXRLZXlib2FyZFNjcm9sbGluZyh0cnVlKTtcblxuICAgICAgICAgICAgbGV0IHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICByaWdodDogLSB0aGlzLmN1cnJlbnQub2Zmc2V0V2lkdGggKyBcInB4XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmN1cnJlbnQsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG5cbiAgICAgICAgICAgIHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saWdodGJveC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmxpZ2h0Ym94LCBwcm9wcywgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gbG9naW4gcG9wdXBcbiAgICAgICAgICovXG4gICAgICAgIG9wZW5Mb2dpbkZvcm0gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLnNldEFsbG93U2Nyb2xsaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Uuc2V0S2V5Ym9hcmRTY3JvbGxpbmcoZmFsc2UpO1xuXG4gICAgICAgICAgICBsZXQgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5sb2dpbl9wb3B1cCwgcHJvcHMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5sb2dpbl9wb3B1cDtcblxuICAgICAgICAgICAgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZ2luOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0Ym94LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmxpZ2h0Ym94LCBwcm9wcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXcgTWVudTtcbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnNvbGUubG9nKCdwb3B1cCcpO1xuKGZ1bmN0aW9uICgpIHtcblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBQb3B1cFxuICAgICAqL1xuICAgIGNsYXNzIFBvcHVwIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRpbmcgZXZlbnRzIGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IgKHBvcHVwKSB7XG4gICAgICAgICAgICB0aGlzLnBvcHVwID0gcG9wdXA7XG4gICAgICAgICAgICBwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5wb3B1cC5jbG9zZSA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucG9wdXAub3BlbiA9IHRoaXMub3Blbi5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wb3B1cC5zaG93ID0gdGhpcy5zaG93LmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5qYW1waW5nID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBzaG93ICgpIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuc3R5bGVbTW9kZXJuaXpyLnByZWZpeGVkKCd0cmFuc2Zvcm0nKV0gPSBcInJvdGF0ZVgoMClcIjtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhpZGUgKCkge1xuICAgICAgICAgICAgdGhpcy5wb3B1cC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICB0aGlzLnBvcHVwLnN0eWxlW01vZGVybml6ci5wcmVmaXhlZCgndHJhbnNmb3JtJyldID0gXCJyb3RhdGVYKDE4MGRlZylcIjtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gZmFsc2U7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCBcInN0b3BcIik7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9zZSAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5qYW1waW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXR1cykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIFwiZmluaXNoXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge1xuICAgICAgICAgICAgICAgIHJvdGF0ZVg6IFwiMTIwZGVnXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwXG4gICAgICAgICAgICAgICAgLCBiZWdpbjogKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLCBjb21wbGV0ZTogKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBvcGVuICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmphbXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmp1bXAoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmphbXBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwgXCJmaW5pc2hcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7XG4gICAgICAgICAgICAgICAgcm90YXRlWDogXCIwZGVnXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwXG4gICAgICAgICAgICAgICAgLCBiZWdpbjogKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLCBjb21wbGV0ZTogKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtyb3RhdGVYOiBcIjIwZGVnXCJ9LCAxNTApO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge3JvdGF0ZVg6IFwiMGRlZ1wifSwgMTI1KTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtyb3RhdGVYOiBcIjEwZGVnXCJ9LCAyMDApO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge3JvdGF0ZVg6IFwiMGRlZ1wifSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOjE3NVxuICAgICAgICAgICAgICAgICwgY29tcGxldGU6ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmphbXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAganVtcCAoKSB7XG4gICAgICAgICAgICB0aGlzLmphbXBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwgXCJmaW5pc2hcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIzNWRlZ1wifSwgMTUwKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtyb3RhdGVYOiBcIjBkZWdcIn0sIDEyNSk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIyMGRlZ1wifSwgMjAwKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtyb3RhdGVYOiBcIjBkZWdcIn0sIDE3NSk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIxNWRlZ1wifSwgMjUwKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtyb3RhdGVYOiBcIjBkZWdcIn0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjI1XG4gICAgICAgICAgICAgICAgLCBjb21wbGV0ZTogKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuamFtcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG4gICAgbGV0IHJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT0gXCJsb2FkaW5nXCIpIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpPT4gcmVzb2x2ZSgpKTtcbiAgICB9KTtcblxuICAgIHJlYWR5LnRoZW4oKCk9PntcbiAgICAgICAgW10uZm9yRWFjaC5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9icm93c2VyJyksIChwb3B1cCkgPT4ge1xuICAgICAgICAgICAgbmV3IFBvcHVwKHBvcHVwKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIEBjbGFzc2Rlc2MgQ2xhc3MgcmVwcmVzZW50aW5nIGZvcm0gdmFsaWRhdGlvblxuICAgICAqIEBjbGFzc1xuICAgICAqL1xuXG4gICAgY2xhc3MgVmFsaWRhdGlvbiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKGZvcm0pIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybSA9IGZvcm07XG4gICAgICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZShcIm5vdmFsaWRhdGVcIiwgXCJub3ZhbGlkYXRlXCIpO1xuICAgICAgICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLnZhbGlkYXRlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZm9ybS52YWxpZGF0ZSA9IHRoaXMudmFsaWRhdGUuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGZvcm0uY2xlYXIgPSB0aGlzLmNsZWFyLmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMubWVzc2FnZXMgPSB7XG4gICAgICAgICAgICAgICAgZW46IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFwiUmVxdWlyZWQgZmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAsIGVtYWlsOiBcIldyb25nIGVtYWlsIGZvcm1hdFwiXG4gICAgICAgICAgICAgICAgICAgICwgZXF1YWw6IFwiUGFzc3dvcmQgZmllbGRzIHNob3VsZCBiZSBlcXVhbFwiXG4gICAgICAgICAgICAgICAgICAgICwgdXJsOiBcIldyb25nIHVybCBmb3JtYXRcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAsIHJ1OiB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBcItCf0L7Qu9C1INC+0LHRj9C30LDRgtC10LvRjNC90L4g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPXCJcbiAgICAgICAgICAgICAgICAgICAgLCBlbWFpbDogXCLQn9GA0L7QstC10YDRjNGC0LUg0YTQvtGA0LzQsNGCIGVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgLCBlcXVhbDogXCLQn9Cw0YDQvtC70Lgg0LTQvtC70LbQvdGLINGB0L7QstC/0LDQtNCw0YLRjFwiXG4gICAgICAgICAgICAgICAgICAgICwgdXJsOiBcItCf0YDQvtCy0LXRgNGM0YLQtSDRhNC+0YDQvNCw0YIgVVJMXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFJlc2V0IGZvcm0gYW5kIGNsZWFyIGVycm9yc1xuICAgICAgICAgKi9cbiAgICAgICAgY2xlYXIgKCkge1xuICAgICAgICAgICAgdGhpcy5mb3JtLnJlc2V0KCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgbGV0IGVycm9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtLWVycm9yJyksXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXZhbGlkXSwgW2RhdGEtaW52YWxpZF0nKTtcblxuICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChlcnJvcnMsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChmaWVsZHMsIChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtaW52YWxpZCcpO1xuICAgICAgICAgICAgICAgICAgICBmaWVsZC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtdmFsaWQnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sMTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlIGVycm9yIG1lc3NhZ2UgYWZ0ZXIgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgLSBlbGVtZW50LCBhZnRlciB3aGljaCB3ZSB3aWxsIGFkZCBlcnJvciBtZXNzYWdlXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIC0gZXJyb3IgbWVzc2FnZVxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwcGUgLSBlcnJvciB0eXBlXG4gICAgICAgICAqL1xuICAgICAgICBhZGRFcnJvcihlbGVtZW50LCBtZXNzYWdlLCB0eXBlKSB7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmZvcm0tZXJyb3JbZGF0YS10eXBlPVwiJyArIHR5cGUgKyAnXCJdJykgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBlcnJvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1AnKTtcbiAgICAgICAgICAgIGVycm9yLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgIGVycm9yLmNsYXNzTGlzdC5hZGQoJ2Zvcm0tZXJyb3InKTtcbiAgICAgICAgICAgIGVycm9yLnNldEF0dHJpYnV0ZSgnZGF0YS10eXBlJywgdHlwZSk7XG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBSZW1vdmUgZXJyb3IgbWVzc2FnZSBvZiBzb21lIHR5cGUgYWZ0ZXIgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgLSBlbGVtZW50LCBhZnRlciB3aGljaCBlcnJvciBtZXNzYWdlIGlzXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBwZSAtIGVycm9yIHR5cGVcbiAgICAgICAgICovXG4gICAgICAgIGNsZWFyRXJyb3IoZWxlbWVudCwgdHlwZSkge1xuXG4gICAgICAgICAgICBsZXQgZXJyID0gZWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWVycm9yW2RhdGEtdHlwZT1cIicgKyB0eXBlICsgJ1wiXScpO1xuICAgICAgICAgICAgaWYgKGVyciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFZhbGlkYXRlIGZvcm1cbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBzdWJtaXQgZXZlbnRcbiAgICAgICAgICogQHRvZG8gSW1wbGVtZW50IGxvZ2luIHZhbGlkYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIHZhbGlkYXRlKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ICE9IFwidW5kZWZpbmVkXCIgJiYgIWV2ZW50LmN1cnJlbnRUYXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLXJlbG9hZCcpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZhbGlkID0gdHJ1ZSxcbiAgICAgICAgICAgICAgICBuZXh0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBlcXVhbF9maWVsZHMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZXF1YWxdJyksXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRfZmllbGRzID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tyZXF1aXJlZF0nKSxcbiAgICAgICAgICAgICAgICB1cmxfZmllbGRzID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJ1cmxcIl0nKSxcbiAgICAgICAgICAgICAgICBlbWFpbF9maWVsZHMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImVtYWlsXCJdJyksXG4gICAgICAgICAgICAgICAgdXJsX3JlZ2V4ID0gbmV3IFJlZ0V4cChcIl4oaHR0cHxodHRwc3xmdHApXFw6Ly8oW2EtekEtWjAtOVxcLlxcLV0rKFxcOlthLXpBLVowLTlcXC4mYW1wOyVcXCRcXC1dKykqQCkqKCgyNVswLTVdfDJbMC00XVswLTldfFswLTFdezF9WzAtOV17Mn18WzEtOV17MX1bMC05XXsxfXxbMS05XSlcXC4oMjVbMC01XXwyWzAtNF1bMC05XXxbMC0xXXsxfVswLTldezJ9fFsxLTldezF9WzAtOV17MX18WzEtOV18MClcXC4oMjVbMC01XXwyWzAtNF1bMC05XXxbMC0xXXsxfVswLTldezJ9fFsxLTldezF9WzAtOV17MX18WzEtOV18MClcXC4oMjVbMC01XXwyWzAtNF1bMC05XXxbMC0xXXsxfVswLTldezJ9fFsxLTldezF9WzAtOV17MX18WzAtOV0pfChbYS16QS1aMC05XFwtXStcXC4pKlthLXpBLVowLTlcXC1dK1xcLihjb218ZWR1fGdvdnxpbnR8bWlsfG5ldHxvcmd8Yml6fGFycGF8aW5mb3xuYW1lfHByb3xhZXJvfGNvb3B8bXVzZXVtfFthLXpBLVpdezJ9KSkoXFw6WzAtOV0rKSooLygkfFthLXpBLVowLTlcXC5cXCxcXD9cXCdcXFxcXFwrJmFtcDslXFwkI1xcPX5fXFwtXSspKSokXCIsIFwiaVwiKSxcbiAgICAgICAgICAgICAgICBlbWFpbF9yZWdleCA9IG5ldyBSZWdFeHAoXCJeKFthLXpBLVowLTlfXFwuXFwtXSkrXFxAKChbYS16QS1aMC05XFwtXSkrXFwuKSsoW2EtekEtWjAtOV17Miw0fSkrJFwiKTtcblxuICAgICAgICAgICAgLyogY2hlY2sgZXF1YWwgZmllbGRzICovXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZXF1YWxfZmllbGRzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBlcXVhbCA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1lcXVhbFwiKSk7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudmFsdWUudHJpbSgpICE9IGVxdWFsLnZhbHVlLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEVycm9yKGVsZW1lbnQsIHRoaXMubWVzc2FnZXNbZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnbGFuZycpXS5lcXVhbCwgXCJlcXVhbFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRXJyb3IoZWxlbWVudCwgXCJlcXVhbFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyogY2hlY2sgcmVxdWlyZWQgZmllbGRzICovXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwocmVxdWlyZWRfZmllbGRzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEVycm9yKGVsZW1lbnQsIHRoaXMubWVzc2FnZXNbZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnbGFuZycpXS5yZXF1aXJlZCwgXCJyZXF1aXJlZFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRXJyb3IoZWxlbWVudCwgJ3JlcXVpcmVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qIGNoZWNrIHVybCBmaWVsZHMgKi9cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbCh1cmxfZmllbGRzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICgoZWxlbWVudC52YWx1ZS50cmltKCkubGVuZ3RoID4gMCkgJiYgKHVybF9yZWdleC50ZXN0KGVsZW1lbnQudmFsdWUudHJpbSgpKSA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXJyb3IoZWxlbWVudCwgdGhpcy5tZXNzYWdlc1tkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdsYW5nJyldLnVybCwgJ3VybCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJFcnJvcihlbGVtZW50LCAndXJsJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qIGNoZWNrIGVtYWlsIGZpZWxkcyAqL1xuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGVtYWlsX2ZpZWxkcywgKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoKGVsZW1lbnQudmFsdWUudHJpbSgpLmxlbmd0aCA+IDApICYmIChlbWFpbF9yZWdleC50ZXN0KGVsZW1lbnQudmFsdWUudHJpbSgpKSA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXJyb3IoZWxlbWVudCwgdGhpcy5tZXNzYWdlc1tkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdsYW5nJyldLmVtYWlsLCAnZW1haWwnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRXJyb3IoZWxlbWVudCwgJ2VtYWlsJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgbGV0IGFsbF9maWVsZHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlcXVhbF9maWVsZHMpLmNvbmNhdChcbiAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChyZXF1aXJlZF9maWVsZHMpLFxuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHVybF9maWVsZHMpLFxuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGVtYWlsX2ZpZWxkcylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChhbGxfZmllbGRzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBlcnIgPSBlbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmZvcm0tZXJyb3InKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGludmFsaWQgPSBkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoXCJkYXRhLWludmFsaWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGludmFsaWQudmFsdWUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT0gXCJTRUxFQ1RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0U2libGluZy5zZXRBdHRyaWJ1dGVOb2RlKGludmFsaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0U2libGluZy5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtdmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlTm9kZShpbnZhbGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXZhbGlkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWxpZCA9IGRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShcImRhdGEtdmFsaWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PSBcIlNFTEVDVFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm5leHRTaWJsaW5nLnNldEF0dHJpYnV0ZU5vZGUodmFsaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0U2libGluZy5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtaW52YWxpZCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGVOb2RlKHZhbGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWludmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgZXJyb3JzX2NvdW50ID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX2Vycm9yJykubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGVycm9yc19jb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdmFsaWQ7XG5cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgbGV0IHJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICB9KTtcblxuICAgIHJlYWR5LnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBmb3JtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0nKTtcbiAgICAgICAgW10uZm9yRWFjaC5jYWxsKGZvcm1zLCAoZm9ybSkgPT4ge1xuICAgICAgICAgICAgbmV3IFZhbGlkYXRpb24oZm9ybSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9