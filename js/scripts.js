"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();!function(){var t=function(){function t(e){_classCallCheck(this,t),this.alert=e,this.alert.querySelector(".alert__close").addEventListener("click",this.close.bind(this)),this.alert.close=this.close.bind(this),this.alert.open=this.open.bind(this),this.status=!1}return _createClass(t,[{key:"close",value:function(){var t=this;this.status&&(Velocity(this.alert,"finish"),Velocity(this.alert,{translateY:0},{duration:250,complete:function(){t.status=!1}}))}},{key:"open",value:function(){var t=this;this.status||(Velocity(this.alert,"finish"),Velocity(this.alert,{translateY:this.alert.offsetHeight+"px"},{duration:250,complete:function(){t.status=!0}}))}}]),t}(),e=new Promise(function(t,e){return"loading"!=document.readyState?t():void document.addEventListener("DOMContentLoaded",function(){return t()})});e.then(function(){[].forEach.call(document.querySelectorAll(".alert"),function(e){new t(e),e.classList.contains("alert_open")&&e.open()})})}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e);var t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){this.map=document.querySelector(".contact__map"),null!=this.map&&(this.map.style.height=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-document.querySelector(".contact__wrapper").offsetHeight-document.querySelector(".footer").offsetHeight-document.querySelector(".header").offsetHeight-52+"px",window.addEventListener("resize",this.resize.bind(this)))}},{key:"resize",value:function(){null!=this.map&&(this.map.style.height=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-document.querySelector(".contact__wrapper").offsetHeight-document.querySelector(".footer").offsetHeight-document.querySelector(".header").offsetHeight-52+"px")}}]),e}();new e}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e);var t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){var e=this;if(null!=document.querySelector(".landing")){this.fired=!1,this.tablet=1200,this.mobile=750,this.min_height=250,this.meta=document.querySelector("meta[name='viewport']"),this.onResize();var t=document.querySelector(".header"),i=document.querySelector(".clock");document.querySelector(".slide_main");window.requestAnimFrame=window.requestAnimationFrame,$(".landing").fullpage({sectionSelector:".landing__section",navigation:!0,afterLoad:this.hideLoader.bind(this),afterRender:this.recountSlides.bind(this),afterResize:this.recountSlides.bind(this),onLeave:function(s,o,n){1==o?(t.classList.toggle("header_open",!1),e.hideNav()):(t.classList.toggle("header_open",!0),e.showNav()),6==o?i.classList.toggle("clock_visible",!0):i.classList.toggle("clock_visible",!1)}}),document.querySelector(".footer__top").addEventListener("click",this.scrollToTop.bind(this)),window.addEventListener("resize",this.onResize.bind(this));var s=document.querySelector(".landing__section.active");null!=s&&(s.classList.toggle("active_moment",!0),s.classList.toggle("active",!1),setTimeout(function(){s.classList.toggle("active_moment",!1),s.classList.toggle("active",!0)},0))}}},{key:"onResize",value:function(){Math.max(document.documentElement.clientHeight,window.innerHeight||0)>420&&Math.max(document.documentElement.clientWidth,window.innerWidth||0)<500?this.meta.setAttribute("content","width=400"):this.meta.setAttribute("content","width=device-width, initial-scale=1.0")}},{key:"hideNav",value:function(){var e=this;Velocity(this.nav,"finish"),Velocity(this.nav,{opacity:0},{duration:300,complete:function(){e.nav.style.display="none"}})}},{key:"showNav",value:function(){var e=this;Velocity(this.nav,"finish"),Velocity(this.nav,{opacity:1},{duration:300,begin:function(){e.nav.style.display="block"}})}},{key:"hideLoader",value:function(){if(this.onResize(),!this.fired){this.fired=!0,this.nav=document.getElementById("fp-nav"),this.hideNav(),[].forEach.call(document.querySelectorAll(".slide__resizable, .slide__centred"),function(e){e.setAttribute("data-height",e.offsetHeight),e.setAttribute("data-width",e.offsetWidth)});var e=document.querySelector(".loader__wrapper"),t={opacity:0},i={duration:500,complete:function(){e.parentNode.removeChild(e)}};Velocity(e,t,i)}}},{key:"recountSlides",value:function(){var e=this;this.onResize();var t=document.querySelectorAll(".slide__resizable"),i=document.querySelector(".slide__centred"),s=document.querySelectorAll(".steps__step"),o=document.querySelector(".slide_service"),n=document.querySelector(".slide__illustration"),l=document.querySelector(".slide_main"),r=document.querySelector(".shema"),a=document.querySelector(".header").offsetHeight,d=document.querySelector(".footer").offsetHeight,c=(r.closest(".slide__details"),l.querySelector(".slide__phones")),h=l.querySelector(".slide__phone"),u=void 0,f=void 0,m=void 0,v=void 0,y=20,g=void 0,_=void 0,p=1,b=1,L=1,S=void 0,w=void 0,q=void 0,z=void 0,M=void 0,A=void 0,x=void 0,k=void 0,H=void 0,C=void 0,E=void 0,I=void 0,W=void 0,R=void 0;g=l.querySelector(".fp-tableCell"),u=Math.min(g.offsetHeight,parseInt(g.style.height,10)),f=g.offsetWidth,S=l.querySelector(".slide__header"),l.style.backgroundSize="auto "+u+"px",f>750?(W=0,_=550):(W=100,_=480),v=u-W-S.offsetHeight,v>=200&&f>750?(c.style.height=Math.min(v,_)+"px",c.style.marginLeft=.1*-Math.min(v,_)+"px",c.style.visibility="visible"):200>v?c.style.visibility="hidden":c.removeAttribute("style"),750>=f&&(h.style.height=v+"px"),g=o.querySelector(".fp-tableCell"),u=Math.min(g.offsetHeight,parseInt(g.style.height,10)),f=g.offsetWidth,S=o.querySelector(".slide__header"),H=Math.min(g.offsetHeight,parseInt(g.style.height,10))-S.offsetHeight-d-a,n.style.height=H+"px",C=700,E=570,I=1.2*f,R=E*I/C,H>R?(n.classList.toggle("slide__illustration_hidden",!1),n.style.backgroundPosition="50% 100%"):370>H?n.classList.toggle("slide__illustration_hidden",!0):(n.classList.toggle("slide__illustration_hidden",!1),n.style.backgroundPosition="50% 0"),i.removeAttribute("style"),[].forEach.call(s,function(e){e.removeAttribute("style")}),Math.max(document.documentElement.clientHeight,window.innerHeight||0)>480&&(w=i.closest(".slide"),g=i.closest(".fp-tableCell"),u=Math.min(g.offsetHeight,parseInt(g.style.height,10)),f=g.offsetWidth,k=parseInt(i.getAttribute("data-height"),10),f>1220?(x=1230,z=170):f>750&&1220>=f?(x=1050,z=170):(x=400,k=900,z=0),v=u-a,m=f-40,b=v/k,L=m/x,p=Math.min(Math.min(b,L),1),M=0,A=0,750>f?(p=v/620,i.style[Modernizr.prefixed("transform")]="translateX(-50%) scale("+p+")"):(x>m&&(A=-(x-f)/2),1>p&&([].forEach.call(s,function(e){e.style[Modernizr.prefixed("transform")]="scale("+Math.min(1/p*.8,2)+")"}),A+=30),A+="px",i.style[Modernizr.prefixed("transform")]="translateX("+A+") translateY("+M+") scale("+p+")")),[].forEach.call(t,function(t){w=t.closest(".slide"),S=t.closest(".slide__details").querySelector(".slide__header"),g=t.closest(".fp-tableCell"),u=Math.min(g.offsetHeight,parseInt(g.style.height,10)),f=g.offsetWidth,k=parseInt(t.getAttribute("data-height"),10),x=parseInt(t.getAttribute("data-width"),10),b=v/k,L=m/x,p=Math.min(b,L),f>e.mobile?(v=u-a-y,m=f/2-40,b=v/k,L=m/x,p=Math.min(b,L),v<e.min_height?w.classList.add("slide_hide-resizable"):1>p?(w.classList.remove("slide_hide-resizable"),t.style[Modernizr.prefixed("transform")]="scale("+p+")",w.classList.contains("slide_right")?(q=parseInt(t.getAttribute("data-width"),10)*p,S.style.borderLeftWidth=q+"px",f>e.tablet&&(t.style.marginRight=S.offsetWidth/2-q+"px")):(q=parseInt(t.getAttribute("data-width"),10)*p,S.style.borderRightWidth=q+"px",f>e.tablet&&(t.style.marginLeft=S.offsetWidth/2-q+"px"))):(w.classList.remove("slide_hide-resizable"),t.removeAttribute("style"),S.removeAttribute("style"))):(v=u-a-S.offsetHeight-60,m=f-40,b=v/k,L=m/x,p=Math.min(b,L),x>m?t.style.marginLeft=-((x-m)/2-20)+"px":t.style.marginLeft="auto",200>v?(console.log("hidding"),w.classList.add("slide_hide-resizable")):1>p?(w.classList.remove("slide_hide-resizable"),t.style[Modernizr.prefixed("transform")]="scale("+p+")"):(w.classList.remove("slide_hide-resizable"),t.removeAttribute("style"),S.removeAttribute("style")))}),this.onResize()}},{key:"scrollToTop",value:function(e){e.preventDefault(),$.fn.fullpage.moveTo(1,0)}}]),e}();new e}();
"use strict";function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function i(i,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}return function(e,n,o){return n&&i(e.prototype,n),o&&i(e,o),e}}();!function(){window.mobileAndTabletcheck=function(){var i=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(i=!0)}(navigator.userAgent||navigator.vendor||window.opera),i},window.isMobile={Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},Windows:function(){return/IEMobile/i.test(navigator.userAgent)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Windows()}};var i=function(){function i(){_classCallCheck(this,i);var e=new Promise(function(i,e){return"loading"!=document.readyState?i():void document.addEventListener("DOMContentLoaded",function(){return i()})});e.then(this.init.bind(this))}return _createClass(i,[{key:"init",value:function(){window.isMobile.Android()?document.body.parentNode.classList.add("android"):window.isMobile.iOS()?document.body.parentNode.classList.add("ios"):window.mobileAndTabletcheck()?document.body.parentNode.classList.add("unknown-mobile"):document.body.parentNode.classList.add("desktop")}}]),i}();new i}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e);var t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){var e=this;if(null!=document.querySelector(".login")){var t=document.querySelectorAll(".login__back"),o=document.querySelectorAll(".login__login-button, .login_success .login__submit"),i=document.querySelectorAll(".menu__interpreter, .header__interpreter");this.menu_popup_open=!1,this.login_button=document.querySelector(".menu__login"),this.register_button=document.querySelector(".menu__register"),this.step1=document.querySelector(".login_register-step-1"),this.step1_form=document.querySelector(".login_register-step-1 form.login__form"),this.step2=document.querySelector(".login_register-step-2"),this.step2_form=document.querySelector(".login_register-step-2 form.login__form"),this.mobile_popup=document.querySelector(".popup_mobile"),this.mobile_popup_close=this.mobile_popup.querySelector(".popup__close"),this.wrapper=document.querySelector(".menu__wrapper"),this.header_register_button=document.querySelector(".header__link_register"),this.header_login_button=document.querySelector(".header__link_login"),this.recovery_button=document.querySelector(".login__password-recovery"),this.lightbox=document.querySelector("body>.lightbox"),this.login_popup=document.querySelector(".login_login"),this.recovery=document.querySelector(".login_recovery"),this.password=document.querySelector(".login_password"),this.recovery_form=this.recovery.querySelector(".login__form"),this.password_form=this.password.querySelector(".login__form"),this.error_message=document.querySelector(".alert_form-send-fail"),this.email=document.querySelector(".login_email"),this.success=document.querySelector(".login_success"),this.current=document.querySelector(".login_open"),this.last=[],this.login_button.addEventListener("click",this.openLoginForm.bind(this)),this.recovery_button.addEventListener("click",this.openRecovery.bind(this)),this.lightbox.addEventListener("click",this.closeAll.bind(this)),this.register_button.addEventListener("click",this.openRegister.bind(this)),this.header_login_button.addEventListener("click",this.openLoginOuter.bind(this)),this.header_register_button.addEventListener("click",this.openRegisterOuter.bind(this)),this.mobile_popup_close.addEventListener("click",this.closeMobilePopup.bind(this)),this.recovery_form.addEventListener("submit",this.sendData.bind(this)),this.password_form.addEventListener("submit",this.sendData.bind(this)),this.step1_form.addEventListener("submit",this.openNext.bind(this)),this.step2_form.addEventListener("submit",this.sendData.bind(this)),window.addEventListener("resize",this.reposPopup.bind(this)),$(".login select").select2(),[].forEach.call(i,function(t){t.addEventListener("click",e.openMobilePopup.bind(e))}),[].forEach.call(t,function(t){t.addEventListener("click",e.goback.bind(e))}),[].forEach.call(o,function(t){t.addEventListener("click",e.openLoginInner.bind(e))}),this.WebRTCSupport=!document.documentElement.classList.contains("no-peerconnection"),this.WebRTCSupport||([].forEach.call(document.querySelectorAll("form.login__form input, form.login__form button, form.login__form select"),function(e){e.setAttribute("disabled","disabled")}),[].forEach.call(document.documentElement.querySelectorAll("form.login__form"),function(e){e.addEventListener("click",function(t){e.closest(".login").querySelector(".popup_browser").open()})}),[].forEach.call(document.querySelectorAll(".popup_browser"),function(t){e.showPopup(t)}))}}},{key:"openNext",value:function(e){e.preventDefault(),0!=this.step1_form.validate()&&this.openForm(this.step2)}},{key:"reposPopup",value:function(e){this.menu_popup_open&&(this.mobile_popup.style[Modernizr.prefixed("transform")]="translateY("+this.mobile_popup.offsetHeight+"px)")}},{key:"closeMobilePopup",value:function(){var e=this;this.menu_popup_open&&(this.menu_popup_open=!1,Velocity(this.mobile_popup,"stop"),Velocity(this.mobile_popup,{translateY:0},250),Velocity(this.mobile_popup_button,"stop"),Velocity(this.mobile_popup_button,{opacity:1},{duration:250,begin:function(){e.mobile_popup_button.style.display="block"}}))}},{key:"openMobilePopup",value:function(){var e=this;this.menu_popup_open||(this.menu_popup_open=!0,Velocity(this.mobile_popup,"stop"),Velocity(this.mobile_popup,{translateY:this.mobile_popup.offsetHeight+"px"},250),Velocity(this.mobile_popup_button,"stop"),Velocity(this.mobile_popup_button,{opacity:0},{duration:250,complete:function(){e.mobile_popup_button.style.display="none"}}))}},{key:"showPopup",value:function(e){void 0!=e.show?e.show():setTimeout(this.showPopup.bind(this,e),50)}},{key:"openLoginOuter",value:function(e){var t=this;e.preventDefault(),$.fn.fullpage.moveTo(1,0),setTimeout(function(){t.login_button.click()},800)}},{key:"openRegisterOuter",value:function(e){var t=this;e.preventDefault(),$.fn.fullpage.moveTo(1,0),setTimeout(function(){t.register_button.click()},800)}},{key:"sendData",value:function(e){var t=this;e.preventDefault();var o=e.currentTarget;if(0!=o.validate())try{!function(){var e=4,i=200,n=void 0,r=new XMLHttpRequest,s=new Promise(function(n,s){r.open("POST",o.getAttribute("action")),r.send(new FormData(o)),r.onreadystatechange=function(){r.readyState===e&&(t.recovery_form.reset(),r.status===i?n():s({code:parseInt(r.status,10),message:r.statusText}))}});n=o.hasAttribute("data-check")?t.showCheckMessage.bind(t):t.showSuccessMessage.bind(t),s.then(n)["catch"](t.showErrorMessage.bind(t))}()}catch(i){console.log("error: ",i)}}},{key:"showCheckMessage",value:function(){this.openForm(this.email)}},{key:"showSuccessMessage",value:function(){this.openForm(this.success)}},{key:"openLoginInner",value:function(){this.openForm(this.login_popup)}},{key:"showErrorMessage",value:function(e){this.last=new Array,console.log(e.code,"Responce status code: "+e.code+". "+e.message+"."),this.error_message.open()}},{key:"goback",value:function(){this.openForm()}},{key:"emailHaveSend",value:function(){this.openForm(this.email)}},{key:"openRegisterInner",value:function(){this.openForm(this.step1)}},{key:"openRegister",value:function(){var e=this;$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1);var t={right:0},o={duration:250};Velocity(this.step1,t,o),this.current=this.step1,t={opacity:1},o={begin:function(){e.lightbox.style.display="block"},duration:250},Velocity(this.lightbox,t,o)}},{key:"openRecovery",value:function(e){e.preventDefault(),this.WebRTCSupport&&this.openForm(this.recovery)}},{key:"openForm",value:function(e,t){$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1);var o=this.current.querySelector("form");if(null!=o&&setTimeout(function(){o.clear()},500),"undefined"==typeof e&&this.last.length>0)e=this.last.pop();else{if("undefined"==typeof e&&0==this.last.length)return void this.closeAll();1!=t&&this.last.push(this.current)}o=e.querySelector("form"),null!=o&&setTimeout(function(){o.clear()},500);var i={right:-this.current.offsetWidth+"px"},n={duration:250};Velocity(this.current,i,n),i={right:0},n={duration:250},Velocity(e,i,n),this.current=e}},{key:"closeAll",value:function(){var e=this;$.fn.fullpage.setAllowScrolling(!0),$.fn.fullpage.setKeyboardScrolling(!0);var t={right:-this.current.offsetWidth+"px"},o={duration:250};Velocity(this.current,t,o),this.current=null,t={opacity:0},o={complete:function(){e.lightbox.style.display="none"},duration:250},Velocity(this.lightbox,t,o),setTimeout(function(){e.clearAll()},500)}},{key:"clearAll",value:function(){[].forEach.call(document.querySelectorAll("form"),function(e){e.clear()}),$(".login select").select2("destroy"),$(".login select").select2()}},{key:"openLoginForm",value:function(e){var t=this;e.preventDefault(),$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1);var o={right:0},i={duration:250};Velocity(this.login_popup,o,i),this.current=this.login_popup,o={opacity:1},i={begin:function(){t.lightbox.style.display="block"},duration:250},Velocity(this.lightbox,o,i)}}]),e}();new e}();
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}();!function(){var t=function(){function t(e){_classCallCheck(this,t),this.popup=e,e.querySelector(".popup__close").addEventListener("click",this.close.bind(this)),this.popup.close=this.close.bind(this),this.popup.open=this.open.bind(this),this.popup.show=this.show.bind(this),this.status=!1,this.jamping=!1}return _createClass(t,[{key:"show",value:function(){this.popup.style.display="block",this.popup.style[Modernizr.prefixed("transform")]="rotateX(0)",this.status=!0}},{key:"hide",value:function(){this.popup.style.display="none",this.popup.style[Modernizr.prefixed("transform")]="rotateX(180deg)",this.status=!1,Velocity(this.popup,"stop")}},{key:"close",value:function(){var t=this;this.jamping||this.status&&(Velocity(this.popup,"finish"),Velocity(this.popup,{rotateX:"120deg"},{duration:500,begin:function(){t.popup.style.display="block"},complete:function(){t.status=!1}}))}},{key:"open",value:function(){var t=this;if(!this.jamping){if(this.status)return void this.jump();this.jamping=!0,Velocity(this.popup,"finish"),Velocity(this.popup,{rotateX:"0deg"},{duration:500,begin:function(){t.popup.style.display="block"},complete:function(){t.status=!0}}),Velocity(this.popup,{rotateX:"20deg"},150),Velocity(this.popup,{rotateX:"0deg"},125),Velocity(this.popup,{rotateX:"10deg"},200),Velocity(this.popup,{rotateX:"0deg"},{duration:175,complete:function(){t.jamping=!1}})}}},{key:"jump",value:function(){var t=this;this.jamping=!0,Velocity(this.popup,"finish"),Velocity(this.popup,{rotateX:"35deg"},150),Velocity(this.popup,{rotateX:"0deg"},125),Velocity(this.popup,{rotateX:"20deg"},200),Velocity(this.popup,{rotateX:"0deg"},175),Velocity(this.popup,{rotateX:"15deg"},250),Velocity(this.popup,{rotateX:"0deg"},{duration:225,complete:function(){t.jamping=!1}})}}]),t}(),e=new Promise(function(t,e){return"loading"!=document.readyState?t():void document.addEventListener("DOMContentLoaded",function(){return t()})});e.then(function(){[].forEach.call(document.querySelectorAll(".popup_browser"),function(e){new t(e)}),[].forEach.call(document.querySelectorAll(".popup_common"),function(e){new t(e),e.classList.contains("popup_open")&&e.open()})})}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.form=t,t.setAttribute("novalidate","novalidate"),t.addEventListener("submit",this.validate.bind(this)),t.validate=this.validate.bind(this),t.clear=this.clear.bind(this),this.messages={en:{required:"Required field",email:"Wrong email format",equal:"Password fields should be equal",url:"Wrong url format"},ru:{required:"Поле обязательно для заполнения",email:"Проверьте формат email",equal:"Пароли должны совпадать",url:"Проверьте формат URL"}}}return _createClass(e,[{key:"clear",value:function(){this.form.reset();var e=$(this.form).find("select");e.length>0&&(e.select2("destroy"),e.select2()),setTimeout(function(){var e=document.querySelectorAll(".form-error"),t=document.querySelectorAll("[data-valid], [data-invalid]");[].forEach.call(e,function(e){e.parentNode.removeChild(e)}),[].forEach.call(t,function(e){e.removeAttribute("data-invalid"),e.removeAttribute("data-valid")})},100)}},{key:"addError",value:function(e,t,r){if(null==e.parentNode.querySelector('.form-error[data-type="'+r+'"]')){var a=document.createElement("P");a.appendChild(document.createTextNode(t)),a.classList.add("form-error"),a.setAttribute("data-type",r),e.parentNode.appendChild(a)}}},{key:"clearError",value:function(e,t){var r=e.parentNode.querySelector('.form-error[data-type="'+t+'"]');null!=r&&e.parentNode.removeChild(r)}},{key:"validate",value:function(e){var t=this;"undefined"==typeof e||e.currentTarget.hasAttribute("data-reload")||e.preventDefault();var r=!0,a=this.form.querySelectorAll("[data-equal]"),l=this.form.querySelectorAll("[required]"),o=this.form.querySelectorAll('input[type="url"]'),i=this.form.querySelectorAll('input[type="email"]'),n=new RegExp("^(http|https|ftp)://([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&amp;%$-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|([a-zA-Z0-9-]+.)*[a-zA-Z0-9-]+.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(/($|[a-zA-Z0-9.,?'\\+&amp;%$#=~_-]+))*$","i"),u=new RegExp("^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$");[].forEach.call(a,function(e){var a=t.form.querySelector(e.getAttribute("data-equal"));e.value.trim()!=a.value.trim()?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].equal,"equal")):t.clearError(e,"equal")}),[].forEach.call(l,function(e){""===e.value.trim()?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].required,"required")):t.clearError(e,"required")}),[].forEach.call(o,function(e){e.value.trim().length>0&&n.test(e.value.trim())===!1?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].url,"url")):t.clearError(e,"url")}),[].forEach.call(i,function(e){e.value.trim().length>0&&u.test(e.value.trim())===!1?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].email,"email")):t.clearError(e,"email")});var d=Array.prototype.slice.call(a).concat(Array.prototype.slice.call(l),Array.prototype.slice.call(o),Array.prototype.slice.call(i));[].forEach.call(d,function(e){var t=e.parentNode.querySelector(".form-error");if(null!=t){var r=document.createAttribute("data-invalid");r.value=!0,"SELECT"==e.tagName?(e.nextSibling.setAttributeNode(r),e.nextSibling.removeAttribute("data-valid")):(e.setAttributeNode(r),e.removeAttribute("data-valid"))}else{var a=document.createAttribute("data-valid");a.value=!0,"SELECT"==e.tagName?(e.nextSibling.setAttributeNode(a),e.nextSibling.removeAttribute("data-invalid")):(e.setAttributeNode(a),e.removeAttribute("data-invalid"))}});var c=this.form.querySelectorAll(".form_error").length;return c>0&&(r=!1),r===!1&&"undefined"!=typeof e&&e.preventDefault(),r}}]),e}(),t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(function(){var t=document.querySelectorAll("form");[].forEach.call(t,function(t){new e(t)})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsZXJ0L2FsZXJ0LmpzIiwiY29udGFjdC9jb250YWN0cy5qcyIsImxhbmRpbmcvbGFuZGluZy5qcyIsImxheW91dC9sYXlvdXQuanMiLCJsb2dpbi9sb2dpbi5qcyIsInBvcHVwL3BvcHVwLmpzIiwidmFsaWRhdG9yL3ZhbGlkYXRpb24uanMiXSwibmFtZXMiOlsiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCJBbGVydCIsImFsZXJ0IiwidGhpcyIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xvc2UiLCJiaW5kIiwib3BlbiIsInN0YXR1cyIsInZhbHVlIiwiX3RoaXMiLCJWZWxvY2l0eSIsInRyYW5zbGF0ZVkiLCJkdXJhdGlvbiIsImNvbXBsZXRlIiwiX3RoaXMyIiwib2Zmc2V0SGVpZ2h0IiwicmVhZHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImRvY3VtZW50IiwicmVhZHlTdGF0ZSIsInRoZW4iLCJmb3JFYWNoIiwiY2FsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIkNvbnRhY3RzIiwiaW5pdCIsIm1hcCIsInN0eWxlIiwiaGVpZ2h0IiwiTWF0aCIsIm1heCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudEhlaWdodCIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwicmVzaXplIiwiTGFuZGdpbmciLCJmaXJlZCIsInRhYmxldCIsIm1vYmlsZSIsIm1pbl9oZWlnaHQiLCJtZXRhIiwib25SZXNpemUiLCJoZWFkZXIiLCJjbG9jayIsInJlcXVlc3RBbmltRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCIkIiwiZnVsbHBhZ2UiLCJzZWN0aW9uU2VsZWN0b3IiLCJuYXZpZ2F0aW9uIiwiYWZ0ZXJMb2FkIiwiaGlkZUxvYWRlciIsImFmdGVyUmVuZGVyIiwicmVjb3VudFNsaWRlcyIsImFmdGVyUmVzaXplIiwib25MZWF2ZSIsImluZGV4IiwibmV4dEluZGV4IiwiZGlyZWN0aW9uIiwidG9nZ2xlIiwiaGlkZU5hdiIsInNob3dOYXYiLCJzY3JvbGxUb1RvcCIsImFjdGl2ZSIsInNldFRpbWVvdXQiLCJjbGllbnRXaWR0aCIsImlubmVyV2lkdGgiLCJzZXRBdHRyaWJ1dGUiLCJuYXYiLCJvcGFjaXR5IiwiZGlzcGxheSIsIl90aGlzMyIsImJlZ2luIiwiZ2V0RWxlbWVudEJ5SWQiLCJyZXNpemFibGUiLCJvZmZzZXRXaWR0aCIsImxvYWRlciIsIm9wdGlvbnMiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJfdGhpczQiLCJyZXNpemFibGVzIiwiY2VudHJlZCIsInN0ZXBzIiwic2VydmljZV9zbGlkZSIsInNlcnZpY2VfaWxsdXN0cmF0aW9uIiwibWFpbiIsInNoZW1hIiwiaGVhZGVyX2hlaWdodCIsImZvb3Rlcl9oZWlnaHQiLCJwaG9uZXMiLCJjbG9zZXN0IiwicGhvbmUiLCJ2aWV3cG9ydF9oZWlnaHQiLCJ1bmRlZmluZWQiLCJ2aWV3cG9ydF93aWR0aCIsImF2YWlsYWJhbGVfd2lkdGgiLCJhdmFpbGFiYWxlX2hlaWdodCIsImRlbHRhIiwiY2VsbCIsInNpemUiLCJzY2FsZSIsInNjYWxlX3giLCJzY2FsZV95Iiwic2xpZGUiLCJib3JkZXJfd2lkdGgiLCJkZWx0YV95IiwidHJfeSIsInRyX3giLCJlbGVtZW50X3dpZHRoIiwiZWxlbWVudF9oZWlnaHQiLCJpbGx1c3RyYXRpb25faGVpZ2h0Iiwid193aWR0aCIsIndfaGVpZ2h0IiwiaV93aWR0aCIsImRlbCIsImlfaGVpZ2h0IiwibWluIiwicGFyc2VJbnQiLCJiYWNrZ3JvdW5kU2l6ZSIsIm1hcmdpbkxlZnQiLCJ2aXNpYmlsaXR5IiwicmVtb3ZlQXR0cmlidXRlIiwiYmFja2dyb3VuZFBvc2l0aW9uIiwic3RlcCIsImdldEF0dHJpYnV0ZSIsIk1vZGVybml6ciIsInByZWZpeGVkIiwiYWRkIiwicmVtb3ZlIiwiYm9yZGVyTGVmdFdpZHRoIiwibWFyZ2luUmlnaHQiLCJib3JkZXJSaWdodFdpZHRoIiwiY29uc29sZSIsImxvZyIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJmbiIsIm1vdmVUbyIsIm1vYmlsZUFuZFRhYmxldGNoZWNrIiwiY2hlY2siLCJhIiwidGVzdCIsInN1YnN0ciIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInZlbmRvciIsIm9wZXJhIiwiaXNNb2JpbGUiLCJBbmRyb2lkIiwiQmxhY2tCZXJyeSIsImlPUyIsIldpbmRvd3MiLCJhbnkiLCJMYXlvdXQiLCJib2R5IiwiTWVudSIsImJhY2tfYnV0dG9ucyIsImxvZ2luX2J1dHRvbnMiLCJtb2JpbGVfcG9wdXBfYnV0dG9ucyIsIm1lbnVfcG9wdXBfb3BlbiIsImxvZ2luX2J1dHRvbiIsInJlZ2lzdGVyX2J1dHRvbiIsInN0ZXAxIiwic3RlcDFfZm9ybSIsInN0ZXAyIiwic3RlcDJfZm9ybSIsIm1vYmlsZV9wb3B1cCIsIm1vYmlsZV9wb3B1cF9jbG9zZSIsIndyYXBwZXIiLCJoZWFkZXJfcmVnaXN0ZXJfYnV0dG9uIiwiaGVhZGVyX2xvZ2luX2J1dHRvbiIsInJlY292ZXJ5X2J1dHRvbiIsImxpZ2h0Ym94IiwibG9naW5fcG9wdXAiLCJyZWNvdmVyeSIsInBhc3N3b3JkIiwicmVjb3ZlcnlfZm9ybSIsInBhc3N3b3JkX2Zvcm0iLCJlcnJvcl9tZXNzYWdlIiwiZW1haWwiLCJzdWNjZXNzIiwiY3VycmVudCIsImxhc3QiLCJvcGVuTG9naW5Gb3JtIiwib3BlblJlY292ZXJ5IiwiY2xvc2VBbGwiLCJvcGVuUmVnaXN0ZXIiLCJvcGVuTG9naW5PdXRlciIsIm9wZW5SZWdpc3Rlck91dGVyIiwiY2xvc2VNb2JpbGVQb3B1cCIsInNlbmREYXRhIiwib3Blbk5leHQiLCJyZXBvc1BvcHVwIiwic2VsZWN0MiIsImJ1dHRvbiIsIm9wZW5Nb2JpbGVQb3B1cCIsImdvYmFjayIsIm9wZW5Mb2dpbklubmVyIiwiV2ViUlRDU3VwcG9ydCIsImVsZW1lbnQiLCJmb3JtIiwicG9wdXAiLCJzaG93UG9wdXAiLCJ2YWxpZGF0ZSIsIm9wZW5Gb3JtIiwibW9iaWxlX3BvcHVwX2J1dHRvbiIsInNob3ciLCJjbGljayIsIl90aGlzNSIsIl90aGlzNiIsImN1cnJlbnRUYXJnZXQiLCJET05FIiwiT0siLCJtZXNzYWdlIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJsb2FkZWQiLCJzZW5kIiwiRm9ybURhdGEiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZXNldCIsImNvZGUiLCJzdGF0dXNUZXh0IiwiaGFzQXR0cmlidXRlIiwic2hvd0NoZWNrTWVzc2FnZSIsInNob3dTdWNjZXNzTWVzc2FnZSIsInNob3dFcnJvck1lc3NhZ2UiLCJlcnIiLCJyZWFzb24iLCJBcnJheSIsIl90aGlzNyIsInNldEFsbG93U2Nyb2xsaW5nIiwic2V0S2V5Ym9hcmRTY3JvbGxpbmciLCJyaWdodCIsImRvbnRfc2F2ZSIsImNsZWFyIiwicG9wIiwicHVzaCIsIl90aGlzOCIsImNsZWFyQWxsIiwiX3RoaXM5IiwiUG9wdXAiLCJqYW1waW5nIiwicm90YXRlWCIsImp1bXAiLCJWYWxpZGF0aW9uIiwibWVzc2FnZXMiLCJlbiIsInJlcXVpcmVkIiwiZXF1YWwiLCJ1cmwiLCJydSIsInNlbGVjdG9ycyIsImZpbmQiLCJlcnJvcnMiLCJmaWVsZHMiLCJlcnJvciIsImZpZWxkIiwidHlwZSIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwidmFsaWQiLCJlcXVhbF9maWVsZHMiLCJyZXF1aXJlZF9maWVsZHMiLCJ1cmxfZmllbGRzIiwiZW1haWxfZmllbGRzIiwidXJsX3JlZ2V4IiwiUmVnRXhwIiwiZW1haWxfcmVnZXgiLCJ0cmltIiwiYWRkRXJyb3IiLCJjbGVhckVycm9yIiwiYWxsX2ZpZWxkcyIsInNsaWNlIiwiY29uY2F0IiwiaW52YWxpZCIsImNyZWF0ZUF0dHJpYnV0ZSIsInRhZ05hbWUiLCJuZXh0U2libGluZyIsInNldEF0dHJpYnV0ZU5vZGUiLCJfdmFsaWQiLCJlcnJvcnNfY291bnQiLCJmb3JtcyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFJQSxTQUFTQSxpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FGaEgsR0FBSUMsY0FBZSxXQUFlLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV0MsV0FBYUQsRUFBV0MsYUFBYyxFQUFPRCxFQUFXRSxjQUFlLEVBQVUsU0FBV0YsS0FBWUEsRUFBV0csVUFBVyxHQUFNQyxPQUFPQyxlQUFlVCxFQUFRSSxFQUFXTSxJQUFLTixJQUFpQixNQUFPLFVBQVVSLEVBQWFlLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZWixFQUFpQkgsRUFBWWlCLFVBQVdGLEdBQWlCQyxHQUFhYixFQUFpQkgsRUFBYWdCLEdBQXFCaEIsT0FEamlCLFdBV0ksR0FOTWtCLEdBQUssV0FLSyxRQUxWQSxHQUtXQyxHQVFUckIsZ0JBQWdCc0IsS0FibEJGLEdBTUVFLEtBQUtELE1BQVFBLEVBQ2JDLEtBQUtELE1BQU1FLGNBQWMsaUJBQWlCQyxpQkFBaUIsUUFBU0YsS0FBS0csTUFBTUMsS0FBS0osT0FDcEZBLEtBQUtELE1BQU1JLE1BQVFILEtBQUtHLE1BQU1DLEtBQUtKLE1BQ25DQSxLQUFLRCxNQUFNTSxLQUFPTCxLQUFLSyxLQUFLRCxLQUFLSixNQUNqQ0EsS0FBS00sUUFBUyxFQW1EbEIsTUF2Q0F4QixjQXRCRWdCLElBdUJFSixJQUFLLFFBQ0xhLE1BWEUsV0FZRSxH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LEVBQVErRSxTQUNSL0UsRUFBUWdGLFlBQVlDLGlCQUFpQkMsR0FDckNsRixFQUFRZ0YsWUFBWTlKLGdCQUFnQixrQkFFcEM4RSxFQUFRaUYsaUJBQWlCQyxHQUN6QmxGLEVBQVE5RSxnQkFBZ0IsbUJBS3BDLElBQUlpSyxHQUFlL1IsS0FBSzZNLEtBQUtyTCxpQkFBaUIsZUFBZXJDLE1BVzdELE9BVkk0UyxHQUFlLElBQ2ZwQixHQUFRLEdBR1JBLEtBQVUsR0FDVSxtQkFBVGhJLElBQ1BBLEVBQU1DLGlCQUlQK0gsTUFoTVRqQixLQXNNRjNPLEVBQVEsR0FBSUMsU0FBUSxTQUFDQyxFQUFTQyxHQUM5QixNQUEyQixXQUF2QkMsU0FBU0MsV0FBZ0NILFFBQzdDRSxVQUFTakIsaUJBQWlCLG1CQUFvQixXQWMxQyxNQWRnRGUsUUFHeERGLEdBQU1NLEtBQUssV0FDUCxHQUFJMlEsR0FBUTdRLFNBQVNLLGlCQUFpQixXQUNuQ0YsUUFBUUMsS0FBS3lRLEVBQU8sU0FBQ25GLEdBQ3BCLEdBQUk2QyxHQUFXN0MiLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuKGZ1bmN0aW9uICgpIHtcblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBQb3B1cFxuICAgICAqL1xuICAgIGNsYXNzIEFsZXJ0IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRpbmcgZXZlbnRzIGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IgKGFsZXJ0KSB7XG4gICAgICAgICAgICB0aGlzLmFsZXJ0ID0gYWxlcnQ7XG4gICAgICAgICAgICB0aGlzLmFsZXJ0LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydF9fY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmFsZXJ0LmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5hbGVydC5vcGVuID0gdGhpcy5vcGVuLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvc2UgKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXR1cykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMuYWxlcnQsIFwiZmluaXNoXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5hbGVydCwge1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6IDBcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgLCBjb21wbGV0ZTogKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBvcGVuICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5hbGVydCwgXCJmaW5pc2hcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmFsZXJ0LCB7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogdGhpcy5hbGVydC5vZmZzZXRIZWlnaHQgKyBcInB4XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgLCBjb21wbGV0ZTogKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9IFwibG9hZGluZ1wiKSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKT0+IHJlc29sdmUoKSk7XG4gICAgfSk7XG5cbiAgICByZWFkeS50aGVuKCgpPT57XG4gICAgICAgIFtdLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWxlcnQnKSwgKGFsZXJ0KSA9PiB7XG4gICAgICAgICAgICBuZXcgQWxlcnQoYWxlcnQpO1xuICAgICAgICAgICAgaWYgKGFsZXJ0LmNsYXNzTGlzdC5jb250YWlucygnYWxlcnRfb3BlbicpKXtcbiAgICAgICAgICAgICAgICBhbGVydC5vcGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG59KSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4oZnVuY3Rpb24oKSB7XG4gICAgY2xhc3MgQ29udGFjdHMge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFN0YXJ0IGluaXRpYWxpemF0aW9uIG9uIGRvbWxvYWRcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZWFkeS50aGVuKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5pdCgpIHtcbiAgICAgICAgICAgIHRoaXMubWFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX21hcCcpO1xuICAgICAgICAgICAgaWYodGhpcy5tYXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwLnN0eWxlLmhlaWdodCA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKSAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X193cmFwcGVyJykub2Zmc2V0SGVpZ2h0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3RlcicpLm9mZnNldEhlaWdodCAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKS5vZmZzZXRIZWlnaHQgLSA1MiArIFwicHhcIjtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXNpemUgKCkge1xuICAgICAgICAgICAgaWYodGhpcy5tYXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwLnN0eWxlLmhlaWdodCA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKSAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X193cmFwcGVyJykub2Zmc2V0SGVpZ2h0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3RlcicpLm9mZnNldEhlaWdodCAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKS5vZmZzZXRIZWlnaHQgLSA1MiArIFwicHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXcgQ29udGFjdHM7XG59KSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4oZnVuY3Rpb24oKSB7XG4gICAgY2xhc3MgTGFuZGdpbmcge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFN0YXJ0IGluaXRpYWxpemF0aW9uIG9uIGRvbWxvYWRcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZWFkeS50aGVuKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5pdCgpIHtcblxuICAgICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxhbmRpbmcnKSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmZpcmVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRhYmxldCA9IDEyMDA7XG4gICAgICAgICAgICB0aGlzLm1vYmlsZSA9IDc1MDtcbiAgICAgICAgICAgIHRoaXMubWluX2hlaWdodCA9IDI1MDtcbiAgICAgICAgICAgIHRoaXMubWV0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJtZXRhW25hbWU9J3ZpZXdwb3J0J11cIik7XG5cbiAgICAgICAgICAgIHRoaXMub25SZXNpemUoKTtcblxuICAgICAgICAgICAgbGV0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKVxuICAgICAgICAgICAgICAgICwgY2xvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvY2snKVxuICAgICAgICAgICAgICAgICwgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZV9tYWluJyk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbUZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICAgICAgICAgICQoXCIubGFuZGluZ1wiKS5mdWxscGFnZSh7XG4gICAgICAgICAgICAgICAgc2VjdGlvblNlbGVjdG9yOiBcIi5sYW5kaW5nX19zZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhZnRlckxvYWQ6IHRoaXMuaGlkZUxvYWRlci5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIGFmdGVyUmVuZGVyOiB0aGlzLnJlY291bnRTbGlkZXMuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICBhZnRlclJlc2l6ZTogdGhpcy5yZWNvdW50U2xpZGVzLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgb25MZWF2ZTogKGluZGV4LCBuZXh0SW5kZXgsIGRpcmVjdGlvbikgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0SW5kZXggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlcl9vcGVuJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlTmF2KCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyX29wZW4nLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd05hdigpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRJbmRleCA9PSA2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9jay5jbGFzc0xpc3QudG9nZ2xlKCdjbG9ja192aXNpYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9jay5jbGFzc0xpc3QudG9nZ2xlKCdjbG9ja192aXNpYmxlJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9fdG9wXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnNjcm9sbFRvVG9wLmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgbGV0IGFjdGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYW5kaW5nX19zZWN0aW9uLmFjdGl2ZScpO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZV9tb21lbnQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBhY3RpdmUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZV9tb21lbnQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgb25SZXNpemUgKCkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIChNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMCkgPiA0MjAgKVxuICAgICAgICAgICAgICAgICYmIChNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApIDwgNTAwKVxuICAgICAgICAgICAgKXtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGEuc2V0QXR0cmlidXRlKFwiY29udGVudFwiLCBcIndpZHRoPTQwMFwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhLnNldEF0dHJpYnV0ZShcImNvbnRlbnRcIiwgXCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaGlkZU5hdiAoKSB7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLm5hdiwgXCJmaW5pc2hcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLm5hdiwge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwXG4gICAgICAgICAgICAgICAgLCBjb21wbGV0ZTogKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNob3dOYXYgKCkge1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5uYXYsIFwiZmluaXNoXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5uYXYsIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMFxuICAgICAgICAgICAgICAgICwgYmVnaW46ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaGlkZUxvYWRlcigpIHtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpcmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm5hdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcC1uYXYnKTtcbiAgICAgICAgICAgIHRoaXMuaGlkZU5hdigpO1xuXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlX19yZXNpemFibGUsIC5zbGlkZV9fY2VudHJlZCcpLCAocmVzaXphYmxlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzaXphYmxlLnNldEF0dHJpYnV0ZSgnZGF0YS1oZWlnaHQnLCByZXNpemFibGUub2Zmc2V0SGVpZ2h0KTtcbiAgICAgICAgICAgICAgICByZXNpemFibGUuc2V0QXR0cmlidXRlKCdkYXRhLXdpZHRoJywgcmVzaXphYmxlLm9mZnNldFdpZHRoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgbG9hZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvYWRlcl9fd3JhcHBlcicpLFxuICAgICAgICAgICAgICAgIHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobG9hZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFZlbG9jaXR5KGxvYWRlciwgcHJvcHMsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cblxuICAgICAgICByZWNvdW50U2xpZGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplKCk7XG5cbiAgICAgICAgICAgIGxldCByZXNpemFibGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlX19yZXNpemFibGUnKVxuICAgICAgICAgICAgICAgICwgY2VudHJlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZV9fY2VudHJlZCcpXG4gICAgICAgICAgICAgICAgLCBzdGVwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwc19fc3RlcCcpXG4gICAgICAgICAgICAgICAgLCBzZXJ2aWNlX3NsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlX3NlcnZpY2UnKVxuICAgICAgICAgICAgICAgICwgc2VydmljZV9pbGx1c3RyYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVfX2lsbHVzdHJhdGlvbicpXG4gICAgICAgICAgICAgICAgLCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlX21haW4nKVxuICAgICAgICAgICAgICAgICwgc2hlbWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2hlbWEnKVxuICAgICAgICAgICAgICAgICwgaGVhZGVyX2hlaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKS5vZmZzZXRIZWlnaHRcbiAgICAgICAgICAgICAgICAsIGZvb3Rlcl9oZWlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyJykub2Zmc2V0SGVpZ2h0XG4gICAgICAgICAgICAgICAgLCBzaGVtYV9kZXRhaWxzID0gc2hlbWEuY2xvc2VzdCgnLnNsaWRlX19kZXRhaWxzJylcbiAgICAgICAgICAgICAgICAsIHBob25lcyA9IG1haW4ucXVlcnlTZWxlY3RvcignLnNsaWRlX19waG9uZXMnKVxuICAgICAgICAgICAgICAgICwgcGhvbmUgPSBtYWluLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZV9fcGhvbmUnKVxuICAgICAgICAgICAgICAgICwgdmlld3BvcnRfaGVpZ2h0XG4gICAgICAgICAgICAgICAgLCB2aWV3cG9ydF93aWR0aFxuICAgICAgICAgICAgICAgICwgYXZhaWxhYmFsZV93aWR0aFxuICAgICAgICAgICAgICAgICwgYXZhaWxhYmFsZV9oZWlnaHRcbiAgICAgICAgICAgICAgICAsIGRlbHRhID0gMjBcbiAgICAgICAgICAgICAgICAsIGNlbGxcbiAgICAgICAgICAgICAgICAsIHNpemVcbiAgICAgICAgICAgICAgICAsIHNjYWxlID0gMVxuICAgICAgICAgICAgICAgICwgc2NhbGVfeCA9IDFcbiAgICAgICAgICAgICAgICAsIHNjYWxlX3kgPSAxXG4gICAgICAgICAgICAgICAgLCBoZWFkZXJcbiAgICAgICAgICAgICAgICAsIHNsaWRlXG4gICAgICAgICAgICAgICAgLCBib3JkZXJfd2lkdGhcbiAgICAgICAgICAgICAgICAsIGRlbHRhX3lcbiAgICAgICAgICAgICAgICAsIHRyX3lcbiAgICAgICAgICAgICAgICAsIHRyX3hcbiAgICAgICAgICAgICAgICAsIGVsZW1lbnRfd2lkdGhcbiAgICAgICAgICAgICAgICAsIGVsZW1lbnRfaGVpZ2h0XG4gICAgICAgICAgICAgICAgLCBpbGx1c3RyYXRpb25faGVpZ2h0XG4gICAgICAgICAgICAgICAgLCB3X3dpZHRoXG4gICAgICAgICAgICAgICAgLCB3X2hlaWdodFxuICAgICAgICAgICAgICAgICwgaV93aWR0aFxuICAgICAgICAgICAgICAgICwgZGVsXG4gICAgICAgICAgICAgICAgLCBpX2hlaWdodDtcblxuICAgICAgICAgICAgY2VsbCA9IG1haW4ucXVlcnlTZWxlY3RvcignLmZwLXRhYmxlQ2VsbCcpO1xuICAgICAgICAgICAgdmlld3BvcnRfaGVpZ2h0ID0gTWF0aC5taW4oY2VsbC5vZmZzZXRIZWlnaHQsIHBhcnNlSW50KGNlbGwuc3R5bGUuaGVpZ2h0LCAxMCkpO1xuICAgICAgICAgICAgdmlld3BvcnRfd2lkdGggPSBjZWxsLm9mZnNldFdpZHRoO1xuXG4gICAgICAgICAgICBoZWFkZXIgPSBtYWluLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZV9faGVhZGVyJyk7XG4gICAgICAgICAgICBtYWluLnN0eWxlLmJhY2tncm91bmRTaXplID0gXCJhdXRvIFwiICsgdmlld3BvcnRfaGVpZ2h0ICsgXCJweFwiO1xuXG4gICAgICAgICAgICBpZiAodmlld3BvcnRfd2lkdGggPiA3NTApIHtcbiAgICAgICAgICAgICAgICBkZWwgPSAwO1xuICAgICAgICAgICAgICAgIHNpemUgPSA1NTA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbCA9IDEwMDtcbiAgICAgICAgICAgICAgICBzaXplID0gNDgwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXZhaWxhYmFsZV9oZWlnaHQgPSB2aWV3cG9ydF9oZWlnaHQgLSBkZWwgLSBoZWFkZXIub2Zmc2V0SGVpZ2h0O1xuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKGF2YWlsYWJhbGVfaGVpZ2h0ID49IDIwMClcbiAgICAgICAgICAgICAgICAmJiAodmlld3BvcnRfd2lkdGggPiA3NTApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBwaG9uZXMuc3R5bGUuaGVpZ2h0ID0gTWF0aC5taW4oYXZhaWxhYmFsZV9oZWlnaHQsIHNpemUpICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIHBob25lcy5zdHlsZS5tYXJnaW5MZWZ0ID0gLU1hdGgubWluKGF2YWlsYWJhbGVfaGVpZ2h0LCBzaXplKSowLjEgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgcGhvbmVzLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXZhaWxhYmFsZV9oZWlnaHQgPCAyMDAgKSB7XG4gICAgICAgICAgICAgICAgcGhvbmVzLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwaG9uZXMucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGlmICh2aWV3cG9ydF93aWR0aCA8PSA3NTApIHtcbiAgICAgICAgICAgICAgICBwaG9uZS5zdHlsZS5oZWlnaHQgPSBhdmFpbGFiYWxlX2hlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2VsbCA9IHNlcnZpY2Vfc2xpZGUucXVlcnlTZWxlY3RvcignLmZwLXRhYmxlQ2VsbCcpO1xuICAgICAgICAgICAgdmlld3BvcnRfaGVpZ2h0ID0gTWF0aC5taW4oY2VsbC5vZmZzZXRIZWlnaHQsIHBhcnNlSW50KGNlbGwuc3R5bGUuaGVpZ2h0LCAxMCkpO1xuICAgICAgICAgICAgdmlld3BvcnRfd2lkdGggPSBjZWxsLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgaGVhZGVyID0gc2VydmljZV9zbGlkZS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVfX2hlYWRlcicpO1xuICAgICAgICAgICAgaWxsdXN0cmF0aW9uX2hlaWdodCA9IChNYXRoLm1pbihjZWxsLm9mZnNldEhlaWdodCwgcGFyc2VJbnQoY2VsbC5zdHlsZS5oZWlnaHQsIDEwKSkgLSBoZWFkZXIub2Zmc2V0SGVpZ2h0IC0gZm9vdGVyX2hlaWdodCAtIGhlYWRlcl9oZWlnaHQpO1xuICAgICAgICAgICAgc2VydmljZV9pbGx1c3RyYXRpb24uc3R5bGUuaGVpZ2h0ID0gaWxsdXN0cmF0aW9uX2hlaWdodCArIFwicHhcIjtcblxuICAgICAgICAgICAgd193aWR0aCA9IDcwMDtcbiAgICAgICAgICAgIHdfaGVpZ2h0ID0gNTcwO1xuICAgICAgICAgICAgaV93aWR0aCA9IHZpZXdwb3J0X3dpZHRoKjEuMjtcbiAgICAgICAgICAgIGlfaGVpZ2h0ID0gd19oZWlnaHQqaV93aWR0aC93X3dpZHRoO1xuXG4gICAgICAgICAgICBpZiAoaV9oZWlnaHQgPCBpbGx1c3RyYXRpb25faGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgc2VydmljZV9pbGx1c3RyYXRpb24uY2xhc3NMaXN0LnRvZ2dsZSgnc2xpZGVfX2lsbHVzdHJhdGlvbl9oaWRkZW4nLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2VydmljZV9pbGx1c3RyYXRpb24uc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gXCI1MCUgMTAwJVwiO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbGx1c3RyYXRpb25faGVpZ2h0IDwgMzcwKSB7XG4gICAgICAgICAgICAgICAgc2VydmljZV9pbGx1c3RyYXRpb24uY2xhc3NMaXN0LnRvZ2dsZSgnc2xpZGVfX2lsbHVzdHJhdGlvbl9oaWRkZW4nLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VydmljZV9pbGx1c3RyYXRpb24uY2xhc3NMaXN0LnRvZ2dsZSgnc2xpZGVfX2lsbHVzdHJhdGlvbl9oaWRkZW4nLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2VydmljZV9pbGx1c3RyYXRpb24uc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gXCI1MCUgMFwiO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIC8vIENlbnRyZWQgc3R5bGVcblxuICAgICAgICAgICAgLy8g0KfQuNGB0YLQuNC8INCy0YHQtSDRgdGC0LjQu9C4INC/0YDQuNCy0L3QtdGB0LXQvdC90YvQtVxuICAgICAgICAgICAgY2VudHJlZC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoc3RlcHMsIChzdGVwKSA9PiB7XG4gICAgICAgICAgICAgICAgc3RlcC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKSA+IDQ4MCApIHtcblxuICAgICAgICAgICAgICAgIHNsaWRlID0gY2VudHJlZC5jbG9zZXN0KCcuc2xpZGUnKTtcbiAgICAgICAgICAgICAgICBjZWxsID0gY2VudHJlZC5jbG9zZXN0KCcuZnAtdGFibGVDZWxsJyk7XG4gICAgICAgICAgICAgICAgdmlld3BvcnRfaGVpZ2h0ID0gTWF0aC5taW4oY2VsbC5vZmZzZXRIZWlnaHQsIHBhcnNlSW50KGNlbGwuc3R5bGUuaGVpZ2h0LCAxMCkpO1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0X3dpZHRoID0gY2VsbC5vZmZzZXRXaWR0aDtcblxuICAgICAgICAgICAgICAgIGVsZW1lbnRfaGVpZ2h0ID0gcGFyc2VJbnQoY2VudHJlZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGVpZ2h0JyksMTApO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZpZXdwb3J0X3dpZHRoID4gMTIyMCl7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRlc2t0b3BcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudF93aWR0aCA9IDEyMzA7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhX3kgPSAxNzA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgodmlld3BvcnRfd2lkdGggPiA3NTApICYmICh2aWV3cG9ydF93aWR0aCA8PSAxMjIwKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0YWJsZXRcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudF93aWR0aCA9IDEwNTA7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhX3kgPSAxNzA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbW9iaWxlXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRfd2lkdGggPSA0MDA7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRfaGVpZ2h0ID0gOTAwO1xuICAgICAgICAgICAgICAgICAgICBkZWx0YV95ID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhdmFpbGFiYWxlX2hlaWdodCA9IHZpZXdwb3J0X2hlaWdodCAtIGhlYWRlcl9oZWlnaHQ7XG4gICAgICAgICAgICAgICAgYXZhaWxhYmFsZV93aWR0aCA9IHZpZXdwb3J0X3dpZHRoIC0gNDA7XG5cbiAgICAgICAgICAgICAgICBzY2FsZV94ID0gYXZhaWxhYmFsZV9oZWlnaHQvZWxlbWVudF9oZWlnaHQ7XG4gICAgICAgICAgICAgICAgc2NhbGVfeSA9IGF2YWlsYWJhbGVfd2lkdGgvZWxlbWVudF93aWR0aDtcbiAgICAgICAgICAgICAgICBzY2FsZSA9IE1hdGgubWluKE1hdGgubWluKHNjYWxlX3gsIHNjYWxlX3kpLDEpO1xuXG4gICAgICAgICAgICAgICAgdHJfeSA9IDA7XG4gICAgICAgICAgICAgICAgdHJfeCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAodmlld3BvcnRfd2lkdGggPCA3NTApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbW9iaWxlXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlID0gYXZhaWxhYmFsZV9oZWlnaHQvNjIwO1xuICAgICAgICAgICAgICAgICAgICBjZW50cmVkLnN0eWxlW01vZGVybml6ci5wcmVmaXhlZCgndHJhbnNmb3JtJyldID0gJ3RyYW5zbGF0ZVgoLTUwJSkgc2NhbGUoJyArIHNjYWxlICsgJyknO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90IG1vYmlsZVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdmFpbGFiYWxlX3dpZHRoIDwgZWxlbWVudF93aWR0aCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyX3ggPSAtKGVsZW1lbnRfd2lkdGggLSB2aWV3cG9ydF93aWR0aCkvMiA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyB1cHNjYWxlIHRleHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjYWxlPDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChzdGVwcywgKHN0ZXApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwLnN0eWxlW01vZGVybml6ci5wcmVmaXhlZCgndHJhbnNmb3JtJyldID0gJ3NjYWxlKCcgKyBNYXRoLm1pbigoMS9zY2FsZSkqMC44LCAyKSArICcpJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJfeCArPSAzMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRyX3ggKz0gJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgY2VudHJlZC5zdHlsZVtNb2Rlcm5penIucHJlZml4ZWQoJ3RyYW5zZm9ybScpXSA9ICd0cmFuc2xhdGVYKCcgKyB0cl94ICsgJykgdHJhbnNsYXRlWSgnICsgdHJfeSArICcpIHNjYWxlKCcgKyBzY2FsZSArICcpJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwocmVzaXphYmxlcywgKHJlc2l6YWJsZSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgc2xpZGUgPSByZXNpemFibGUuY2xvc2VzdCgnLnNsaWRlJyk7XG4gICAgICAgICAgICAgICAgaGVhZGVyID0gcmVzaXphYmxlLmNsb3Nlc3QoJy5zbGlkZV9fZGV0YWlscycpLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZV9faGVhZGVyJyk7XG4gICAgICAgICAgICAgICAgY2VsbCA9IHJlc2l6YWJsZS5jbG9zZXN0KCcuZnAtdGFibGVDZWxsJyk7XG5cbiAgICAgICAgICAgICAgICB2aWV3cG9ydF9oZWlnaHQgPSBNYXRoLm1pbihjZWxsLm9mZnNldEhlaWdodCwgcGFyc2VJbnQoY2VsbC5zdHlsZS5oZWlnaHQsIDEwKSk7XG4gICAgICAgICAgICAgICAgdmlld3BvcnRfd2lkdGggPSBjZWxsLm9mZnNldFdpZHRoO1xuXG4gICAgICAgICAgICAgICAgZWxlbWVudF9oZWlnaHQgPSBwYXJzZUludChyZXNpemFibGUuZ2V0QXR0cmlidXRlKCdkYXRhLWhlaWdodCcpLDEwKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50X3dpZHRoID0gcGFyc2VJbnQocmVzaXphYmxlLmdldEF0dHJpYnV0ZSgnZGF0YS13aWR0aCcpLDEwKTtcblxuICAgICAgICAgICAgICAgIHNjYWxlX3ggPSBhdmFpbGFiYWxlX2hlaWdodC9lbGVtZW50X2hlaWdodDtcbiAgICAgICAgICAgICAgICBzY2FsZV95ID0gYXZhaWxhYmFsZV93aWR0aC9lbGVtZW50X3dpZHRoO1xuICAgICAgICAgICAgICAgIHNjYWxlID0gTWF0aC5taW4oc2NhbGVfeCwgc2NhbGVfeSk7XG5cblxuICAgICAgICAgICAgICAgIGlmICh2aWV3cG9ydF93aWR0aCA+IHRoaXMubW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRhYmxldCBhbmQgZGVza3RvcCByZXNvbHV0aW9uXG5cbiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmFsZV9oZWlnaHQgPSB2aWV3cG9ydF9oZWlnaHQgLSBoZWFkZXJfaGVpZ2h0IC0gZGVsdGE7XG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJhbGVfd2lkdGggPSB2aWV3cG9ydF93aWR0aC8yIC0gNDA7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NhbGVfeCA9IGF2YWlsYWJhbGVfaGVpZ2h0L2VsZW1lbnRfaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBzY2FsZV95ID0gYXZhaWxhYmFsZV93aWR0aC9lbGVtZW50X3dpZHRoO1xuICAgICAgICAgICAgICAgICAgICBzY2FsZSA9IE1hdGgubWluKHNjYWxlX3gsIHNjYWxlX3kpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBhdmFpbGFiYWxlX2hlaWdodCA8IHRoaXMubWluX2hlaWdodCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUuY2xhc3NMaXN0LmFkZCgnc2xpZGVfaGlkZS1yZXNpemFibGUnKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBzY2FsZSA8IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlX2hpZGUtcmVzaXphYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGUuc3R5bGVbTW9kZXJuaXpyLnByZWZpeGVkKCd0cmFuc2Zvcm0nKV0gPSAnc2NhbGUoJyArIHNjYWxlICsgJyknO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2xpZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdzbGlkZV9yaWdodCcpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJfd2lkdGggPSAocGFyc2VJbnQocmVzaXphYmxlLmdldEF0dHJpYnV0ZSgnZGF0YS13aWR0aCcpLDEwKSkqc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyLnN0eWxlLmJvcmRlckxlZnRXaWR0aCA9IGJvcmRlcl93aWR0aCArICdweCc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmlld3BvcnRfd2lkdGggPiB0aGlzLnRhYmxldCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFibGV0IHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlLnN0eWxlLm1hcmdpblJpZ2h0ID0gKGhlYWRlci5vZmZzZXRXaWR0aC8yIC0gYm9yZGVyX3dpZHRoKSArICdweCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcl93aWR0aCA9IChwYXJzZUludChyZXNpemFibGUuZ2V0QXR0cmlidXRlKCdkYXRhLXdpZHRoJyksMTApKSpzY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIuc3R5bGUuYm9yZGVyUmlnaHRXaWR0aCA9IGJvcmRlcl93aWR0aCArICdweCc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmlld3BvcnRfd2lkdGggPiB0aGlzLnRhYmxldCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFibGV0IHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlLnN0eWxlLm1hcmdpbkxlZnQgPSAoaGVhZGVyLm9mZnNldFdpZHRoLzIgLSBib3JkZXJfd2lkdGgpICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlX2hpZGUtcmVzaXphYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGUucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbW9iaWxlIHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmFsZV9oZWlnaHQgPSB2aWV3cG9ydF9oZWlnaHQgLSBoZWFkZXJfaGVpZ2h0IC0gaGVhZGVyLm9mZnNldEhlaWdodCAtIDYwO1xuICAgICAgICAgICAgICAgICAgICBhdmFpbGFiYWxlX3dpZHRoID0gdmlld3BvcnRfd2lkdGggLSA0MDtcblxuICAgICAgICAgICAgICAgICAgICBzY2FsZV94ID0gYXZhaWxhYmFsZV9oZWlnaHQvZWxlbWVudF9oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlX3kgPSBhdmFpbGFiYWxlX3dpZHRoL2VsZW1lbnRfd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlID0gTWF0aC5taW4oc2NhbGVfeCwgc2NhbGVfeSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGF2YWlsYWJhbGVfd2lkdGggPCBlbGVtZW50X3dpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGUuc3R5bGUubWFyZ2luTGVmdCA9IC0gKCgoZWxlbWVudF93aWR0aCAtIGF2YWlsYWJhbGVfd2lkdGgpLzIpIC0gMjApICsgXCJweFwiXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGUuc3R5bGUubWFyZ2luTGVmdCA9ICdhdXRvJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBhdmFpbGFiYWxlX2hlaWdodCA8IDIwMCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdoaWRkaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5jbGFzc0xpc3QuYWRkKCdzbGlkZV9oaWRlLXJlc2l6YWJsZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHNjYWxlIDwgMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVfaGlkZS1yZXNpemFibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZS5zdHlsZVtNb2Rlcm5penIucHJlZml4ZWQoJ3RyYW5zZm9ybScpXSA9ICdzY2FsZSgnICsgc2NhbGUgKyAnKSc7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlX2hpZGUtcmVzaXphYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGUucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMub25SZXNpemUoKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgc2Nyb2xsVG9Ub3AoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLm1vdmVUbygxLCAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXcgTGFuZGdpbmc7XG59KSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4oZnVuY3Rpb24oKSB7XG4gICAgd2luZG93Lm1vYmlsZUFuZFRhYmxldGNoZWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjaGVjayA9IGZhbHNlO1xuICAgICAgICAoZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgaWYgKC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm98YW5kcm9pZHxpcGFkfHBsYXlib29rfHNpbGsvaS50ZXN0KGEpIHx8IC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLnRlc3QoYS5zdWJzdHIoMCwgNCkpKSBjaGVjayA9IHRydWVcbiAgICAgICAgfSkobmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8IHdpbmRvdy5vcGVyYSk7XG4gICAgICAgIHJldHVybiBjaGVjaztcbiAgICB9O1xuXG4gICAgd2luZG93LmlzTW9iaWxlID0ge1xuICAgICAgICBBbmRyb2lkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvQW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgIH0sXG4gICAgICAgIEJsYWNrQmVycnk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9CbGFja0JlcnJ5L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgaU9TOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvaVBob25lfGlQYWR8aVBvZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgIH0sXG4gICAgICAgIFdpbmRvd3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9JRU1vYmlsZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFueTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gKGlzTW9iaWxlLkFuZHJvaWQoKSB8fCBpc01vYmlsZS5CbGFja0JlcnJ5KCkgfHwgaXNNb2JpbGUuaU9TKCkgfHwgaXNNb2JpbGUuV2luZG93cygpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjbGFzcyBMYXlvdXQge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFN0YXJ0IGluaXRpYWxpemF0aW9uIG9uIGRvbWxvYWRcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZWFkeS50aGVuKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5pdCgpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuaXNNb2JpbGUuQW5kcm9pZCgpKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2FuZHJvaWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmlzTW9iaWxlLmlPUygpKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2lvcycpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cubW9iaWxlQW5kVGFibGV0Y2hlY2soKSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCd1bmtub3duLW1vYmlsZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnZGVza3RvcCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG5ldyBMYXlvdXQ7XG59KSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4oZnVuY3Rpb24gKCkge1xuICAgIGNsYXNzIE1lbnUge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFN0YXJ0IGluaXRpYWxpemF0aW9uIG9uIGRvbWxvYWRcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgICAgICBsZXQgcmVhZHkgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9IFwibG9hZGluZ1wiKSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpPT4gcmVzb2x2ZSgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVhZHkudGhlbih0aGlzLmluaXQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEFkZGluZyBldmVudHMgYW5kIHByb3BlcnRpZXNcbiAgICAgICAgICovXG4gICAgICAgIGluaXQgKCkge1xuXG4gICAgICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW4nKSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgYmFja19idXR0b25zID0gICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sb2dpbl9fYmFjaycpXG4gICAgICAgICAgICAgICAgLCBsb2dpbl9idXR0b25zID0gICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sb2dpbl9fbG9naW4tYnV0dG9uLCAubG9naW5fc3VjY2VzcyAubG9naW5fX3N1Ym1pdCcpXG4gICAgICAgICAgICAgICAgLCBtb2JpbGVfcG9wdXBfYnV0dG9ucyA9ICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW51X19pbnRlcnByZXRlciwgLmhlYWRlcl9faW50ZXJwcmV0ZXInKTtcblxuICAgICAgICAgICAgdGhpcy5tZW51X3BvcHVwX29wZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5sb2dpbl9idXR0b24gPSAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudV9fbG9naW4nKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJfYnV0dG9uID0gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnVfX3JlZ2lzdGVyJyk7XG5cbiAgICAgICAgICAgIHRoaXMuc3RlcDEgPSAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX3JlZ2lzdGVyLXN0ZXAtMScpO1xuICAgICAgICAgICAgdGhpcy5zdGVwMV9mb3JtID0gICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fcmVnaXN0ZXItc3RlcC0xIGZvcm0ubG9naW5fX2Zvcm0nKTtcbiAgICAgICAgICAgIHRoaXMuc3RlcDIgPSAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX3JlZ2lzdGVyLXN0ZXAtMicpO1xuICAgICAgICAgICAgdGhpcy5zdGVwMl9mb3JtID0gICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fcmVnaXN0ZXItc3RlcC0yIGZvcm0ubG9naW5fX2Zvcm0nKTtcblxuICAgICAgICAgICAgdGhpcy5tb2JpbGVfcG9wdXAgPSAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfbW9iaWxlJyk7XG4gICAgICAgICAgICB0aGlzLm1vYmlsZV9wb3B1cF9jbG9zZSA9ICAgICAgIHRoaXMubW9iaWxlX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UnKTtcblxuICAgICAgICAgICAgdGhpcy53cmFwcGVyID0gICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudV9fd3JhcHBlcicpO1xuICAgICAgICAgICAgdGhpcy5oZWFkZXJfcmVnaXN0ZXJfYnV0dG9uID0gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19saW5rX3JlZ2lzdGVyJyk7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcl9sb2dpbl9idXR0b24gPSAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2xpbmtfbG9naW4nKTtcbiAgICAgICAgICAgIHRoaXMucmVjb3ZlcnlfYnV0dG9uID0gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX19wYXNzd29yZC1yZWNvdmVyeScpO1xuICAgICAgICAgICAgdGhpcy5saWdodGJveCA9ICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Pi5saWdodGJveCcpO1xuICAgICAgICAgICAgdGhpcy5sb2dpbl9wb3B1cCA9ICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fbG9naW4nKTtcbiAgICAgICAgICAgIHRoaXMucmVjb3ZlcnkgPSAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX3JlY292ZXJ5Jyk7XG4gICAgICAgICAgICB0aGlzLnBhc3N3b3JkID0gICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9wYXNzd29yZCcpO1xuICAgICAgICAgICAgdGhpcy5yZWNvdmVyeV9mb3JtID0gICAgICAgICAgICB0aGlzLnJlY292ZXJ5LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9fZm9ybScpO1xuICAgICAgICAgICAgdGhpcy5wYXNzd29yZF9mb3JtID0gICAgICAgICAgICB0aGlzLnBhc3N3b3JkLnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9fZm9ybScpO1xuXG4gICAgICAgICAgICB0aGlzLmVycm9yX21lc3NhZ2UgPSAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydF9mb3JtLXNlbmQtZmFpbCcpO1xuXG4gICAgICAgICAgICB0aGlzLmVtYWlsID0gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9lbWFpbCcpO1xuICAgICAgICAgICAgdGhpcy5zdWNjZXNzID0gICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fc3VjY2VzcycpO1xuXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fb3BlbicpO1xuICAgICAgICAgICAgdGhpcy5sYXN0ID0gW107XG5cbiAgICAgICAgICAgIHRoaXMubG9naW5fYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuTG9naW5Gb3JtLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5yZWNvdmVyeV9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5SZWNvdmVyeS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMubGlnaHRib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlQWxsLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcl9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5SZWdpc3Rlci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyX2xvZ2luX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlbkxvZ2luT3V0ZXIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcl9yZWdpc3Rlcl9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5SZWdpc3Rlck91dGVyLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5tb2JpbGVfcG9wdXBfY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlTW9iaWxlUG9wdXAuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVjb3ZlcnlfZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLnNlbmREYXRhLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5wYXNzd29yZF9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuc2VuZERhdGEuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLnN0ZXAxX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5vcGVuTmV4dC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuc3RlcDJfZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLnNlbmREYXRhLmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXBvc1BvcHVwLmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICAkKCcubG9naW4gc2VsZWN0Jykuc2VsZWN0MigpO1xuXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwobW9iaWxlX3BvcHVwX2J1dHRvbnMsIChidXR0b24pID0+IHtcbiAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Nb2JpbGVQb3B1cC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoYmFja19idXR0b25zLCAoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5nb2JhY2suYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGxvZ2luX2J1dHRvbnMsIChidXR0b24pID0+IHtcbiAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Mb2dpbklubmVyLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuV2ViUlRDU3VwcG9ydCA9ICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1wZWVyY29ubmVjdGlvbicpO1xuXG5cbiAgICAgICAgICAgIGlmKCF0aGlzLldlYlJUQ1N1cHBvcnQpIHtcblxuICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtLmxvZ2luX19mb3JtIGlucHV0LCBmb3JtLmxvZ2luX19mb3JtIGJ1dHRvbiwgZm9ybS5sb2dpbl9fZm9ybSBzZWxlY3QnKSwgKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0ubG9naW5fX2Zvcm0nKSwgKGZvcm0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5jbG9zZXN0KCcubG9naW4nKS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfYnJvd3NlcicpLm9wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX2Jyb3dzZXInKSwgKHBvcHVwKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1BvcHVwKHBvcHVwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9wZW5OZXh0IChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0ZXAxX2Zvcm0udmFsaWRhdGUoKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3BlbkZvcm0odGhpcy5zdGVwMik7XG4gICAgICAgIH1cblxuICAgICAgICByZXBvc1BvcHVwIChldmVudCkge1xuICAgICAgICAgICAgaWYoIXRoaXMubWVudV9wb3B1cF9vcGVuKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1vYmlsZV9wb3B1cC5zdHlsZVtNb2Rlcm5penIucHJlZml4ZWQoJ3RyYW5zZm9ybScpXSA9IFwidHJhbnNsYXRlWShcIiArIHRoaXMubW9iaWxlX3BvcHVwLm9mZnNldEhlaWdodCArIFwicHgpXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9zZU1vYmlsZVBvcHVwICgpIHtcbiAgICAgICAgICAgIGlmKCF0aGlzLm1lbnVfcG9wdXBfb3Blbil7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tZW51X3BvcHVwX29wZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5tb2JpbGVfcG9wdXAsIFwic3RvcFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubW9iaWxlX3BvcHVwLCB7dHJhbnNsYXRlWTogMH0sIDI1MCk7XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubW9iaWxlX3BvcHVwX2J1dHRvbiwgXCJzdG9wXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5tb2JpbGVfcG9wdXBfYnV0dG9uLCB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICAsIGJlZ2luOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2JpbGVfcG9wdXBfYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBvcGVuTW9iaWxlUG9wdXAgKCkge1xuICAgICAgICAgICAgaWYodGhpcy5tZW51X3BvcHVwX29wZW4pe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWVudV9wb3B1cF9vcGVuID0gdHJ1ZTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5tb2JpbGVfcG9wdXAsIFwic3RvcFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubW9iaWxlX3BvcHVwLCB7dHJhbnNsYXRlWTogdGhpcy5tb2JpbGVfcG9wdXAub2Zmc2V0SGVpZ2h0ICsgXCJweFwifSwgMjUwKTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5tb2JpbGVfcG9wdXBfYnV0dG9uLCBcInN0b3BcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLm1vYmlsZV9wb3B1cF9idXR0b24sIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgICwgY29tcGxldGU6ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vYmlsZV9wb3B1cF9idXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hvd1BvcHVwIChwb3B1cCkge1xuICAgICAgICAgICAgaWYgKHBvcHVwLnNob3cgIT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBwb3B1cC5zaG93KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5zaG93UG9wdXAuYmluZCh0aGlzLCBwb3B1cCksIDUwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2Nyb2xsIHRvIGZpcnN0IHNsaWRlIGFuZCBvcGVuIGxvZ2luIGZvcm1cbiAgICAgICAgICovXG4gICAgICAgIG9wZW5Mb2dpbk91dGVyIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2UubW92ZVRvKDEsIDApO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMubG9naW5fYnV0dG9uLmNsaWNrKCk7XG4gICAgICAgICAgICB9LCA4MDApXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNjcm9sbCB0byBmaXJzdCBzbGlkZSBhbmQgb3BlbiByZWdpc3RlciBmb3JtXG4gICAgICAgICAqL1xuICAgICAgICBvcGVuUmVnaXN0ZXJPdXRlciAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLm1vdmVUbygxLCAwKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyX2J1dHRvbi5jbGljaygpO1xuICAgICAgICAgICAgfSwgODAwKVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTZW5kIHJlZ2lzdHJhdGlvbiBkYXRhIGFuZCBzaG93IG1lc3NhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHNlbmREYXRhIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGxldCBmb3JtID0gZXZlbnQuY3VycmVudFRhcmdldDtcblxuICAgICAgICAgICAgaWYgKGZvcm0udmFsaWRhdGUoKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgRE9ORSA9IDRcbiAgICAgICAgICAgICAgICAsIE9LID0gMjAwXG4gICAgICAgICAgICAgICAgLCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgLCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuICAgICAgICAgICAgICAgICwgbG9hZGVkID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB4aHIub3BlbignUE9TVCcsIGZvcm0uZ2V0QXR0cmlidXRlKCdhY3Rpb24nKSk7XG4gICAgICAgICAgICAgICAgICAgIHhoci5zZW5kKG5ldyBGb3JtRGF0YShmb3JtKSk7XG4gICAgICAgICAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IERPTkUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY292ZXJ5X2Zvcm0ucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gT0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBwYXJzZUludCh4aHIuc3RhdHVzLCAxMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB4aHIuc3RhdHVzVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZm9ybS5oYXNBdHRyaWJ1dGUoJ2RhdGEtY2hlY2snKSkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5zaG93Q2hlY2tNZXNzYWdlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IHRoaXMuc2hvd1N1Y2Nlc3NNZXNzYWdlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbG9hZGVkLnRoZW4obWVzc2FnZSkuY2F0Y2godGhpcy5zaG93RXJyb3JNZXNzYWdlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIC8vIGxvYWRlZC50aGVuKG1lc3NhZ2UpLmNhdGNoKG1lc3NhZ2UpO1xuXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3I6ICcsIGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNob3cgY2hlY2sgZW1haWwgbWVzc2FnZVxuICAgICAgICAgKi9cbiAgICAgICAgc2hvd0NoZWNrTWVzc2FnZSAoKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5Gb3JtKHRoaXMuZW1haWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTaG93IHN1Y2Nlc3MgbWVzc2FnZVxuICAgICAgICAgKi9cbiAgICAgICAgc2hvd1N1Y2Nlc3NNZXNzYWdlICgpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbkZvcm0odGhpcy5zdWNjZXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gT3BlbiBsb2dpblxuICAgICAgICAgKi9cbiAgICAgICAgb3BlbkxvZ2luSW5uZXIgKCkge1xuICAgICAgICAgICAgdGhpcy5vcGVuRm9ybSh0aGlzLmxvZ2luX3BvcHVwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2hvdyBtZXNzYWdlXG4gICAgICAgICAqL1xuICAgICAgICBzaG93RXJyb3JNZXNzYWdlIChyZWFzb24pIHtcbiAgICAgICAgICAgIHRoaXMubGFzdCA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVhc29uLmNvZGUsICdSZXNwb25jZSBzdGF0dXMgY29kZTogJyArIHJlYXNvbi5jb2RlICsgJy4gJyArIHJlYXNvbi5tZXNzYWdlICsgJy4nKTtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JfbWVzc2FnZS5vcGVuKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gbGFzdCBwYWdlXG4gICAgICAgICAqL1xuICAgICAgICBnb2JhY2sgKCkge1xuICAgICAgICAgICAgdGhpcy5vcGVuRm9ybSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTaG93IGVtYWlsIHNlbnQgd2FybmluZ1xuICAgICAgICAgKi9cbiAgICAgICAgZW1haWxIYXZlU2VuZCAoKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5Gb3JtKHRoaXMuZW1haWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBPcGVuIHJlZ2lzdGVyIGZvcm1cbiAgICAgICAgICovXG4gICAgICAgIG9wZW5SZWdpc3RlcklubmVyICgpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbkZvcm0odGhpcy5zdGVwMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gcmVnaXN0ZXIgZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgb3BlblJlZ2lzdGVyICgpIHtcbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Uuc2V0QWxsb3dTY3JvbGxpbmcoZmFsc2UpO1xuICAgICAgICAgICAgJC5mbi5mdWxscGFnZS5zZXRLZXlib2FyZFNjcm9sbGluZyhmYWxzZSk7XG5cbiAgICAgICAgICAgIGxldCBwcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnN0ZXAxLCBwcm9wcywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnN0ZXAxO1xuXG4gICAgICAgICAgICBwcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgYmVnaW46ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlnaHRib3guc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubGlnaHRib3gsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gT3BlbiByZWNvdmVyeSBmb3Jtc1xuICAgICAgICAgKi9cbiAgICAgICAgb3BlblJlY292ZXJ5IChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmKCF0aGlzLldlYlJUQ1N1cHBvcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9wZW5Gb3JtKHRoaXMucmVjb3ZlcnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBPcGVuIHJlY292ZXJ5IGZvcm1zXG4gICAgICAgICAqIEBwYXJhbSBmb3JtIHtub2RlfSBGb3JtIHlvdSB3YW50IHRvIG9wZW5cbiAgICAgICAgICogQHBhcmFtIGJhY2sge25vZGV9IEZvcm0gd2hpY2ggeW91IHdhbnQgdG8gb3BlbiB3aGVuIHVzZXIgcHJlc3MgYmFjaywgYnkgZGVmYXVsdCDigJTCoGxhc3QgZm9ybSBvcGVuZWRcbiAgICAgICAgICovXG4gICAgICAgIG9wZW5Gb3JtIChwb3B1cCwgZG9udF9zYXZlKSB7XG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLnNldEFsbG93U2Nyb2xsaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Uuc2V0S2V5Ym9hcmRTY3JvbGxpbmcoZmFsc2UpO1xuXG4gICAgICAgICAgICBsZXQgZm9ybSA9IHRoaXMuY3VycmVudC5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gICAgICAgICAgICBpZiAoZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e2Zvcm0uY2xlYXIoKTt9LCA1MDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBvcHVwID09IFwidW5kZWZpbmVkXCIgJiYgdGhpcy5sYXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBwb3B1cCA9IHRoaXMubGFzdC5wb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBvcHVwID09IFwidW5kZWZpbmVkXCIgJiYgdGhpcy5sYXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUFsbCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9udF9zYXZlICE9IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3QucHVzaCh0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3JtID0gcG9wdXAucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICAgICAgICAgICAgaWYgKGZvcm0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9Pntmb3JtLmNsZWFyKCk7fSwgNTAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICByaWdodDogLSB0aGlzLmN1cnJlbnQub2Zmc2V0V2lkdGggKyBcInB4XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmN1cnJlbnQsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICByaWdodDogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHBvcHVwLCBwcm9wcywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBwb3B1cDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ2xvc2UgYWxsIGZvcm1zXG4gICAgICAgICAqL1xuICAgICAgICBjbG9zZUFsbCAoKSB7XG5cbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Uuc2V0QWxsb3dTY3JvbGxpbmcodHJ1ZSk7XG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLnNldEtleWJvYXJkU2Nyb2xsaW5nKHRydWUpO1xuXG4gICAgICAgICAgICBsZXQgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAtIHRoaXMuY3VycmVudC5vZmZzZXRXaWR0aCArIFwicHhcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMuY3VycmVudCwgcHJvcHMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0Ym94LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubGlnaHRib3gsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9Pnt0aGlzLmNsZWFyQWxsKCk7fSwgNTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyQWxsICgpIHtcbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtJyksIChmb3JtKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9ybS5jbGVhcigpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoJy5sb2dpbiBzZWxlY3QnKS5zZWxlY3QyKFwiZGVzdHJveVwiKTtcbiAgICAgICAgICAgICQoJy5sb2dpbiBzZWxlY3QnKS5zZWxlY3QyKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gbG9naW4gcG9wdXBcbiAgICAgICAgICovXG4gICAgICAgIG9wZW5Mb2dpbkZvcm0gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLnNldEFsbG93U2Nyb2xsaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Uuc2V0S2V5Ym9hcmRTY3JvbGxpbmcoZmFsc2UpO1xuXG4gICAgICAgICAgICBsZXQgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5sb2dpbl9wb3B1cCwgcHJvcHMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5sb2dpbl9wb3B1cDtcblxuICAgICAgICAgICAgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZ2luOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0Ym94LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmxpZ2h0Ym94LCBwcm9wcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXcgTWVudTtcbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbihmdW5jdGlvbiAoKSB7XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgUG9wdXBcbiAgICAgKi9cbiAgICBjbGFzcyBQb3B1cCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yIChwb3B1cCkge1xuICAgICAgICAgICAgdGhpcy5wb3B1cCA9IHBvcHVwO1xuICAgICAgICAgICAgcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBvcHVwLm9wZW4gPSB0aGlzLm9wZW4uYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuc2hvdyA9IHRoaXMuc2hvdy5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuamFtcGluZyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hvdyAoKSB7XG4gICAgICAgICAgICB0aGlzLnBvcHVwLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICB0aGlzLnBvcHVwLnN0eWxlW01vZGVybml6ci5wcmVmaXhlZCgndHJhbnNmb3JtJyldID0gXCJyb3RhdGVYKDApXCI7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBoaWRlICgpIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgdGhpcy5wb3B1cC5zdHlsZVtNb2Rlcm5penIucHJlZml4ZWQoJ3RyYW5zZm9ybScpXSA9IFwicm90YXRlWCgxODBkZWcpXCI7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IGZhbHNlO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwgXCJzdG9wXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvc2UgKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuamFtcGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCBcImZpbmlzaFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtcbiAgICAgICAgICAgICAgICByb3RhdGVYOiBcIjEyMGRlZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMFxuICAgICAgICAgICAgICAgICwgYmVnaW46ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICwgY29tcGxldGU6ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgb3BlbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5qYW1waW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5qdW1wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5qYW1waW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIFwiZmluaXNoXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge1xuICAgICAgICAgICAgICAgIHJvdGF0ZVg6IFwiMGRlZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMFxuICAgICAgICAgICAgICAgICwgYmVnaW46ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICwgY29tcGxldGU6ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIyMGRlZ1wifSwgMTUwKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtyb3RhdGVYOiBcIjBkZWdcIn0sIDEyNSk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIxMGRlZ1wifSwgMjAwKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtyb3RhdGVYOiBcIjBkZWdcIn0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjoxNzVcbiAgICAgICAgICAgICAgICAsIGNvbXBsZXRlOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5qYW1waW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGp1bXAgKCkge1xuICAgICAgICAgICAgdGhpcy5qYW1waW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIFwiZmluaXNoXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge3JvdGF0ZVg6IFwiMzVkZWdcIn0sIDE1MCk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIwZGVnXCJ9LCAxMjUpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge3JvdGF0ZVg6IFwiMjBkZWdcIn0sIDIwMCk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIwZGVnXCJ9LCAxNzUpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge3JvdGF0ZVg6IFwiMTVkZWdcIn0sIDI1MCk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIwZGVnXCJ9LCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDIyNVxuICAgICAgICAgICAgICAgICwgY29tcGxldGU6ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmphbXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9XG5cblxuICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9IFwibG9hZGluZ1wiKSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKT0+IHJlc29sdmUoKSk7XG4gICAgfSk7XG5cbiAgICByZWFkeS50aGVuKCgpPT57XG4gICAgICAgIFtdLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfYnJvd3NlcicpLCAocG9wdXApID0+IHtcbiAgICAgICAgICAgIG5ldyBQb3B1cChwb3B1cCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIFtdLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfY29tbW9uJyksIChwb3B1cCkgPT4ge1xuICAgICAgICAgICAgbmV3IFBvcHVwKHBvcHVwKTtcbiAgICAgICAgICAgIGlmIChwb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW4nKSl7XG4gICAgICAgICAgICAgICAgcG9wdXAub3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxufSkoKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzZGVzYyBDbGFzcyByZXByZXNlbnRpbmcgZm9ybSB2YWxpZGF0aW9uXG4gICAgICogQGNsYXNzXG4gICAgICovXG5cbiAgICBjbGFzcyBWYWxpZGF0aW9uIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRpbmcgZXZlbnRzIGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IoZm9ybSkge1xuICAgICAgICAgICAgdGhpcy5mb3JtID0gZm9ybTtcbiAgICAgICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKFwibm92YWxpZGF0ZVwiLCBcIm5vdmFsaWRhdGVcIik7XG4gICAgICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMudmFsaWRhdGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBmb3JtLnZhbGlkYXRlID0gdGhpcy52YWxpZGF0ZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZm9ybS5jbGVhciA9IHRoaXMuY2xlYXIuYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlcyA9IHtcbiAgICAgICAgICAgICAgICBlbjoge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogXCJSZXF1aXJlZCBmaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICwgZW1haWw6IFwiV3JvbmcgZW1haWwgZm9ybWF0XCJcbiAgICAgICAgICAgICAgICAgICAgLCBlcXVhbDogXCJQYXNzd29yZCBmaWVsZHMgc2hvdWxkIGJlIGVxdWFsXCJcbiAgICAgICAgICAgICAgICAgICAgLCB1cmw6IFwiV3JvbmcgdXJsIGZvcm1hdFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICwgcnU6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFwi0J/QvtC70LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3QviDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y9cIlxuICAgICAgICAgICAgICAgICAgICAsIGVtYWlsOiBcItCf0YDQvtCy0LXRgNGM0YLQtSDRhNC+0YDQvNCw0YIgZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICAsIGVxdWFsOiBcItCf0LDRgNC+0LvQuCDQtNC+0LvQttC90Ysg0YHQvtCy0L/QsNC00LDRgtGMXCJcbiAgICAgICAgICAgICAgICAgICAgLCB1cmw6IFwi0J/RgNC+0LLQtdGA0YzRgtC1INGE0L7RgNC80LDRgiBVUkxcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmVzZXQgZm9ybSBhbmQgY2xlYXIgZXJyb3JzXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhciAoKSB7XG4gICAgICAgICAgICB0aGlzLmZvcm0ucmVzZXQoKTtcbiAgICAgICAgICAgIGxldCBzZWxlY3RvcnMgPSAkKHRoaXMuZm9ybSkuZmluZCgnc2VsZWN0Jyk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RvcnMuc2VsZWN0MihcImRlc3Ryb3lcIik7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3JzLnNlbGVjdDIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgIGxldCBlcnJvcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybS1lcnJvcicpLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS12YWxpZF0sIFtkYXRhLWludmFsaWRdJyk7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZXJyb3JzLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZmllbGRzLCAoZmllbGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWludmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXZhbGlkJyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0sMTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlIGVycm9yIG1lc3NhZ2UgYWZ0ZXIgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgLSBlbGVtZW50LCBhZnRlciB3aGljaCB3ZSB3aWxsIGFkZCBlcnJvciBtZXNzYWdlXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIC0gZXJyb3IgbWVzc2FnZVxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwcGUgLSBlcnJvciB0eXBlXG4gICAgICAgICAqL1xuICAgICAgICBhZGRFcnJvcihlbGVtZW50LCBtZXNzYWdlLCB0eXBlKSB7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmZvcm0tZXJyb3JbZGF0YS10eXBlPVwiJyArIHR5cGUgKyAnXCJdJykgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBlcnJvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1AnKTtcbiAgICAgICAgICAgIGVycm9yLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgIGVycm9yLmNsYXNzTGlzdC5hZGQoJ2Zvcm0tZXJyb3InKTtcbiAgICAgICAgICAgIGVycm9yLnNldEF0dHJpYnV0ZSgnZGF0YS10eXBlJywgdHlwZSk7XG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBSZW1vdmUgZXJyb3IgbWVzc2FnZSBvZiBzb21lIHR5cGUgYWZ0ZXIgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgLSBlbGVtZW50LCBhZnRlciB3aGljaCBlcnJvciBtZXNzYWdlIGlzXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBwZSAtIGVycm9yIHR5cGVcbiAgICAgICAgICovXG4gICAgICAgIGNsZWFyRXJyb3IoZWxlbWVudCwgdHlwZSkge1xuXG4gICAgICAgICAgICBsZXQgZXJyID0gZWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWVycm9yW2RhdGEtdHlwZT1cIicgKyB0eXBlICsgJ1wiXScpO1xuICAgICAgICAgICAgaWYgKGVyciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFZhbGlkYXRlIGZvcm1cbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBzdWJtaXQgZXZlbnRcbiAgICAgICAgICogQHRvZG8gSW1wbGVtZW50IGxvZ2luIHZhbGlkYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIHZhbGlkYXRlKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ICE9IFwidW5kZWZpbmVkXCIgJiYgIWV2ZW50LmN1cnJlbnRUYXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLXJlbG9hZCcpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZhbGlkID0gdHJ1ZSxcbiAgICAgICAgICAgICAgICBuZXh0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBlcXVhbF9maWVsZHMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZXF1YWxdJyksXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRfZmllbGRzID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tyZXF1aXJlZF0nKSxcbiAgICAgICAgICAgICAgICB1cmxfZmllbGRzID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJ1cmxcIl0nKSxcbiAgICAgICAgICAgICAgICBlbWFpbF9maWVsZHMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImVtYWlsXCJdJyksXG4gICAgICAgICAgICAgICAgdXJsX3JlZ2V4ID0gbmV3IFJlZ0V4cChcIl4oaHR0cHxodHRwc3xmdHApXFw6Ly8oW2EtekEtWjAtOVxcLlxcLV0rKFxcOlthLXpBLVowLTlcXC4mYW1wOyVcXCRcXC1dKykqQCkqKCgyNVswLTVdfDJbMC00XVswLTldfFswLTFdezF9WzAtOV17Mn18WzEtOV17MX1bMC05XXsxfXxbMS05XSlcXC4oMjVbMC01XXwyWzAtNF1bMC05XXxbMC0xXXsxfVswLTldezJ9fFsxLTldezF9WzAtOV17MX18WzEtOV18MClcXC4oMjVbMC01XXwyWzAtNF1bMC05XXxbMC0xXXsxfVswLTldezJ9fFsxLTldezF9WzAtOV17MX18WzEtOV18MClcXC4oMjVbMC01XXwyWzAtNF1bMC05XXxbMC0xXXsxfVswLTldezJ9fFsxLTldezF9WzAtOV17MX18WzAtOV0pfChbYS16QS1aMC05XFwtXStcXC4pKlthLXpBLVowLTlcXC1dK1xcLihjb218ZWR1fGdvdnxpbnR8bWlsfG5ldHxvcmd8Yml6fGFycGF8aW5mb3xuYW1lfHByb3xhZXJvfGNvb3B8bXVzZXVtfFthLXpBLVpdezJ9KSkoXFw6WzAtOV0rKSooLygkfFthLXpBLVowLTlcXC5cXCxcXD9cXCdcXFxcXFwrJmFtcDslXFwkI1xcPX5fXFwtXSspKSokXCIsIFwiaVwiKSxcbiAgICAgICAgICAgICAgICBlbWFpbF9yZWdleCA9IG5ldyBSZWdFeHAoXCJeKFthLXpBLVowLTlfXFwuXFwtXSkrXFxAKChbYS16QS1aMC05XFwtXSkrXFwuKSsoW2EtekEtWjAtOV17Miw0fSkrJFwiKTtcblxuICAgICAgICAgICAgLyogY2hlY2sgZXF1YWwgZmllbGRzICovXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZXF1YWxfZmllbGRzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBlcXVhbCA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1lcXVhbFwiKSk7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudmFsdWUudHJpbSgpICE9IGVxdWFsLnZhbHVlLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEVycm9yKGVsZW1lbnQsIHRoaXMubWVzc2FnZXNbZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnbGFuZycpXS5lcXVhbCwgXCJlcXVhbFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRXJyb3IoZWxlbWVudCwgXCJlcXVhbFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyogY2hlY2sgcmVxdWlyZWQgZmllbGRzICovXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwocmVxdWlyZWRfZmllbGRzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEVycm9yKGVsZW1lbnQsIHRoaXMubWVzc2FnZXNbZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnbGFuZycpXS5yZXF1aXJlZCwgXCJyZXF1aXJlZFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRXJyb3IoZWxlbWVudCwgJ3JlcXVpcmVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qIGNoZWNrIHVybCBmaWVsZHMgKi9cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbCh1cmxfZmllbGRzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICgoZWxlbWVudC52YWx1ZS50cmltKCkubGVuZ3RoID4gMCkgJiYgKHVybF9yZWdleC50ZXN0KGVsZW1lbnQudmFsdWUudHJpbSgpKSA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXJyb3IoZWxlbWVudCwgdGhpcy5tZXNzYWdlc1tkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdsYW5nJyldLnVybCwgJ3VybCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJFcnJvcihlbGVtZW50LCAndXJsJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qIGNoZWNrIGVtYWlsIGZpZWxkcyAqL1xuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGVtYWlsX2ZpZWxkcywgKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoKGVsZW1lbnQudmFsdWUudHJpbSgpLmxlbmd0aCA+IDApICYmIChlbWFpbF9yZWdleC50ZXN0KGVsZW1lbnQudmFsdWUudHJpbSgpKSA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXJyb3IoZWxlbWVudCwgdGhpcy5tZXNzYWdlc1tkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdsYW5nJyldLmVtYWlsLCAnZW1haWwnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRXJyb3IoZWxlbWVudCwgJ2VtYWlsJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgbGV0IGFsbF9maWVsZHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlcXVhbF9maWVsZHMpLmNvbmNhdChcbiAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChyZXF1aXJlZF9maWVsZHMpLFxuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHVybF9maWVsZHMpLFxuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGVtYWlsX2ZpZWxkcylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChhbGxfZmllbGRzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBlcnIgPSBlbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmZvcm0tZXJyb3InKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGludmFsaWQgPSBkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoXCJkYXRhLWludmFsaWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGludmFsaWQudmFsdWUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT0gXCJTRUxFQ1RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0U2libGluZy5zZXRBdHRyaWJ1dGVOb2RlKGludmFsaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0U2libGluZy5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtdmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlTm9kZShpbnZhbGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXZhbGlkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWxpZCA9IGRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShcImRhdGEtdmFsaWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PSBcIlNFTEVDVFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm5leHRTaWJsaW5nLnNldEF0dHJpYnV0ZU5vZGUodmFsaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0U2libGluZy5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtaW52YWxpZCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGVOb2RlKHZhbGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWludmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgZXJyb3JzX2NvdW50ID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX2Vycm9yJykubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGVycm9yc19jb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdmFsaWQ7XG5cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgbGV0IHJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICB9KTtcblxuICAgIHJlYWR5LnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBmb3JtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0nKTtcbiAgICAgICAgW10uZm9yRWFjaC5jYWxsKGZvcm1zLCAoZm9ybSkgPT4ge1xuICAgICAgICAgICAgbmV3IFZhbGlkYXRpb24oZm9ybSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9