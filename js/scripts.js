"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();console.log("landing"),function(){var e=function(){function e(){_classCallCheck(this,e);var t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){var e=this;this.fired=!1,this.tablet=1200,this.mobile=750,this.min_height=450;var t=document.querySelector(".header"),i=document.querySelector(".clock");$(".landing").fullpage({sectionSelector:".landing__section",navigation:!0,afterLoad:this.hideLoader.bind(this),afterRender:this.recountSlides.bind(this),afterResize:this.recountSlides.bind(this),onLeave:function(s,o,l){1==o?(t.classList.toggle("header_open",!1),e.hideNav()):(t.classList.toggle("header_open",!0),e.showNav()),6==o?i.classList.toggle("clock_visible",!0):i.classList.toggle("clock_visible",!1)}}),document.querySelector(".footer__top").addEventListener("click",this.scrollToTop.bind(this))}},{key:"hideNav",value:function(){var e=this;Velocity(this.nav,"finish"),Velocity(this.nav,{opacity:0},{duration:300,complete:function(){e.nav.style.display="none"}})}},{key:"showNav",value:function(){var e=this;Velocity(this.nav,"finish"),Velocity(this.nav,{opacity:1},{duration:300,begin:function(){e.nav.style.display="block"}})}},{key:"hideLoader",value:function(){if(!this.fired){this.fired=!0,this.nav=document.getElementById("fp-nav"),this.hideNav(),[].forEach.call(document.querySelectorAll(".slide__resizable, .slide__centred"),function(e){e.setAttribute("data-height",e.offsetHeight),e.setAttribute("data-width",e.offsetWidth),console.log("initial size: ",[e.offsetHeight,e.offsetWidth])});var e=document.querySelector(".loader__wrapper"),t={opacity:0},i={duration:500,complete:function(){e.parentNode.removeChild(e)}};Velocity(e,t,i)}}},{key:"recountSlides",value:function(){var e=this,t=document.querySelectorAll(".slide__resizable"),i=document.querySelectorAll(".slide__centred"),s=document.querySelector(".slide_service"),o=document.querySelector(".slide__illustration"),l=document.querySelector(".header").offsetHeight,n=document.querySelector(".footer").offsetHeight,r=void 0,a=void 0,d=void 0,c=void 0,h=20,f=void 0,u=1,v=1,g=1,y=void 0,m=void 0,_=void 0,p=void 0,b=void 0,L=void 0,S=void 0,k=void 0,x=void 0,z=void 0,q=void 0,A=void 0,M=void 0;f=s.querySelector(".fp-tableCell"),r=Math.min(f.offsetHeight,parseInt(f.style.height,10)),a=f.offsetWidth,y=s.querySelector(".slide__header"),x=Math.min(f.offsetHeight,parseInt(f.style.height,10))-y.offsetHeight-n-l,o.style.height=x+"px",z=700,q=570,A=1.2*a,M=q*A/z,x>M?(o.classList.toggle("slide__illustration_hidden",!1),o.style.backgroundPosition="50% 100%"):370>x?o.classList.toggle("slide__illustration_hidden",!0):(o.classList.toggle("slide__illustration_hidden",!1),o.style.backgroundPosition="50% 0"),[].forEach.call(i,function(e){m=e.closest(".slide"),f=e.closest(".fp-tableCell"),r=Math.min(f.offsetHeight,parseInt(f.style.height,10)),a=f.offsetWidth,k=parseInt(e.getAttribute("data-height"),10),a>1220?(S=1230,p=170):a>750?(S=1050,p=170):(S=400,k=900,p=0),c=r-l-h+p,d=a-40,v=c/k,g=d/S,u=Math.min(v,g),b=0,L=0,k>c&&(b=-(k-r-l)/2),S>d&&1221>a&&a>750&&(b=0,L=-(S-a)/2),a>1221&&(b=0),580>r?(m.classList.add("slide_hide-centred"),e.style[Modernizr.prefixed("transform")]="none"):1>u?(m.classList.remove("slide_hide-centred"),e.style[Modernizr.prefixed("transform")]="translateX("+L+"px) translateY("+b+"px) scale("+u+")"):(m.classList.remove("slide_hide-centred"),e.style[Modernizr.prefixed("transform")]="translateX("+L+"px) translateY("+b+"px)")}),[].forEach.call(t,function(t){m=t.closest(".slide"),y=t.closest(".slide__details").querySelector(".slide__header"),f=t.closest(".fp-tableCell"),r=Math.min(f.offsetHeight,parseInt(f.style.height,10)),a=f.offsetWidth,k=parseInt(t.getAttribute("data-height"),10),S=parseInt(t.getAttribute("data-width"),10),v=c/k,g=d/S,u=Math.min(v,g),a>e.mobile?(c=r-l-h,d=a/2-40,v=c/k,g=d/S,u=Math.min(v,g),c<e.min_height?m.classList.add("slide_hide-resizable"):1>u?(m.classList.remove("slide_hide-resizable"),t.style[Modernizr.prefixed("transform")]="scale("+u+")",m.classList.contains("slide_right")?(_=(parseInt(t.getAttribute("data-width"),10)+20)*u,y.style.borderLeftWidth=_+"px",a>e.tablet&&(t.style.marginRight=20+y.offsetWidth/2-_+"px")):(_=(parseInt(t.getAttribute("data-width"),10)+20)*u,y.style.borderRightWidth=_+"px",a>e.tablet&&(t.style.marginLeft=20+y.offsetWidth/2-_+"px"))):(m.classList.remove("slide_hide-resizable"),t.removeAttribute("style"),y.removeAttribute("style"))):(c=r-l-y.offsetHeight-90-20,d=a-40,v=c/k,g=d/S,u=Math.min(v,g),S>d?t.style.marginLeft=-((S-d)/2-20)+"px":t.style.marginLeft="auto",c<e.min_height?(console.log("hidding"),m.classList.add("slide_hide-resizable")):1>u?(m.classList.remove("slide_hide-resizable"),t.style[Modernizr.prefixed("transform")]="scale("+u+")"):(m.classList.remove("slide_hide-resizable"),t.removeAttribute("style"),y.removeAttribute("style")))})}},{key:"scrollToTop",value:function(e){e.preventDefault(),$.fn.fullpage.moveTo(1,0)}}]),e}();new e}();
"use strict";function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function i(i,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(e,o,n){return o&&i(e.prototype,o),n&&i(e,n),e}}();console.log("layout"),function(){window.mobileAndTabletcheck=function(){var i=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(i=!0)}(navigator.userAgent||navigator.vendor||window.opera),i},window.isMobile={Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},Windows:function(){return/IEMobile/i.test(navigator.userAgent)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Windows()}};var i=function(){function i(){_classCallCheck(this,i);var e=new Promise(function(i,e){return"loading"!=document.readyState?i():void document.addEventListener("DOMContentLoaded",function(){return i()})});e.then(this.init.bind(this))}return _createClass(i,[{key:"init",value:function(){window.isMobile.Android()?document.body.parentNode.classList.add("android"):window.isMobile.iOS()?document.body.parentNode.classList.add("ios"):window.mobileAndTabletcheck()?document.body.parentNode.classList.add("unknown-mobile"):document.body.parentNode.classList.add("desktop")}}]),i}();new i}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}();console.log("Menu"),function(){var e=function(){function e(){_classCallCheck(this,e);var t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){var e=this,t=document.querySelectorAll(".login__back"),o=document.querySelectorAll(".login__login-button, .login_success .login__submit"),i=document.querySelectorAll(".menu__interpreter, .header__interpreter");this.menu_popup_open=!1,this.login_button=document.querySelector(".menu__login"),this.register_button=document.querySelector(".menu__register"),this.step1=document.querySelector(".login_register-step-1"),this.step1_form=document.querySelector(".login_register-step-1 form.login__form"),this.step2=document.querySelector(".login_register-step-2"),this.step2_form=document.querySelector(".login_register-step-2 form.login__form"),this.mobile_popup=document.querySelector(".popup_mobile"),this.mobile_popup_close=this.mobile_popup.querySelector(".popup__close"),this.wrapper=document.querySelector(".menu__wrapper"),this.header_register_button=document.querySelector(".header__link_register"),this.header_login_button=document.querySelector(".header__link_login"),this.recovery_button=document.querySelector(".login__password-recovery"),this.lightbox=document.querySelector("body>.lightbox"),this.login_popup=document.querySelector(".login_login"),this.recovery=document.querySelector(".login_recovery"),this.password=document.querySelector(".login_password"),this.recovery_form=this.recovery.querySelector(".login__form"),this.password_form=this.password.querySelector(".login__form"),this.error_message=document.querySelector(".login_error"),this.email=document.querySelector(".login_email"),this.success=document.querySelector(".login_success"),this.current=document.querySelector(".login_open"),this.last=[],this.login_button.addEventListener("click",this.openLoginForm.bind(this)),this.recovery_button.addEventListener("click",this.openRecovery.bind(this)),this.lightbox.addEventListener("click",this.closeAll.bind(this)),this.register_button.addEventListener("click",this.openRegister.bind(this)),this.header_login_button.addEventListener("click",this.openLoginOuter.bind(this)),this.header_register_button.addEventListener("click",this.openRegisterOuter.bind(this)),this.mobile_popup_close.addEventListener("click",this.closeMobilePopup.bind(this)),this.recovery_form.addEventListener("submit",this.sendData.bind(this)),this.password_form.addEventListener("submit",this.sendData.bind(this)),this.step1_form.addEventListener("submit",this.openNext.bind(this)),this.step2_form.addEventListener("submit",this.sendData.bind(this)),window.addEventListener("resize",this.reposPopup.bind(this)),$(".login select").select2(),[].forEach.call(i,function(t){t.addEventListener("click",e.openMobilePopup.bind(e))}),[].forEach.call(t,function(t){t.addEventListener("click",e.goback.bind(e))}),[].forEach.call(o,function(t){t.addEventListener("click",e.openLoginInner.bind(e))}),this.WebRTCSupport=!document.documentElement.classList.contains("no-peerconnection"),this.WebRTCSupport||([].forEach.call(document.querySelectorAll("form.login__form input, form.login__form button, form.login__form select"),function(e){e.setAttribute("disabled","disabled")}),[].forEach.call(document.documentElement.querySelectorAll("form.login__form"),function(e){e.addEventListener("click",function(t){e.closest(".login").querySelector(".popup_browser").open()})}),[].forEach.call(document.querySelectorAll(".popup_browser"),function(t){e.showPopup(t)}))}},{key:"openNext",value:function(e){e.preventDefault(),0!=this.step1_form.validate()&&this.openForm(this.step2)}},{key:"reposPopup",value:function(e){this.menu_popup_open&&(this.mobile_popup.style[Modernizr.prefixed("transform")]="translateY("+this.mobile_popup.offsetHeight+"px)")}},{key:"closeMobilePopup",value:function(){var e=this;this.menu_popup_open&&(this.menu_popup_open=!1,Velocity(this.mobile_popup,"stop"),Velocity(this.mobile_popup,{translateY:0},250),Velocity(this.mobile_popup_button,"stop"),Velocity(this.mobile_popup_button,{opacity:1},{duration:250,begin:function(){e.mobile_popup_button.style.display="block"}}))}},{key:"openMobilePopup",value:function(){var e=this;this.menu_popup_open||(this.menu_popup_open=!0,Velocity(this.mobile_popup,"stop"),Velocity(this.mobile_popup,{translateY:this.mobile_popup.offsetHeight+"px"},250),Velocity(this.mobile_popup_button,"stop"),Velocity(this.mobile_popup_button,{opacity:0},{duration:250,complete:function(){e.mobile_popup_button.style.display="none"}}))}},{key:"showPopup",value:function(e){void 0!=e.show?e.show():setTimeout(this.showPopup.bind(this,e),50)}},{key:"openLoginOuter",value:function(e){var t=this;e.preventDefault(),$.fn.fullpage.moveTo(1,0),setTimeout(function(){t.login_button.click()},800)}},{key:"openRegisterOuter",value:function(e){var t=this;e.preventDefault(),$.fn.fullpage.moveTo(1,0),setTimeout(function(){t.register_button.click()},800)}},{key:"sendData",value:function(e){var t=this;e.preventDefault();var o=e.currentTarget;if(0!=o.validate())try{!function(){var e=4,i=200,n=void 0,r=new XMLHttpRequest,s=new Promise(function(n,s){r.open("POST",o.getAttribute("action")),r.send(new FormData(o)),r.onreadystatechange=function(){r.readyState===e&&(t.recovery_form.reset(),r.status===i?n():s({code:parseInt(r.status,10),message:r.statusText}))}});n=o.hasAttribute("data-check")?t.showCheckMessage.bind(t):t.showSuccessMessage.bind(t),s.then(n)["catch"](t.showErrorMessage.bind(t))}()}catch(i){console.log("error: ",i)}}},{key:"showCheckMessage",value:function(){this.openForm(this.email)}},{key:"showSuccessMessage",value:function(){this.openForm(this.success)}},{key:"openLoginInner",value:function(){this.openForm(this.login_popup)}},{key:"showErrorMessage",value:function(e){this.last=new Array,console.log(e.code,"Responce status code: "+e.code+". "+e.message+"."),this.openForm(this.error_message,!0)}},{key:"goback",value:function(){this.openForm()}},{key:"emailHaveSend",value:function(){this.openForm(this.email)}},{key:"openRegisterInner",value:function(){this.openForm(this.step1)}},{key:"openRegister",value:function(){var e=this;event.preventDefault(),$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1);var t={right:0},o={duration:250};Velocity(this.step1,t,o),this.current=this.step1,t={opacity:1},o={begin:function(){e.lightbox.style.display="block"},duration:250},Velocity(this.lightbox,t,o)}},{key:"openRecovery",value:function(e){e.preventDefault(),this.WebRTCSupport&&this.openForm(this.recovery)}},{key:"openForm",value:function(e,t){$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1);var o=this.current.querySelector("form");if(null!=o&&setTimeout(function(){o.clear()},250),"undefined"==typeof e&&this.last.length>0)e=this.last.pop();else{if("undefined"==typeof e&&0==this.last.length)return void this.closeAll();1!=t&&this.last.push(this.current)}o=e.querySelector("form"),null!=o&&(console.log("clearing"),setTimeout(function(){o.clear()},250));var i={right:-this.current.offsetWidth+"px"},n={duration:250};Velocity(this.current,i,n),i={right:0},n={duration:250},Velocity(e,i,n),this.current=e}},{key:"closeAll",value:function(){var e=this;$.fn.fullpage.setAllowScrolling(!0),$.fn.fullpage.setKeyboardScrolling(!0);var t={right:-this.current.offsetWidth+"px"},o={duration:250};Velocity(this.current,t,o),this.current=null,t={opacity:0},o={complete:function(){e.lightbox.style.display="none"},duration:250},Velocity(this.lightbox,t,o),this.clearAll()}},{key:"clearAll",value:function(){[].forEach.call(document.querySelectorAll("form"),function(e){e.clear()}),$(".login select").select2("destroy"),$(".login select").select2()}},{key:"openLoginForm",value:function(e){var t=this;e.preventDefault(),$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1);var o={right:0},i={duration:250};Velocity(this.login_popup,o,i),this.current=this.login_popup,o={opacity:1},i={begin:function(){t.lightbox.style.display="block"},duration:250},Velocity(this.lightbox,o,i)}}]),e}();new e}();
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}();console.log("popup"),function(){var t=function(){function t(e){_classCallCheck(this,t),this.popup=e,e.querySelector(".popup__close").addEventListener("click",this.close.bind(this)),this.popup.close=this.close.bind(this),this.popup.open=this.open.bind(this),this.popup.show=this.show.bind(this),this.status=!1,this.jamping=!1}return _createClass(t,[{key:"show",value:function(){this.popup.style.display="block",this.popup.style[Modernizr.prefixed("transform")]="rotateX(0)",this.status=!0}},{key:"hide",value:function(){this.popup.style.display="none",this.popup.style[Modernizr.prefixed("transform")]="rotateX(180deg)",this.status=!1,Velocity(this.popup,"stop")}},{key:"close",value:function(){var t=this;this.jamping||this.status&&(Velocity(this.popup,"finish"),Velocity(this.popup,{rotateX:"120deg"},{duration:500,begin:function(){t.popup.style.display="block"},complete:function(){t.status=!1}}))}},{key:"open",value:function(){var t=this;if(!this.jamping){if(this.status)return void this.jump();this.jamping=!0,Velocity(this.popup,"finish"),Velocity(this.popup,{rotateX:"0deg"},{duration:500,begin:function(){t.popup.style.display="block"},complete:function(){t.status=!0}}),Velocity(this.popup,{rotateX:"20deg"},150),Velocity(this.popup,{rotateX:"0deg"},125),Velocity(this.popup,{rotateX:"10deg"},200),Velocity(this.popup,{rotateX:"0deg"},{duration:175,complete:function(){t.jamping=!1}})}}},{key:"jump",value:function(){var t=this;this.jamping=!0,Velocity(this.popup,"finish"),Velocity(this.popup,{rotateX:"35deg"},150),Velocity(this.popup,{rotateX:"0deg"},125),Velocity(this.popup,{rotateX:"20deg"},200),Velocity(this.popup,{rotateX:"0deg"},175),Velocity(this.popup,{rotateX:"15deg"},250),Velocity(this.popup,{rotateX:"0deg"},{duration:225,complete:function(){t.jamping=!1}})}}]),t}(),e=new Promise(function(t,e){return"loading"!=document.readyState?t():void document.addEventListener("DOMContentLoaded",function(){return t()})});e.then(function(){[].forEach.call(document.querySelectorAll(".popup_browser"),function(e){new t(e)})})}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.form=t,t.setAttribute("novalidate","novalidate"),t.addEventListener("submit",this.validate.bind(this)),t.validate=this.validate.bind(this),t.clear=this.clear.bind(this),this.messages={en:{required:"Required field",email:"Wrong email format",equal:"Password fields should be equal",url:"Wrong url format"},ru:{required:"Поле обязательно для заполнения",email:"Проверьте формат email",equal:"Пароли должны совпадать",url:"Проверьте формат URL"}}}return _createClass(e,[{key:"clear",value:function(){this.form.reset();var e=$(this.form).find("select");e.length>0&&(e.select2("destroy"),e.select2()),setTimeout(function(){var e=document.querySelectorAll(".form-error"),t=document.querySelectorAll("[data-valid], [data-invalid]");[].forEach.call(e,function(e){e.parentNode.removeChild(e)}),[].forEach.call(t,function(e){e.removeAttribute("data-invalid"),e.removeAttribute("data-valid")})},100)}},{key:"addError",value:function(e,t,r){if(null==e.parentNode.querySelector('.form-error[data-type="'+r+'"]')){var a=document.createElement("P");a.appendChild(document.createTextNode(t)),a.classList.add("form-error"),a.setAttribute("data-type",r),e.parentNode.appendChild(a)}}},{key:"clearError",value:function(e,t){var r=e.parentNode.querySelector('.form-error[data-type="'+t+'"]');null!=r&&e.parentNode.removeChild(r)}},{key:"validate",value:function(e){var t=this;"undefined"==typeof e||e.currentTarget.hasAttribute("data-reload")||e.preventDefault();var r=!0,a=this.form.querySelectorAll("[data-equal]"),l=this.form.querySelectorAll("[required]"),o=this.form.querySelectorAll('input[type="url"]'),i=this.form.querySelectorAll('input[type="email"]'),n=new RegExp("^(http|https|ftp)://([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&amp;%$-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|([a-zA-Z0-9-]+.)*[a-zA-Z0-9-]+.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(/($|[a-zA-Z0-9.,?'\\+&amp;%$#=~_-]+))*$","i"),u=new RegExp("^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$");[].forEach.call(a,function(e){var a=t.form.querySelector(e.getAttribute("data-equal"));e.value.trim()!=a.value.trim()?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].equal,"equal")):t.clearError(e,"equal")}),[].forEach.call(l,function(e){""===e.value.trim()?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].required,"required")):t.clearError(e,"required")}),[].forEach.call(o,function(e){e.value.trim().length>0&&n.test(e.value.trim())===!1?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].url,"url")):t.clearError(e,"url")}),[].forEach.call(i,function(e){e.value.trim().length>0&&u.test(e.value.trim())===!1?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].email,"email")):t.clearError(e,"email")});var d=Array.prototype.slice.call(a).concat(Array.prototype.slice.call(l),Array.prototype.slice.call(o),Array.prototype.slice.call(i));[].forEach.call(d,function(e){var t=e.parentNode.querySelector(".form-error");if(null!=t){var r=document.createAttribute("data-invalid");r.value=!0,"SELECT"==e.tagName?(e.nextSibling.setAttributeNode(r),e.nextSibling.removeAttribute("data-valid")):(e.setAttributeNode(r),e.removeAttribute("data-valid"))}else{var a=document.createAttribute("data-valid");a.value=!0,"SELECT"==e.tagName?(e.nextSibling.setAttributeNode(a),e.nextSibling.removeAttribute("data-invalid")):(e.setAttributeNode(a),e.removeAttribute("data-invalid"))}});var c=this.form.querySelectorAll(".form_error").length;return c>0&&(r=!1),r===!1&&"undefined"!=typeof e&&e.preventDefault(),r}}]),e}(),t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(function(){var t=document.querySelectorAll("form");[].forEach.call(t,function(t){new e(t)})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxhbmRpbmcvbGFuZGluZy5qcyIsImxheW91dC9sYXlvdXQuanMiLCJsb2dpbi9sb2dpbi5qcyIsInBvcHVwL3BvcHVwLmpzIiwidmFsaWRhdG9yL3ZhbGlkYXRpb24uanMiXSwibmFtZXMiOlsiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCJjb25zb2xlIiwibG9nIiwiTGFuZGdpbmciLCJ0aGlzIiwicmVhZHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImRvY3VtZW50IiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGVuIiwiaW5pdCIsImJpbmQiLCJ2YWx1ZSIsIl90aGlzIiwiZmlyZWQiLCJ0YWJsZXQiLCJtb2JpbGUiLCJtaW5faGVpZ2h0IiwiaGVhZGVyIiwicXVlcnlTZWxlY3RvciIsImNsb2NrIiwiJCIsImZ1bGxwYWdlIiwic2VjdGlvblNlbGVjdG9yIiwibmF2aWdhdGlvbiIsImFmdGVyTG9hZCIsImhpZGVMb2FkZXIiLCJhZnRlclJlbmRlciIsInJlY291bnRTbGlkZXMiLCJhZnRlclJlc2l6ZSIsIm9uTGVhdmUiLCJpbmRleCIsIm5leHRJbmRleCIsImRpcmVjdGlvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImhpZGVOYXYiLCJzaG93TmF2Iiwic2Nyb2xsVG9Ub3AiLCJfdGhpczIiLCJWZWxvY2l0eSIsIm5hdiIsIm9wYWNpdHkiLCJkdXJhdGlvbiIsImNvbXBsZXRlIiwic3R5bGUiLCJkaXNwbGF5IiwiX3RoaXMzIiwiYmVnaW4iLCJnZXRFbGVtZW50QnlJZCIsImZvckVhY2giLCJjYWxsIiwicXVlcnlTZWxlY3RvckFsbCIsInJlc2l6YWJsZSIsInNldEF0dHJpYnV0ZSIsIm9mZnNldEhlaWdodCIsIm9mZnNldFdpZHRoIiwibG9hZGVyIiwib3B0aW9ucyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIl90aGlzNCIsInJlc2l6YWJsZXMiLCJjZW50cmVkcyIsInNlcnZpY2Vfc2xpZGUiLCJzZXJ2aWNlX2lsbHVzdHJhdGlvbiIsImhlYWRlcl9oZWlnaHQiLCJmb290ZXJfaGVpZ2h0Iiwidmlld3BvcnRfaGVpZ2h0IiwidW5kZWZpbmVkIiwidmlld3BvcnRfd2lkdGgiLCJhdmFpbGFiYWxlX3dpZHRoIiwiYXZhaWxhYmFsZV9oZWlnaHQiLCJkZWx0YSIsImNlbGwiLCJzY2FsZSIsInNjYWxlX3giLCJzY2FsZV95Iiwic2xpZGUiLCJib3JkZXJfd2lkdGgiLCJkZWx0YV95IiwidHJfeSIsInRyX3giLCJlbGVtZW50X3dpZHRoIiwiZWxlbWVudF9oZWlnaHQiLCJpbGx1c3RyYXRpb25faGVpZ2h0Iiwid193aWR0aCIsIndfaGVpZ2h0IiwiaV93aWR0aCIsImlfaGVpZ2h0IiwiTWF0aCIsIm1pbiIsInBhcnNlSW50IiwiaGVpZ2h0IiwiYmFja2dyb3VuZFBvc2l0aW9uIiwiY2VudHJlZCIsImNsb3Nlc3QiLCJnZXRBdHRyaWJ1dGUiLCJhZGQiLCJNb2Rlcm5penIiLCJwcmVmaXhlZCIsInJlbW92ZSIsImNvbnRhaW5zIiwiYm9yZGVyTGVmdFdpZHRoIiwibWFyZ2luUmlnaHQiLCJib3JkZXJSaWdodFdpZHRoIiwibWFyZ2luTGVmdCIsInJlbW92ZUF0dHJpYnV0ZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJmbiIsIm1vdmVUbyIsIndpbmRvdyIsIm1vYmlsZUFuZFRhYmxldGNoZWNrIiwiY2hlY2siLCJhIiwidGVzdCIsInN1YnN0ciIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInZlbmRvciIsIm9wZXJhIiwiaXNNb2JpbGUiLCJBbmRyb2lkIiwiQmxhY2tCZXJyeSIsImlPUyIsIldpbmRvd3MiLCJhbnkiLCJMYXlvdXQiLCJib2R5IiwiTWVudSIsImJhY2tfYnV0dG9ucyIsImxvZ2luX2J1dHRvbnMiLCJtb2JpbGVfcG9wdXBfYnV0dG9ucyIsIm1lbnVfcG9wdXBfb3BlbiIsImxvZ2luX2J1dHRvbiIsInJlZ2lzdGVyX2J1dHRvbiIsInN0ZXAxIiwic3RlcDFfZm9ybSIsInN0ZXAyIiwic3RlcDJfZm9ybSIsIm1vYmlsZV9wb3B1cCIsIm1vYmlsZV9wb3B1cF9jbG9zZSIsIndyYXBwZXIiLCJoZWFkZXJfcmVnaXN0ZXJfYnV0dG9uIiwiaGVhZGVyX2xvZ2luX2J1dHRvbiIsInJlY292ZXJ5X2J1dHRvbiIsImxpZ2h0Ym94IiwibG9naW5fcG9wdXAiLCJyZWNvdmVyeSIsInBhc3N3b3JkIiwicmVjb3ZlcnlfZm9ybSIsInBhc3N3b3JkX2Zvcm0iLCJlcnJvcl9tZXNzYWdlIiwiZW1haWwiLCJzdWNjZXNzIiwiY3VycmVudCIsImxhc3QiLCJvcGVuTG9naW5Gb3JtIiwib3BlblJlY292ZXJ5IiwiY2xvc2VBbGwiLCJvcGVuUmVnaXN0ZXIiLCJvcGVuTG9naW5PdXRlciIsIm9wZW5SZWdpc3Rlck91dGVyIiwiY2xvc2VNb2JpbGVQb3B1cCIsInNlbmREYXRhIiwib3Blbk5leHQiLCJyZXBvc1BvcHVwIiwic2VsZWN0MiIsImJ1dHRvbiIsIm9wZW5Nb2JpbGVQb3B1cCIsImdvYmFjayIsIm9wZW5Mb2dpbklubmVyIiwiV2ViUlRDU3VwcG9ydCIsImRvY3VtZW50RWxlbWVudCIsImVsZW1lbnQiLCJmb3JtIiwib3BlbiIsInBvcHVwIiwic2hvd1BvcHVwIiwidmFsaWRhdGUiLCJvcGVuRm9ybSIsInRyYW5zbGF0ZVkiLCJtb2JpbGVfcG9wdXBfYnV0dG9uIiwic2hvdyIsInNldFRpbWVvdXQiLCJjbGljayIsIl90aGlzNSIsIl90aGlzNiIsImN1cnJlbnRUYXJnZXQiLCJET05FIiwiT0siLCJtZXNzYWdlIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJsb2FkZWQiLCJzZW5kIiwiRm9ybURhdGEiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZXNldCIsInN0YXR1cyIsImNvZGUiLCJzdGF0dXNUZXh0IiwiaGFzQXR0cmlidXRlIiwic2hvd0NoZWNrTWVzc2FnZSIsInNob3dTdWNjZXNzTWVzc2FnZSIsInNob3dFcnJvck1lc3NhZ2UiLCJlcnIiLCJyZWFzb24iLCJBcnJheSIsIl90aGlzNyIsInNldEFsbG93U2Nyb2xsaW5nIiwic2V0S2V5Ym9hcmRTY3JvbGxpbmciLCJyaWdodCIsImRvbnRfc2F2ZSIsImNsZWFyIiwicG9wIiwicHVzaCIsIl90aGlzOCIsImNsZWFyQWxsIiwiX3RoaXM5IiwiUG9wdXAiLCJjbG9zZSIsImphbXBpbmciLCJyb3RhdGVYIiwianVtcCIsIlZhbGlkYXRpb24iLCJtZXNzYWdlcyIsImVuIiwicmVxdWlyZWQiLCJlcXVhbCIsInVybCIsInJ1Iiwic2VsZWN0b3JzIiwiZmluZCIsImVycm9ycyIsImZpZWxkcyIsImVycm9yIiwiZmllbGQiLCJ0eXBlIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJ2YWxpZCIsImVxdWFsX2ZpZWxkcyIsInJlcXVpcmVkX2ZpZWxkcyIsInVybF9maWVsZHMiLCJlbWFpbF9maWVsZHMiLCJ1cmxfcmVnZXgiLCJSZWdFeHAiLCJlbWFpbF9yZWdleCIsInRyaW0iLCJhZGRFcnJvciIsImNsZWFyRXJyb3IiLCJhbGxfZmllbGRzIiwic2xpY2UiLCJjb25jYXQiLCJpbnZhbGlkIiwiY3JlYXRlQXR0cmlidXRlIiwidGFnTmFtZSIsIm5leHRTaWJsaW5nIiwic2V0QXR0cmlidXRlTm9kZSIsIl92YWxpZCIsImVycm9yc19jb3VudCIsImZvcm1zIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUlBLFNBQVNBLGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUZoSCxHQUFJQyxjQUFlLFdB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LEdBQVFsUSxTQUFTOEMsaUJBQWlCLFdBQ25DRixRQUFRQyxLQUFLcU4sRUFBTyxTQUFDeEYsR0FDcEIsR0FBSWtELEdBQVdsRCIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zb2xlLmxvZygnbGFuZGluZycpO1xuKGZ1bmN0aW9uKCkge1xuICAgIGNsYXNzIExhbmRnaW5nIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTdGFydCBpbml0aWFsaXphdGlvbiBvbiBkb21sb2FkXG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBsZXQgcmVhZHkgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT0gXCJsb2FkaW5nXCIpIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVhZHkudGhlbih0aGlzLmluaXQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEFkZGluZyBldmVudHMgYW5kIHByb3BlcnRpZXNcbiAgICAgICAgICovXG4gICAgICAgIGluaXQoKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRhYmxldCA9IDEyMDA7XG4gICAgICAgICAgICB0aGlzLm1vYmlsZSA9IDc1MDtcbiAgICAgICAgICAgIHRoaXMubWluX2hlaWdodCA9IDQ1MDtcblxuICAgICAgICAgICAgbGV0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKVxuICAgICAgICAgICAgICAgICwgY2xvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvY2snKTtcblxuICAgICAgICAgICAgJChcIi5sYW5kaW5nXCIpLmZ1bGxwYWdlKHtcbiAgICAgICAgICAgICAgICBzZWN0aW9uU2VsZWN0b3I6IFwiLmxhbmRpbmdfX3NlY3Rpb25cIixcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFmdGVyTG9hZDogdGhpcy5oaWRlTG9hZGVyLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgYWZ0ZXJSZW5kZXI6IHRoaXMucmVjb3VudFNsaWRlcy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIGFmdGVyUmVzaXplOiB0aGlzLnJlY291bnRTbGlkZXMuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICBvbkxlYXZlOiAoaW5kZXgsIG5leHRJbmRleCwgZGlyZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0SW5kZXggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlcl9vcGVuJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlTmF2KCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyX29wZW4nLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd05hdigpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRJbmRleCA9PSA2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9jay5jbGFzc0xpc3QudG9nZ2xlKCdjbG9ja192aXNpYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9jay5jbGFzc0xpc3QudG9nZ2xlKCdjbG9ja192aXNpYmxlJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9fdG9wXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnNjcm9sbFRvVG9wLmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGlkZU5hdiAoKSB7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLm5hdiwgXCJmaW5pc2hcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLm5hdiwge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwXG4gICAgICAgICAgICAgICAgLCBjb21wbGV0ZTogKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNob3dOYXYgKCkge1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5uYXYsIFwiZmluaXNoXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5uYXYsIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMFxuICAgICAgICAgICAgICAgICwgYmVnaW46ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaGlkZUxvYWRlcigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpcmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm5hdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcC1uYXYnKTtcbiAgICAgICAgICAgIHRoaXMuaGlkZU5hdigpO1xuXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlX19yZXNpemFibGUsIC5zbGlkZV9fY2VudHJlZCcpLCAocmVzaXphYmxlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzaXphYmxlLnNldEF0dHJpYnV0ZSgnZGF0YS1oZWlnaHQnLCByZXNpemFibGUub2Zmc2V0SGVpZ2h0KTtcbiAgICAgICAgICAgICAgICByZXNpemFibGUuc2V0QXR0cmlidXRlKCdkYXRhLXdpZHRoJywgcmVzaXphYmxlLm9mZnNldFdpZHRoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaW5pdGlhbCBzaXplOiAnLCBbcmVzaXphYmxlLm9mZnNldEhlaWdodCwgcmVzaXphYmxlLm9mZnNldFdpZHRoXSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGV0IGxvYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXJfX3dyYXBwZXInKSxcbiAgICAgICAgICAgICAgICBwcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxvYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBWZWxvY2l0eShsb2FkZXIsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcmVjb3VudFNsaWRlcygpIHtcblxuICAgICAgICAgICAgbGV0IHJlc2l6YWJsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVfX3Jlc2l6YWJsZScpXG4gICAgICAgICAgICAgICAgLCBjZW50cmVkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZV9fY2VudHJlZCcpXG4gICAgICAgICAgICAgICAgLCBzZXJ2aWNlX3NsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlX3NlcnZpY2UnKVxuICAgICAgICAgICAgICAgICwgc2VydmljZV9pbGx1c3RyYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVfX2lsbHVzdHJhdGlvbicpXG4gICAgICAgICAgICAgICAgLCBoZWFkZXJfaGVpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpLm9mZnNldEhlaWdodFxuICAgICAgICAgICAgICAgICwgZm9vdGVyX2hlaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXInKS5vZmZzZXRIZWlnaHRcbiAgICAgICAgICAgICAgICAsIHZpZXdwb3J0X2hlaWdodFxuICAgICAgICAgICAgICAgICwgdmlld3BvcnRfd2lkdGhcbiAgICAgICAgICAgICAgICAsIGF2YWlsYWJhbGVfd2lkdGhcbiAgICAgICAgICAgICAgICAsIGF2YWlsYWJhbGVfaGVpZ2h0XG4gICAgICAgICAgICAgICAgLCBkZWx0YSA9IDIwXG4gICAgICAgICAgICAgICAgLCBjZWxsXG4gICAgICAgICAgICAgICAgLCBzY2FsZSA9IDFcbiAgICAgICAgICAgICAgICAsIHNjYWxlX3ggPSAxXG4gICAgICAgICAgICAgICAgLCBzY2FsZV95ID0gMVxuICAgICAgICAgICAgICAgICwgaGVhZGVyXG4gICAgICAgICAgICAgICAgLCBzbGlkZVxuICAgICAgICAgICAgICAgICwgYm9yZGVyX3dpZHRoXG4gICAgICAgICAgICAgICAgLCBkZWx0YV95XG4gICAgICAgICAgICAgICAgLCB0cl95XG4gICAgICAgICAgICAgICAgLCB0cl94XG4gICAgICAgICAgICAgICAgLCBlbGVtZW50X3dpZHRoXG4gICAgICAgICAgICAgICAgLCBlbGVtZW50X2hlaWdodFxuICAgICAgICAgICAgICAgICwgaWxsdXN0cmF0aW9uX2hlaWdodFxuICAgICAgICAgICAgICAgICwgd193aWR0aFxuICAgICAgICAgICAgICAgICwgd19oZWlnaHRcbiAgICAgICAgICAgICAgICAsIGlfd2lkdGhcbiAgICAgICAgICAgICAgICAsIGlfaGVpZ2h0O1xuXG5cbiAgICAgICAgICAgIGNlbGwgPSBzZXJ2aWNlX3NsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5mcC10YWJsZUNlbGwnKTtcbiAgICAgICAgICAgIHZpZXdwb3J0X2hlaWdodCA9IE1hdGgubWluKGNlbGwub2Zmc2V0SGVpZ2h0LCBwYXJzZUludChjZWxsLnN0eWxlLmhlaWdodCwgMTApKTtcbiAgICAgICAgICAgIHZpZXdwb3J0X3dpZHRoID0gY2VsbC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIGhlYWRlciA9IHNlcnZpY2Vfc2xpZGUucXVlcnlTZWxlY3RvcignLnNsaWRlX19oZWFkZXInKTtcbiAgICAgICAgICAgIGlsbHVzdHJhdGlvbl9oZWlnaHQgPSAoTWF0aC5taW4oY2VsbC5vZmZzZXRIZWlnaHQsIHBhcnNlSW50KGNlbGwuc3R5bGUuaGVpZ2h0LCAxMCkpIC0gaGVhZGVyLm9mZnNldEhlaWdodCAtIGZvb3Rlcl9oZWlnaHQgLSBoZWFkZXJfaGVpZ2h0KTtcbiAgICAgICAgICAgIHNlcnZpY2VfaWxsdXN0cmF0aW9uLnN0eWxlLmhlaWdodCA9IGlsbHVzdHJhdGlvbl9oZWlnaHQgKyBcInB4XCI7XG5cbiAgICAgICAgICAgIHdfd2lkdGggPSA3MDA7XG4gICAgICAgICAgICB3X2hlaWdodCA9IDU3MDtcbiAgICAgICAgICAgIGlfd2lkdGggPSB2aWV3cG9ydF93aWR0aCoxLjI7XG4gICAgICAgICAgICBpX2hlaWdodCA9IHdfaGVpZ2h0Kmlfd2lkdGgvd193aWR0aDtcblxuICAgICAgICAgICAgaWYgKGlfaGVpZ2h0IDwgaWxsdXN0cmF0aW9uX2hlaWdodCkge1xuICAgICAgICAgICAgICAgIHNlcnZpY2VfaWxsdXN0cmF0aW9uLmNsYXNzTGlzdC50b2dnbGUoJ3NsaWRlX19pbGx1c3RyYXRpb25faGlkZGVuJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNlcnZpY2VfaWxsdXN0cmF0aW9uLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IFwiNTAlIDEwMCVcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaWxsdXN0cmF0aW9uX2hlaWdodCA8IDM3MCkge1xuICAgICAgICAgICAgICAgIHNlcnZpY2VfaWxsdXN0cmF0aW9uLmNsYXNzTGlzdC50b2dnbGUoJ3NsaWRlX19pbGx1c3RyYXRpb25faGlkZGVuJywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlcnZpY2VfaWxsdXN0cmF0aW9uLmNsYXNzTGlzdC50b2dnbGUoJ3NsaWRlX19pbGx1c3RyYXRpb25faGlkZGVuJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNlcnZpY2VfaWxsdXN0cmF0aW9uLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IFwiNTAlIDBcIjtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoY2VudHJlZHMsIChjZW50cmVkKSA9PiB7XG4gICAgICAgICAgICAgICAgc2xpZGUgPSBjZW50cmVkLmNsb3Nlc3QoJy5zbGlkZScpO1xuICAgICAgICAgICAgICAgIGNlbGwgPSBjZW50cmVkLmNsb3Nlc3QoJy5mcC10YWJsZUNlbGwnKTtcblxuICAgICAgICAgICAgICAgIHZpZXdwb3J0X2hlaWdodCA9IE1hdGgubWluKGNlbGwub2Zmc2V0SGVpZ2h0LCBwYXJzZUludChjZWxsLnN0eWxlLmhlaWdodCwgMTApKTtcbiAgICAgICAgICAgICAgICB2aWV3cG9ydF93aWR0aCA9IGNlbGwub2Zmc2V0V2lkdGg7XG5cbiAgICAgICAgICAgICAgICBlbGVtZW50X2hlaWdodCA9IHBhcnNlSW50KGNlbnRyZWQuZ2V0QXR0cmlidXRlKCdkYXRhLWhlaWdodCcpLDEwKTtcblxuICAgICAgICAgICAgICAgIGlmICh2aWV3cG9ydF93aWR0aCA+IDEyMjApe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50X3dpZHRoID0gMTIzMDtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFfeSA9IDE3MDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZpZXdwb3J0X3dpZHRoID4gNzUwKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRfd2lkdGggPSAxMDUwO1xuICAgICAgICAgICAgICAgICAgICBkZWx0YV95ID0gMTcwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRfd2lkdGggPSA0MDA7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRfaGVpZ2h0ID0gOTAwO1xuICAgICAgICAgICAgICAgICAgICBkZWx0YV95ID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhdmFpbGFiYWxlX2hlaWdodCA9IHZpZXdwb3J0X2hlaWdodCAtIGhlYWRlcl9oZWlnaHQgLSBkZWx0YSArIGRlbHRhX3k7XG4gICAgICAgICAgICAgICAgYXZhaWxhYmFsZV93aWR0aCA9IHZpZXdwb3J0X3dpZHRoIC0gNDA7XG5cbiAgICAgICAgICAgICAgICBzY2FsZV94ID0gYXZhaWxhYmFsZV9oZWlnaHQvZWxlbWVudF9oZWlnaHQ7XG4gICAgICAgICAgICAgICAgc2NhbGVfeSA9IGF2YWlsYWJhbGVfd2lkdGgvZWxlbWVudF93aWR0aDtcbiAgICAgICAgICAgICAgICBzY2FsZSA9IE1hdGgubWluKHNjYWxlX3gsIHNjYWxlX3kpO1xuXG4gICAgICAgICAgICAgICAgdHJfeSA9IDA7XG4gICAgICAgICAgICAgICAgdHJfeCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoKGF2YWlsYWJhbGVfaGVpZ2h0IDwgZWxlbWVudF9oZWlnaHQgKSkge1xuICAgICAgICAgICAgICAgICAgICB0cl95ID0gLShlbGVtZW50X2hlaWdodCAtIHZpZXdwb3J0X2hlaWdodCAtIGhlYWRlcl9oZWlnaHQpLzI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAoYXZhaWxhYmFsZV93aWR0aCA8IGVsZW1lbnRfd2lkdGggKVxuICAgICAgICAgICAgICAgICAgICAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAodmlld3BvcnRfd2lkdGggPCAxMjIxKVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgKHZpZXdwb3J0X3dpZHRoID4gNzUwKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyX3kgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0cl94ID0gLShlbGVtZW50X3dpZHRoIC0gdmlld3BvcnRfd2lkdGgpLzI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCh2aWV3cG9ydF93aWR0aCA+IDEyMjEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyX3kgPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCB2aWV3cG9ydF9oZWlnaHQgPCA1ODAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlLmNsYXNzTGlzdC5hZGQoJ3NsaWRlX2hpZGUtY2VudHJlZCcpO1xuICAgICAgICAgICAgICAgICAgICBjZW50cmVkLnN0eWxlW01vZGVybml6ci5wcmVmaXhlZCgndHJhbnNmb3JtJyldID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHNjYWxlIDwgMSApIHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVfaGlkZS1jZW50cmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGNlbnRyZWQuc3R5bGVbTW9kZXJuaXpyLnByZWZpeGVkKCd0cmFuc2Zvcm0nKV0gPSAndHJhbnNsYXRlWCgnK3RyX3grJ3B4KSB0cmFuc2xhdGVZKCcrdHJfeSsncHgpIHNjYWxlKCcgKyBzY2FsZSArICcpJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZV9oaWRlLWNlbnRyZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgY2VudHJlZC5zdHlsZVtNb2Rlcm5penIucHJlZml4ZWQoJ3RyYW5zZm9ybScpXSA9ICd0cmFuc2xhdGVYKCcrdHJfeCsncHgpIHRyYW5zbGF0ZVkoJyt0cl95KydweCknO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwocmVzaXphYmxlcywgKHJlc2l6YWJsZSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgc2xpZGUgPSByZXNpemFibGUuY2xvc2VzdCgnLnNsaWRlJyk7XG4gICAgICAgICAgICAgICAgaGVhZGVyID0gcmVzaXphYmxlLmNsb3Nlc3QoJy5zbGlkZV9fZGV0YWlscycpLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZV9faGVhZGVyJyk7XG4gICAgICAgICAgICAgICAgY2VsbCA9IHJlc2l6YWJsZS5jbG9zZXN0KCcuZnAtdGFibGVDZWxsJyk7XG5cbiAgICAgICAgICAgICAgICB2aWV3cG9ydF9oZWlnaHQgPSBNYXRoLm1pbihjZWxsLm9mZnNldEhlaWdodCwgcGFyc2VJbnQoY2VsbC5zdHlsZS5oZWlnaHQsIDEwKSk7XG4gICAgICAgICAgICAgICAgdmlld3BvcnRfd2lkdGggPSBjZWxsLm9mZnNldFdpZHRoO1xuXG4gICAgICAgICAgICAgICAgZWxlbWVudF9oZWlnaHQgPSBwYXJzZUludChyZXNpemFibGUuZ2V0QXR0cmlidXRlKCdkYXRhLWhlaWdodCcpLDEwKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50X3dpZHRoID0gcGFyc2VJbnQocmVzaXphYmxlLmdldEF0dHJpYnV0ZSgnZGF0YS13aWR0aCcpLDEwKTtcblxuICAgICAgICAgICAgICAgIHNjYWxlX3ggPSBhdmFpbGFiYWxlX2hlaWdodC9lbGVtZW50X2hlaWdodDtcbiAgICAgICAgICAgICAgICBzY2FsZV95ID0gYXZhaWxhYmFsZV93aWR0aC9lbGVtZW50X3dpZHRoO1xuICAgICAgICAgICAgICAgIHNjYWxlID0gTWF0aC5taW4oc2NhbGVfeCwgc2NhbGVfeSk7XG5cblxuICAgICAgICAgICAgICAgIGlmICh2aWV3cG9ydF93aWR0aCA+IHRoaXMubW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRhYmxldCBhbmQgZGVza3RvcCByZXNvbHV0aW9uXG5cbiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmFsZV9oZWlnaHQgPSB2aWV3cG9ydF9oZWlnaHQgLSBoZWFkZXJfaGVpZ2h0IC0gZGVsdGE7XG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJhbGVfd2lkdGggPSB2aWV3cG9ydF93aWR0aC8yIC0gNDA7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NhbGVfeCA9IGF2YWlsYWJhbGVfaGVpZ2h0L2VsZW1lbnRfaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBzY2FsZV95ID0gYXZhaWxhYmFsZV93aWR0aC9lbGVtZW50X3dpZHRoO1xuICAgICAgICAgICAgICAgICAgICBzY2FsZSA9IE1hdGgubWluKHNjYWxlX3gsIHNjYWxlX3kpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBhdmFpbGFiYWxlX2hlaWdodCA8IHRoaXMubWluX2hlaWdodCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUuY2xhc3NMaXN0LmFkZCgnc2xpZGVfaGlkZS1yZXNpemFibGUnKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBzY2FsZSA8IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlX2hpZGUtcmVzaXphYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGUuc3R5bGVbTW9kZXJuaXpyLnByZWZpeGVkKCd0cmFuc2Zvcm0nKV0gPSAnc2NhbGUoJyArIHNjYWxlICsgJyknO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2xpZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdzbGlkZV9yaWdodCcpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJfd2lkdGggPSAocGFyc2VJbnQocmVzaXphYmxlLmdldEF0dHJpYnV0ZSgnZGF0YS13aWR0aCcpLDEwKSsyMCkqc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyLnN0eWxlLmJvcmRlckxlZnRXaWR0aCA9IGJvcmRlcl93aWR0aCArICdweCc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmlld3BvcnRfd2lkdGggPiB0aGlzLnRhYmxldCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFibGV0IHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlLnN0eWxlLm1hcmdpblJpZ2h0ID0gKDIwICsgaGVhZGVyLm9mZnNldFdpZHRoLzIgLSBib3JkZXJfd2lkdGgpICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyX3dpZHRoID0gKHBhcnNlSW50KHJlc2l6YWJsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtd2lkdGgnKSwxMCkrMjApKnNjYWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlci5zdHlsZS5ib3JkZXJSaWdodFdpZHRoID0gYm9yZGVyX3dpZHRoICsgJ3B4JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2aWV3cG9ydF93aWR0aCA+IHRoaXMudGFibGV0ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0YWJsZXQgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGUuc3R5bGUubWFyZ2luTGVmdCA9ICgyMCArIGhlYWRlci5vZmZzZXRXaWR0aC8yIC0gYm9yZGVyX3dpZHRoKSArICdweCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZV9oaWRlLXJlc2l6YWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlci5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1vYmlsZSByZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJhbGVfaGVpZ2h0ID0gdmlld3BvcnRfaGVpZ2h0IC0gaGVhZGVyX2hlaWdodCAtIGhlYWRlci5vZmZzZXRIZWlnaHQgLSA5MCAtIDIwO1xuICAgICAgICAgICAgICAgICAgICBhdmFpbGFiYWxlX3dpZHRoID0gdmlld3BvcnRfd2lkdGggLSA0MDtcblxuICAgICAgICAgICAgICAgICAgICBzY2FsZV94ID0gYXZhaWxhYmFsZV9oZWlnaHQvZWxlbWVudF9oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlX3kgPSBhdmFpbGFiYWxlX3dpZHRoL2VsZW1lbnRfd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlID0gTWF0aC5taW4oc2NhbGVfeCwgc2NhbGVfeSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGF2YWlsYWJhbGVfd2lkdGggPCBlbGVtZW50X3dpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGUuc3R5bGUubWFyZ2luTGVmdCA9IC0gKCgoZWxlbWVudF93aWR0aCAtIGF2YWlsYWJhbGVfd2lkdGgpLzIpIC0gMjApICsgXCJweFwiXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGUuc3R5bGUubWFyZ2luTGVmdCA9ICdhdXRvJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBhdmFpbGFiYWxlX2hlaWdodCA8IHRoaXMubWluX2hlaWdodCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdoaWRkaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5jbGFzc0xpc3QuYWRkKCdzbGlkZV9oaWRlLXJlc2l6YWJsZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHNjYWxlIDwgMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVfaGlkZS1yZXNpemFibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZS5zdHlsZVtNb2Rlcm5penIucHJlZml4ZWQoJ3RyYW5zZm9ybScpXSA9ICdzY2FsZSgnICsgc2NhbGUgKyAnKSc7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlX2hpZGUtcmVzaXphYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGUucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGxldCBjbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9jaycpLFxuICAgICAgICAgICAgLy8gICAgIGNsb2NrX3NsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZwLXNsaWRlc0NvbnRhaW5lcicpLFxuICAgICAgICAgICAgLy8gICAgIHRpdGxlID0gY2xvY2tfc2xpZGUucXVlcnlTZWxlY3RvcignLnNsaWRlX190aXRsZScpLFxuICAgICAgICAgICAgLy8gICAgIHRleHQgPSBjbG9ja19zbGlkZS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVfX3RleHQnKSxcbiAgICAgICAgICAgIC8vICAgICBoZWlnaHQgPSBNYXRoLm1pbihjbG9ja19zbGlkZS5vZmZzZXRIZWlnaHQgLSB0aXRsZS5vZmZzZXRIZWlnaHQgLSB0ZXh0Lm9mZnNldEhlaWdodCArIDkwLCA3MDIpLFxuICAgICAgICAgICAgLy8gICAgIHBlcmMgPSBoZWlnaHQgLyA3MDI7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gaWYgKGNsb2NrX3NsaWRlLm9mZnNldFdpZHRoIDw9IDc1MCkge1xuICAgICAgICAgICAgLy8gICAgIGNsb2NrLnN0eWxlW01vZGVybml6ci5wcmVmaXhlZCgndHJhbnNmb3JtJyldID0gJ3NjYWxlKCcgKyBwZXJjICsgJyknO1xuICAgICAgICAgICAgLy8gICAgIGNsb2NrLnN0eWxlLm1hcmdpbiA9IFwiMCAwIDAgLVwiICsgKGNsb2NrLm9mZnNldFdpZHRoICogcGVyYykgKiAwLjMzICsgXCJweFwiO1xuICAgICAgICAgICAgLy8gICAgIC8vIGNsb2NrLnN0eWxlLmJhY2tncm91bmQgPSAncmVkJztcbiAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgY2xvY2sucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgIH1cblxuICAgICAgICBzY3JvbGxUb1RvcChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2UubW92ZVRvKDEsIDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5ldyBMYW5kZ2luZztcbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnNvbGUubG9nKCdsYXlvdXQnKTtcbihmdW5jdGlvbigpIHtcbiAgICB3aW5kb3cubW9iaWxlQW5kVGFibGV0Y2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNoZWNrID0gZmFsc2U7XG4gICAgICAgIChmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICBpZiAoLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWlub3xhbmRyb2lkfGlwYWR8cGxheWJvb2t8c2lsay9pLnRlc3QoYSkgfHwgLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChhLnN1YnN0cigwLCA0KSkpIGNoZWNrID0gdHJ1ZVxuICAgICAgICB9KShuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgd2luZG93Lm9wZXJhKTtcbiAgICAgICAgcmV0dXJuIGNoZWNrO1xuICAgIH07XG5cbiAgICB3aW5kb3cuaXNNb2JpbGUgPSB7XG4gICAgICAgIEFuZHJvaWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9BbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgQmxhY2tCZXJyeTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL0JsYWNrQmVycnkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgICB9LFxuICAgICAgICBpT1M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9pUGhvbmV8aVBhZHxpUG9kL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgV2luZG93czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL0lFTW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgYW55OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAoaXNNb2JpbGUuQW5kcm9pZCgpIHx8IGlzTW9iaWxlLkJsYWNrQmVycnkoKSB8fCBpc01vYmlsZS5pT1MoKSB8fCBpc01vYmlsZS5XaW5kb3dzKCkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNsYXNzIExheW91dCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU3RhcnQgaW5pdGlhbGl6YXRpb24gb24gZG9tbG9hZFxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgbGV0IHJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9IFwibG9hZGluZ1wiKSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlYWR5LnRoZW4odGhpcy5pbml0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRpbmcgZXZlbnRzIGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqL1xuICAgICAgICBpbml0KCkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5pc01vYmlsZS5BbmRyb2lkKCkpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnYW5kcm9pZCcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuaXNNb2JpbGUuaU9TKCkpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnaW9zJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5tb2JpbGVBbmRUYWJsZXRjaGVjaygpKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ3Vua25vd24tbW9iaWxlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdkZXNrdG9wJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnYW5kcm9pZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5ldyBMYXlvdXQ7XG59KSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zb2xlLmxvZygnTWVudScpO1xuKGZ1bmN0aW9uICgpIHtcbiAgICBjbGFzcyBNZW51IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTdGFydCBpbml0aWFsaXphdGlvbiBvbiBkb21sb2FkXG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IgKCkge1xuICAgICAgICAgICAgbGV0IHJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKT0+IHJlc29sdmUoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlYWR5LnRoZW4odGhpcy5pbml0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRpbmcgZXZlbnRzIGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqL1xuICAgICAgICBpbml0ICgpIHtcbiAgICAgICAgICAgIGxldCBiYWNrX2J1dHRvbnMgPSAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxvZ2luX19iYWNrJylcbiAgICAgICAgICAgICAgICAsIGxvZ2luX2J1dHRvbnMgPSAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxvZ2luX19sb2dpbi1idXR0b24sIC5sb2dpbl9zdWNjZXNzIC5sb2dpbl9fc3VibWl0JylcbiAgICAgICAgICAgICAgICAsIG1vYmlsZV9wb3B1cF9idXR0b25zID0gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1lbnVfX2ludGVycHJldGVyLCAuaGVhZGVyX19pbnRlcnByZXRlcicpO1xuXG4gICAgICAgICAgICB0aGlzLm1lbnVfcG9wdXBfb3BlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLmxvZ2luX2J1dHRvbiA9ICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51X19sb2dpbicpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcl9idXR0b24gPSAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudV9fcmVnaXN0ZXInKTtcblxuICAgICAgICAgICAgdGhpcy5zdGVwMSA9ICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fcmVnaXN0ZXItc3RlcC0xJyk7XG4gICAgICAgICAgICB0aGlzLnN0ZXAxX2Zvcm0gPSAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9yZWdpc3Rlci1zdGVwLTEgZm9ybS5sb2dpbl9fZm9ybScpO1xuICAgICAgICAgICAgdGhpcy5zdGVwMiA9ICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fcmVnaXN0ZXItc3RlcC0yJyk7XG4gICAgICAgICAgICB0aGlzLnN0ZXAyX2Zvcm0gPSAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9yZWdpc3Rlci1zdGVwLTIgZm9ybS5sb2dpbl9fZm9ybScpO1xuXG4gICAgICAgICAgICB0aGlzLm1vYmlsZV9wb3B1cCA9ICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9tb2JpbGUnKTtcbiAgICAgICAgICAgIHRoaXMubW9iaWxlX3BvcHVwX2Nsb3NlID0gICAgICAgdGhpcy5tb2JpbGVfcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZScpO1xuXG4gICAgICAgICAgICB0aGlzLndyYXBwZXIgPSAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51X193cmFwcGVyJyk7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcl9yZWdpc3Rlcl9idXR0b24gPSAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2xpbmtfcmVnaXN0ZXInKTtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyX2xvZ2luX2J1dHRvbiA9ICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fbGlua19sb2dpbicpO1xuICAgICAgICAgICAgdGhpcy5yZWNvdmVyeV9idXR0b24gPSAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fX3Bhc3N3b3JkLXJlY292ZXJ5Jyk7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0Ym94ID0gICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHk+LmxpZ2h0Ym94Jyk7XG4gICAgICAgICAgICB0aGlzLmxvZ2luX3BvcHVwID0gICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9sb2dpbicpO1xuICAgICAgICAgICAgdGhpcy5yZWNvdmVyeSA9ICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fcmVjb3ZlcnknKTtcbiAgICAgICAgICAgIHRoaXMucGFzc3dvcmQgPSAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX3Bhc3N3b3JkJyk7XG4gICAgICAgICAgICB0aGlzLnJlY292ZXJ5X2Zvcm0gPSAgICAgICAgICAgIHRoaXMucmVjb3ZlcnkucXVlcnlTZWxlY3RvcignLmxvZ2luX19mb3JtJyk7XG4gICAgICAgICAgICB0aGlzLnBhc3N3b3JkX2Zvcm0gPSAgICAgICAgICAgIHRoaXMucGFzc3dvcmQucXVlcnlTZWxlY3RvcignLmxvZ2luX19mb3JtJyk7XG4gICAgICAgICAgICB0aGlzLmVycm9yX21lc3NhZ2UgPSAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9lcnJvcicpO1xuICAgICAgICAgICAgdGhpcy5lbWFpbCA9ICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fZW1haWwnKTtcbiAgICAgICAgICAgIHRoaXMuc3VjY2VzcyA9ICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX3N1Y2Nlc3MnKTtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX29wZW4nKTtcbiAgICAgICAgICAgIHRoaXMubGFzdCA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLmxvZ2luX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlbkxvZ2luRm9ybS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMucmVjb3ZlcnlfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUmVjb3ZlcnkuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0Ym94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZUFsbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUmVnaXN0ZXIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcl9sb2dpbl9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Mb2dpbk91dGVyLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5oZWFkZXJfcmVnaXN0ZXJfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUmVnaXN0ZXJPdXRlci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMubW9iaWxlX3BvcHVwX2Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZU1vYmlsZVBvcHVwLmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICB0aGlzLnJlY292ZXJ5X2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5zZW5kRGF0YS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMucGFzc3dvcmRfZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLnNlbmREYXRhLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5zdGVwMV9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMub3Blbk5leHQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLnN0ZXAyX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5zZW5kRGF0YS5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVwb3NQb3B1cC5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgJCgnLmxvZ2luIHNlbGVjdCcpLnNlbGVjdDIoKTtcblxuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKG1vYmlsZV9wb3B1cF9idXR0b25zLCAoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuTW9iaWxlUG9wdXAuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGJhY2tfYnV0dG9ucywgKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZ29iYWNrLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChsb2dpbl9idXR0b25zLCAoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuTG9naW5Jbm5lci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLldlYlJUQ1N1cHBvcnQgPSAhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnbm8tcGVlcmNvbm5lY3Rpb24nKTtcblxuXG4gICAgICAgICAgICBpZighdGhpcy5XZWJSVENTdXBwb3J0KSB7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZm9ybS5sb2dpbl9fZm9ybSBpbnB1dCwgZm9ybS5sb2dpbl9fZm9ybSBidXR0b24sIGZvcm0ubG9naW5fX2Zvcm0gc2VsZWN0JyksIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIixcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtLmxvZ2luX19mb3JtJyksIChmb3JtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uY2xvc2VzdCgnLmxvZ2luJykucXVlcnlTZWxlY3RvcignLnBvcHVwX2Jyb3dzZXInKS5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9icm93c2VyJyksIChwb3B1cCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dQb3B1cChwb3B1cCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBvcGVuTmV4dCAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGVwMV9mb3JtLnZhbGlkYXRlKCkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9wZW5Gb3JtKHRoaXMuc3RlcDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVwb3NQb3B1cCAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmKCF0aGlzLm1lbnVfcG9wdXBfb3Blbil7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tb2JpbGVfcG9wdXAuc3R5bGVbTW9kZXJuaXpyLnByZWZpeGVkKCd0cmFuc2Zvcm0nKV0gPSBcInRyYW5zbGF0ZVkoXCIgKyB0aGlzLm1vYmlsZV9wb3B1cC5vZmZzZXRIZWlnaHQgKyBcInB4KVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvc2VNb2JpbGVQb3B1cCAoKSB7XG4gICAgICAgICAgICBpZighdGhpcy5tZW51X3BvcHVwX29wZW4pe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWVudV9wb3B1cF9vcGVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubW9iaWxlX3BvcHVwLCBcInN0b3BcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLm1vYmlsZV9wb3B1cCwge3RyYW5zbGF0ZVk6IDB9LCAyNTApO1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLm1vYmlsZV9wb3B1cF9idXR0b24sIFwic3RvcFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubW9iaWxlX3BvcHVwX2J1dHRvbiwge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgLCBiZWdpbjogKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9iaWxlX3BvcHVwX2J1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgb3Blbk1vYmlsZVBvcHVwICgpIHtcbiAgICAgICAgICAgIGlmKHRoaXMubWVudV9wb3B1cF9vcGVuKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1lbnVfcG9wdXBfb3BlbiA9IHRydWU7XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubW9iaWxlX3BvcHVwLCBcInN0b3BcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLm1vYmlsZV9wb3B1cCwge3RyYW5zbGF0ZVk6IHRoaXMubW9iaWxlX3BvcHVwLm9mZnNldEhlaWdodCArIFwicHhcIn0sIDI1MCk7XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubW9iaWxlX3BvcHVwX2J1dHRvbiwgXCJzdG9wXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5tb2JpbGVfcG9wdXBfYnV0dG9uLCB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICAsIGNvbXBsZXRlOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2JpbGVfcG9wdXBfYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNob3dQb3B1cCAocG9wdXApIHtcbiAgICAgICAgICAgIGlmIChwb3B1cC5zaG93ICE9IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgcG9wdXAuc2hvdygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuc2hvd1BvcHVwLmJpbmQodGhpcywgcG9wdXApLCA1MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNjcm9sbCB0byBmaXJzdCBzbGlkZSBhbmQgb3BlbiBsb2dpbiBmb3JtXG4gICAgICAgICAqL1xuICAgICAgICBvcGVuTG9naW5PdXRlciAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLm1vdmVUbygxLCAwKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2luX2J1dHRvbi5jbGljaygpO1xuICAgICAgICAgICAgfSwgODAwKVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTY3JvbGwgdG8gZmlyc3Qgc2xpZGUgYW5kIG9wZW4gcmVnaXN0ZXIgZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgb3BlblJlZ2lzdGVyT3V0ZXIgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgJC5mbi5mdWxscGFnZS5tb3ZlVG8oMSwgMCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcl9idXR0b24uY2xpY2soKTtcbiAgICAgICAgICAgIH0sIDgwMClcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2VuZCByZWdpc3RyYXRpb24gZGF0YSBhbmQgc2hvdyBtZXNzYWdlXG4gICAgICAgICAqL1xuICAgICAgICBzZW5kRGF0YSAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBsZXQgZm9ybSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG5cbiAgICAgICAgICAgIGlmIChmb3JtLnZhbGlkYXRlKCkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IERPTkUgPSA0XG4gICAgICAgICAgICAgICAgLCBPSyA9IDIwMFxuICAgICAgICAgICAgICAgICwgbWVzc2FnZVxuICAgICAgICAgICAgICAgICwgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgICAgICAgICAgICAgICAsIGxvYWRlZCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLm9wZW4oJ1BPU1QnLCBmb3JtLmdldEF0dHJpYnV0ZSgnYWN0aW9uJykpO1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2VuZChuZXcgRm9ybURhdGEoZm9ybSkpO1xuICAgICAgICAgICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSBET05FKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvdmVyeV9mb3JtLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IE9LKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogcGFyc2VJbnQoeGhyLnN0YXR1cywgMTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogeGhyLnN0YXR1c1RleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZvcm0uaGFzQXR0cmlidXRlKCdkYXRhLWNoZWNrJykpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IHRoaXMuc2hvd0NoZWNrTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSB0aGlzLnNob3dTdWNjZXNzTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxvYWRlZC50aGVuKG1lc3NhZ2UpLmNhdGNoKHRoaXMuc2hvd0Vycm9yTWVzc2FnZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICAvLyBsb2FkZWQudGhlbihtZXNzYWdlKS5jYXRjaChtZXNzYWdlKTtcblxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yOiAnLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTaG93IGNoZWNrIGVtYWlsIG1lc3NhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHNob3dDaGVja01lc3NhZ2UgKCkge1xuICAgICAgICAgICAgdGhpcy5vcGVuRm9ybSh0aGlzLmVtYWlsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2hvdyBzdWNjZXNzIG1lc3NhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHNob3dTdWNjZXNzTWVzc2FnZSAoKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5Gb3JtKHRoaXMuc3VjY2Vzcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gbG9naW5cbiAgICAgICAgICovXG4gICAgICAgIG9wZW5Mb2dpbklubmVyICgpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbkZvcm0odGhpcy5sb2dpbl9wb3B1cCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNob3cgbWVzc2FnZVxuICAgICAgICAgKi9cbiAgICAgICAgc2hvd0Vycm9yTWVzc2FnZSAocmVhc29uKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3QgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlYXNvbi5jb2RlLCAnUmVzcG9uY2Ugc3RhdHVzIGNvZGU6ICcgKyByZWFzb24uY29kZSArICcuICcgKyByZWFzb24ubWVzc2FnZSArICcuJyk7XG4gICAgICAgICAgICB0aGlzLm9wZW5Gb3JtKHRoaXMuZXJyb3JfbWVzc2FnZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gbGFzdCBwYWdlXG4gICAgICAgICAqL1xuICAgICAgICBnb2JhY2sgKCkge1xuICAgICAgICAgICAgdGhpcy5vcGVuRm9ybSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTaG93IGVtYWlsIHNlbnQgd2FybmluZ1xuICAgICAgICAgKi9cbiAgICAgICAgZW1haWxIYXZlU2VuZCAoKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5Gb3JtKHRoaXMuZW1haWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBPcGVuIHJlZ2lzdGVyIGZvcm1cbiAgICAgICAgICovXG4gICAgICAgIG9wZW5SZWdpc3RlcklubmVyICgpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbkZvcm0odGhpcy5zdGVwMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gcmVnaXN0ZXIgZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgb3BlblJlZ2lzdGVyICgpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Uuc2V0QWxsb3dTY3JvbGxpbmcoZmFsc2UpO1xuICAgICAgICAgICAgJC5mbi5mdWxscGFnZS5zZXRLZXlib2FyZFNjcm9sbGluZyhmYWxzZSk7XG5cbiAgICAgICAgICAgIGxldCBwcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnN0ZXAxLCBwcm9wcywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnN0ZXAxO1xuXG4gICAgICAgICAgICBwcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgYmVnaW46ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlnaHRib3guc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubGlnaHRib3gsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gT3BlbiByZWNvdmVyeSBmb3Jtc1xuICAgICAgICAgKi9cbiAgICAgICAgb3BlblJlY292ZXJ5IChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmKCF0aGlzLldlYlJUQ1N1cHBvcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9wZW5Gb3JtKHRoaXMucmVjb3ZlcnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBPcGVuIHJlY292ZXJ5IGZvcm1zXG4gICAgICAgICAqIEBwYXJhbSBmb3JtIHtub2RlfSBGb3JtIHlvdSB3YW50IHRvIG9wZW5cbiAgICAgICAgICogQHBhcmFtIGJhY2sge25vZGV9IEZvcm0gd2hpY2ggeW91IHdhbnQgdG8gb3BlbiB3aGVuIHVzZXIgcHJlc3MgYmFjaywgYnkgZGVmYXVsdCDigJTCoGxhc3QgZm9ybSBvcGVuZWRcbiAgICAgICAgICovXG4gICAgICAgIG9wZW5Gb3JtIChwb3B1cCwgZG9udF9zYXZlKSB7XG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLnNldEFsbG93U2Nyb2xsaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Uuc2V0S2V5Ym9hcmRTY3JvbGxpbmcoZmFsc2UpO1xuXG4gICAgICAgICAgICBsZXQgZm9ybSA9IHRoaXMuY3VycmVudC5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gICAgICAgICAgICBpZiAoZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e2Zvcm0uY2xlYXIoKTt9LCAyNTApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBvcHVwID09IFwidW5kZWZpbmVkXCIgJiYgdGhpcy5sYXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBwb3B1cCA9IHRoaXMubGFzdC5wb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBvcHVwID09IFwidW5kZWZpbmVkXCIgJiYgdGhpcy5sYXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUFsbCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9udF9zYXZlICE9IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3QucHVzaCh0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3JtID0gcG9wdXAucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICAgICAgICAgICAgaWYgKGZvcm0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGVhcmluZycpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9Pntmb3JtLmNsZWFyKCk7fSwgMjUwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICByaWdodDogLSB0aGlzLmN1cnJlbnQub2Zmc2V0V2lkdGggKyBcInB4XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmN1cnJlbnQsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICByaWdodDogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHBvcHVwLCBwcm9wcywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBwb3B1cDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ2xvc2UgYWxsIGZvcm1zXG4gICAgICAgICAqL1xuICAgICAgICBjbG9zZUFsbCAoKSB7XG5cbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Uuc2V0QWxsb3dTY3JvbGxpbmcodHJ1ZSk7XG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLnNldEtleWJvYXJkU2Nyb2xsaW5nKHRydWUpO1xuXG4gICAgICAgICAgICBsZXQgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAtIHRoaXMuY3VycmVudC5vZmZzZXRXaWR0aCArIFwicHhcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMuY3VycmVudCwgcHJvcHMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0Ym94LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubGlnaHRib3gsIHByb3BzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgdGhpcy5jbGVhckFsbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xlYXJBbGwgKCkge1xuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0nKSwgKGZvcm0pID0+IHtcbiAgICAgICAgICAgICAgICBmb3JtLmNsZWFyKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnLmxvZ2luIHNlbGVjdCcpLnNlbGVjdDIoXCJkZXN0cm95XCIpO1xuICAgICAgICAgICAgJCgnLmxvZ2luIHNlbGVjdCcpLnNlbGVjdDIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gT3BlbiBsb2dpbiBwb3B1cFxuICAgICAgICAgKi9cbiAgICAgICAgb3BlbkxvZ2luRm9ybSAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Uuc2V0QWxsb3dTY3JvbGxpbmcoZmFsc2UpO1xuICAgICAgICAgICAgJC5mbi5mdWxscGFnZS5zZXRLZXlib2FyZFNjcm9sbGluZyhmYWxzZSk7XG5cbiAgICAgICAgICAgIGxldCBwcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmxvZ2luX3BvcHVwLCBwcm9wcywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmxvZ2luX3BvcHVwO1xuXG4gICAgICAgICAgICBwcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgYmVnaW46ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlnaHRib3guc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubGlnaHRib3gsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5ldyBNZW51O1xufSkoKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc29sZS5sb2coJ3BvcHVwJyk7XG4oZnVuY3Rpb24gKCkge1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIFBvcHVwXG4gICAgICovXG4gICAgY2xhc3MgUG9wdXAge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEFkZGluZyBldmVudHMgYW5kIHByb3BlcnRpZXNcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvciAocG9wdXApIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXAgPSBwb3B1cDtcbiAgICAgICAgICAgIHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLnBvcHVwLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wb3B1cC5vcGVuID0gdGhpcy5vcGVuLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBvcHVwLnNob3cgPSB0aGlzLnNob3cuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmphbXBpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNob3cgKCkge1xuICAgICAgICAgICAgdGhpcy5wb3B1cC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgdGhpcy5wb3B1cC5zdHlsZVtNb2Rlcm5penIucHJlZml4ZWQoJ3RyYW5zZm9ybScpXSA9IFwicm90YXRlWCgwKVwiO1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaGlkZSAoKSB7XG4gICAgICAgICAgICB0aGlzLnBvcHVwLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuc3R5bGVbTW9kZXJuaXpyLnByZWZpeGVkKCd0cmFuc2Zvcm0nKV0gPSBcInJvdGF0ZVgoMTgwZGVnKVwiO1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIFwic3RvcFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsb3NlICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmphbXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwgXCJmaW5pc2hcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7XG4gICAgICAgICAgICAgICAgcm90YXRlWDogXCIxMjBkZWdcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDBcbiAgICAgICAgICAgICAgICAsIGJlZ2luOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAsIGNvbXBsZXRlOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wZW4gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuamFtcGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cykge1xuICAgICAgICAgICAgICAgIHRoaXMuanVtcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuamFtcGluZyA9IHRydWU7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCBcImZpbmlzaFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtcbiAgICAgICAgICAgICAgICByb3RhdGVYOiBcIjBkZWdcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDBcbiAgICAgICAgICAgICAgICAsIGJlZ2luOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAsIGNvbXBsZXRlOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge3JvdGF0ZVg6IFwiMjBkZWdcIn0sIDE1MCk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIwZGVnXCJ9LCAxMjUpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge3JvdGF0ZVg6IFwiMTBkZWdcIn0sIDIwMCk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIwZGVnXCJ9LCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246MTc1XG4gICAgICAgICAgICAgICAgLCBjb21wbGV0ZTogKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuamFtcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBqdW1wICgpIHtcbiAgICAgICAgICAgIHRoaXMuamFtcGluZyA9IHRydWU7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCBcImZpbmlzaFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtyb3RhdGVYOiBcIjM1ZGVnXCJ9LCAxNTApO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge3JvdGF0ZVg6IFwiMGRlZ1wifSwgMTI1KTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtyb3RhdGVYOiBcIjIwZGVnXCJ9LCAyMDApO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge3JvdGF0ZVg6IFwiMGRlZ1wifSwgMTc1KTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtyb3RhdGVYOiBcIjE1ZGVnXCJ9LCAyNTApO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge3JvdGF0ZVg6IFwiMGRlZ1wifSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMjVcbiAgICAgICAgICAgICAgICAsIGNvbXBsZXRlOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5qYW1waW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG5cbiAgICBsZXQgcmVhZHkgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCk9PiByZXNvbHZlKCkpO1xuICAgIH0pO1xuXG4gICAgcmVhZHkudGhlbigoKT0+e1xuICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX2Jyb3dzZXInKSwgKHBvcHVwKSA9PiB7XG4gICAgICAgICAgICBuZXcgUG9wdXAocG9wdXApO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxufSkoKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzZGVzYyBDbGFzcyByZXByZXNlbnRpbmcgZm9ybSB2YWxpZGF0aW9uXG4gICAgICogQGNsYXNzXG4gICAgICovXG5cbiAgICBjbGFzcyBWYWxpZGF0aW9uIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRpbmcgZXZlbnRzIGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IoZm9ybSkge1xuICAgICAgICAgICAgdGhpcy5mb3JtID0gZm9ybTtcbiAgICAgICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKFwibm92YWxpZGF0ZVwiLCBcIm5vdmFsaWRhdGVcIik7XG4gICAgICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMudmFsaWRhdGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBmb3JtLnZhbGlkYXRlID0gdGhpcy52YWxpZGF0ZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZm9ybS5jbGVhciA9IHRoaXMuY2xlYXIuYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlcyA9IHtcbiAgICAgICAgICAgICAgICBlbjoge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogXCJSZXF1aXJlZCBmaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICwgZW1haWw6IFwiV3JvbmcgZW1haWwgZm9ybWF0XCJcbiAgICAgICAgICAgICAgICAgICAgLCBlcXVhbDogXCJQYXNzd29yZCBmaWVsZHMgc2hvdWxkIGJlIGVxdWFsXCJcbiAgICAgICAgICAgICAgICAgICAgLCB1cmw6IFwiV3JvbmcgdXJsIGZvcm1hdFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICwgcnU6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFwi0J/QvtC70LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3QviDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y9cIlxuICAgICAgICAgICAgICAgICAgICAsIGVtYWlsOiBcItCf0YDQvtCy0LXRgNGM0YLQtSDRhNC+0YDQvNCw0YIgZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICAsIGVxdWFsOiBcItCf0LDRgNC+0LvQuCDQtNC+0LvQttC90Ysg0YHQvtCy0L/QsNC00LDRgtGMXCJcbiAgICAgICAgICAgICAgICAgICAgLCB1cmw6IFwi0J/RgNC+0LLQtdGA0YzRgtC1INGE0L7RgNC80LDRgiBVUkxcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmVzZXQgZm9ybSBhbmQgY2xlYXIgZXJyb3JzXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhciAoKSB7XG4gICAgICAgICAgICB0aGlzLmZvcm0ucmVzZXQoKTtcbiAgICAgICAgICAgIGxldCBzZWxlY3RvcnMgPSAkKHRoaXMuZm9ybSkuZmluZCgnc2VsZWN0Jyk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RvcnMuc2VsZWN0MihcImRlc3Ryb3lcIik7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3JzLnNlbGVjdDIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgIGxldCBlcnJvcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybS1lcnJvcicpLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS12YWxpZF0sIFtkYXRhLWludmFsaWRdJyk7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZXJyb3JzLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZmllbGRzLCAoZmllbGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWludmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXZhbGlkJyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0sMTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlIGVycm9yIG1lc3NhZ2UgYWZ0ZXIgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgLSBlbGVtZW50LCBhZnRlciB3aGljaCB3ZSB3aWxsIGFkZCBlcnJvciBtZXNzYWdlXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIC0gZXJyb3IgbWVzc2FnZVxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwcGUgLSBlcnJvciB0eXBlXG4gICAgICAgICAqL1xuICAgICAgICBhZGRFcnJvcihlbGVtZW50LCBtZXNzYWdlLCB0eXBlKSB7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmZvcm0tZXJyb3JbZGF0YS10eXBlPVwiJyArIHR5cGUgKyAnXCJdJykgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBlcnJvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1AnKTtcbiAgICAgICAgICAgIGVycm9yLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgIGVycm9yLmNsYXNzTGlzdC5hZGQoJ2Zvcm0tZXJyb3InKTtcbiAgICAgICAgICAgIGVycm9yLnNldEF0dHJpYnV0ZSgnZGF0YS10eXBlJywgdHlwZSk7XG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBSZW1vdmUgZXJyb3IgbWVzc2FnZSBvZiBzb21lIHR5cGUgYWZ0ZXIgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgLSBlbGVtZW50LCBhZnRlciB3aGljaCBlcnJvciBtZXNzYWdlIGlzXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBwZSAtIGVycm9yIHR5cGVcbiAgICAgICAgICovXG4gICAgICAgIGNsZWFyRXJyb3IoZWxlbWVudCwgdHlwZSkge1xuXG4gICAgICAgICAgICBsZXQgZXJyID0gZWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWVycm9yW2RhdGEtdHlwZT1cIicgKyB0eXBlICsgJ1wiXScpO1xuICAgICAgICAgICAgaWYgKGVyciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFZhbGlkYXRlIGZvcm1cbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBzdWJtaXQgZXZlbnRcbiAgICAgICAgICogQHRvZG8gSW1wbGVtZW50IGxvZ2luIHZhbGlkYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIHZhbGlkYXRlKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ICE9IFwidW5kZWZpbmVkXCIgJiYgIWV2ZW50LmN1cnJlbnRUYXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLXJlbG9hZCcpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZhbGlkID0gdHJ1ZSxcbiAgICAgICAgICAgICAgICBuZXh0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBlcXVhbF9maWVsZHMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZXF1YWxdJyksXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRfZmllbGRzID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tyZXF1aXJlZF0nKSxcbiAgICAgICAgICAgICAgICB1cmxfZmllbGRzID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJ1cmxcIl0nKSxcbiAgICAgICAgICAgICAgICBlbWFpbF9maWVsZHMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImVtYWlsXCJdJyksXG4gICAgICAgICAgICAgICAgdXJsX3JlZ2V4ID0gbmV3IFJlZ0V4cChcIl4oaHR0cHxodHRwc3xmdHApXFw6Ly8oW2EtekEtWjAtOVxcLlxcLV0rKFxcOlthLXpBLVowLTlcXC4mYW1wOyVcXCRcXC1dKykqQCkqKCgyNVswLTVdfDJbMC00XVswLTldfFswLTFdezF9WzAtOV17Mn18WzEtOV17MX1bMC05XXsxfXxbMS05XSlcXC4oMjVbMC01XXwyWzAtNF1bMC05XXxbMC0xXXsxfVswLTldezJ9fFsxLTldezF9WzAtOV17MX18WzEtOV18MClcXC4oMjVbMC01XXwyWzAtNF1bMC05XXxbMC0xXXsxfVswLTldezJ9fFsxLTldezF9WzAtOV17MX18WzEtOV18MClcXC4oMjVbMC01XXwyWzAtNF1bMC05XXxbMC0xXXsxfVswLTldezJ9fFsxLTldezF9WzAtOV17MX18WzAtOV0pfChbYS16QS1aMC05XFwtXStcXC4pKlthLXpBLVowLTlcXC1dK1xcLihjb218ZWR1fGdvdnxpbnR8bWlsfG5ldHxvcmd8Yml6fGFycGF8aW5mb3xuYW1lfHByb3xhZXJvfGNvb3B8bXVzZXVtfFthLXpBLVpdezJ9KSkoXFw6WzAtOV0rKSooLygkfFthLXpBLVowLTlcXC5cXCxcXD9cXCdcXFxcXFwrJmFtcDslXFwkI1xcPX5fXFwtXSspKSokXCIsIFwiaVwiKSxcbiAgICAgICAgICAgICAgICBlbWFpbF9yZWdleCA9IG5ldyBSZWdFeHAoXCJeKFthLXpBLVowLTlfXFwuXFwtXSkrXFxAKChbYS16QS1aMC05XFwtXSkrXFwuKSsoW2EtekEtWjAtOV17Miw0fSkrJFwiKTtcblxuICAgICAgICAgICAgLyogY2hlY2sgZXF1YWwgZmllbGRzICovXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZXF1YWxfZmllbGRzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBlcXVhbCA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1lcXVhbFwiKSk7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudmFsdWUudHJpbSgpICE9IGVxdWFsLnZhbHVlLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEVycm9yKGVsZW1lbnQsIHRoaXMubWVzc2FnZXNbZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnbGFuZycpXS5lcXVhbCwgXCJlcXVhbFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRXJyb3IoZWxlbWVudCwgXCJlcXVhbFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyogY2hlY2sgcmVxdWlyZWQgZmllbGRzICovXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwocmVxdWlyZWRfZmllbGRzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEVycm9yKGVsZW1lbnQsIHRoaXMubWVzc2FnZXNbZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnbGFuZycpXS5yZXF1aXJlZCwgXCJyZXF1aXJlZFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRXJyb3IoZWxlbWVudCwgJ3JlcXVpcmVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qIGNoZWNrIHVybCBmaWVsZHMgKi9cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbCh1cmxfZmllbGRzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICgoZWxlbWVudC52YWx1ZS50cmltKCkubGVuZ3RoID4gMCkgJiYgKHVybF9yZWdleC50ZXN0KGVsZW1lbnQudmFsdWUudHJpbSgpKSA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXJyb3IoZWxlbWVudCwgdGhpcy5tZXNzYWdlc1tkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdsYW5nJyldLnVybCwgJ3VybCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJFcnJvcihlbGVtZW50LCAndXJsJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qIGNoZWNrIGVtYWlsIGZpZWxkcyAqL1xuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGVtYWlsX2ZpZWxkcywgKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoKGVsZW1lbnQudmFsdWUudHJpbSgpLmxlbmd0aCA+IDApICYmIChlbWFpbF9yZWdleC50ZXN0KGVsZW1lbnQudmFsdWUudHJpbSgpKSA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXJyb3IoZWxlbWVudCwgdGhpcy5tZXNzYWdlc1tkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdsYW5nJyldLmVtYWlsLCAnZW1haWwnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRXJyb3IoZWxlbWVudCwgJ2VtYWlsJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgbGV0IGFsbF9maWVsZHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlcXVhbF9maWVsZHMpLmNvbmNhdChcbiAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChyZXF1aXJlZF9maWVsZHMpLFxuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHVybF9maWVsZHMpLFxuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGVtYWlsX2ZpZWxkcylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChhbGxfZmllbGRzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBlcnIgPSBlbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmZvcm0tZXJyb3InKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGludmFsaWQgPSBkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoXCJkYXRhLWludmFsaWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGludmFsaWQudmFsdWUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT0gXCJTRUxFQ1RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0U2libGluZy5zZXRBdHRyaWJ1dGVOb2RlKGludmFsaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0U2libGluZy5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtdmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlTm9kZShpbnZhbGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXZhbGlkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWxpZCA9IGRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShcImRhdGEtdmFsaWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PSBcIlNFTEVDVFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm5leHRTaWJsaW5nLnNldEF0dHJpYnV0ZU5vZGUodmFsaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0U2libGluZy5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtaW52YWxpZCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGVOb2RlKHZhbGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWludmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgZXJyb3JzX2NvdW50ID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX2Vycm9yJykubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGVycm9yc19jb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdmFsaWQ7XG5cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgbGV0IHJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICB9KTtcblxuICAgIHJlYWR5LnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBmb3JtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0nKTtcbiAgICAgICAgW10uZm9yRWFjaC5jYWxsKGZvcm1zLCAoZm9ybSkgPT4ge1xuICAgICAgICAgICAgbmV3IFZhbGlkYXRpb24oZm9ybSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9